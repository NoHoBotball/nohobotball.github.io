<!DOCTYPE html>
<html>
  <head>
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="/css/base.css">
    <link type="text/css" rel="stylesheet" href="/css/materialize.min.css" media="screen,projection">
    <link type="text/css" rel="stylesheet" href="/css/docs.css">
    <link type="text/css" rel="stylesheet" href="/css/prism.css">
    <link rel="icon" href="../imgs/logos/botguy.png">
    <title>Botball Documentation - Tutorial</title>
    <meta name="theme-color" content="#00796b">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="/js/materialize.min.js"></script>
    <script type="text/javascript" src="/js/prism.js"></script>
    <script>
      $(document).ready(function () {
      $('.button-collapse').sideNav({
      draggable: true
      });
      $('.active').parent().parent().siblings()[0].click() })
    </script>
    <header>
      <ul class="side-nav fixed" id="slide-out">
        <li class="lighten-1 red" style="height: 130px;">
          <div class="userView">
            <h5 class="white-text"><a class="white-text" href="/docs/index.html">Index</a></h5>
          </div>
        </li>
        <li><a href="/docs/tutorial.html">Tutorial</a></li>
        <li class="no-padding">
          <ul class="collapsible collapsible-accordion">
            <li><a class="collapsible-header"><i class="material-icons">arrow_drop_down</i>Data Objects</a>
              <div class="collapsible-body" style="display: block;">
                <ul>
                  <li><a href="/docs/data-objects/index.html">Introduction</a></li>
                  <li><a href="/docs/data-objects/variables.html">Variables</a></li>
                  <li><a href="/docs/data-objects/constants.html">Constants</a></li>
                  <li><a href="/docs/data-objects/data-types.html">Data Types</a></li>
                  <li><a href="/docs/data-objects/arrays.html">Arrays</a></li>
                  <li><a href="/docs/data-objects/structures.html">Structures</a></li>
                  <li><a href="/docs/data-objects/initialization-examples.html">Initialization Examples</a></li>
                </ul>
              </div>
            </li>
            <li><a class="collapsible-header"><i class="material-icons">arrow_drop_down</i>Statements and Expressions</a>
              <div class="collapsible-body" style="display: block;">
                <ul>
                  <li><a href="/docs/statements-and-expressions/index.html">Introduction</a></li>
                  <li><a href="/docs/statements-and-expressions/operators.html">Operators</a></li>
                  <li><a href="/docs/statements-and-expressions/control-flow.html">Control Flow</a></li>
                </ul>
              </div>
            </li>
          </ul>
        </li>
        <li><a href="/docs/style.html">Style</a></li>
        <li><a href="/docs/debugging.html">Debugging</a></li>
        <li class="no-padding">
          <ul class="collapsible collapsible-accordion">
            <li><a class="collapsible-header"><i class="material-icons">arrow_drop_down</i>Printing</a>
              <div class="collapsible-body" style="display: block;">
                <ul>
                  <li><a href="/docs/printing/index.html">Introduction</a></li>
                  <li><a href="/docs/printing/examples.html">Examples</a></li>
                  <li><a href="/docs/printing/printf-codes.html">printf Codes</a></li>
                </ul>
              </div>
            </li>
          </ul>
          <ul class="collapsible collapsible-accordion">
            <li><a class="collapsible-header"><i class="material-icons">arrow_drop_down</i>Preprocessor</a>
              <div class="collapsible-body" style="display: block;">
                <ul>
                  <li><a href="/docs/preprocessor/index.html">Introduction</a></li>
                  <li><a href="/docs/preprocessor/directives.html">Directives</a></li>
                  <li><a href="/docs/preprocessor/include.html">Include</a></li>
                  <li><a href="/docs/preprocessor/macros.html">Macros</a></li>
                  <li><a href="/docs/preprocessor/conditional-compilation.html">Conditional Compilation</a></li>
                </ul>
              </div>
            </li>
          </ul>
        </li>
        <li><a href="/docs/lib/math.html">Math Library</a></li>
        <li class="no-padding">
          <ul class="collapsible collapsible-accordion">
            <li><a class="collapsible-header"><i class="material-icons">arrow_drop_down</i>KIPR Wallaby/Link</a>
              <div class="collapsible-body" style="display: block;">
                <ul>
                  <li><a href="/docs/lib/kipr/common-functions.html">Common Functions</a></li>
                  <li><a href="/docs/lib/kipr/functions.html">Functions List</a></li>
                  <li><a href="/docs/lib/kipr/camera.html">Camera Functions</a></li>
                  <li><a href="/docs/lib/kipr/graphics.html">Graphics Functions</a></li>
                  <li><a href="/docs/lib/kipr/depth.html">Depth Sensor Functions</a></li>
                  <li><a href="/docs/lib/kipr/usb.html">File I/O Functions</a></li>
                </ul>
              </div>
            </li>
          </ul>
          <ul class="collapsible collapsible-accordion">
            <li><a class="collapsible-header"><i class="material-icons">arrow_drop_down</i>iRobot Create</a>
              <div class="collapsible-body" style="display: block;">
                <ul>
                  <li><a href="/docs/lib/kipr/create/index.html">Introduction</a></li>
                  <li><a href="/docs/lib/kipr/create/serial.html">Serial Functions</a></li>
                  <li><a href="/docs/lib/kipr/create/configuration.html">Configuration Functions</a></li>
                  <li><a href="/docs/lib/kipr/create/movement.html">Movement Functions</a></li>
                  <li><a href="/docs/lib/kipr/create/sensors.html">Sensor Functions</a></li>
                  <li><a href="/docs/lib/kipr/create/battery.html">Battery Functions</a></li>
                  <li><a href="/docs/lib/kipr/create/built-ins.html">Built-In Functions</a></li>
                  <li><a href="/docs/lib/kipr/create/music-leds.html">LED and Music Functions</a></li>
                </ul>
              </div>
            </li>
          </ul>
        </li>
        <li><a href="/docs/lib/kipr/botball.html">Botball Functions</a></li>
        <li><a href="/docs/lib/kipr/threads.html">Threads</a></li>
        <li class="no-padding">
          <ul class="collapsible collapsible-accordion">
            <li><a class="collapsible-header"><i class="material-icons">arrow_drop_down</i>Motors and Sensors</a>
              <div class="collapsible-body" style="display: block;">
                <ul>
                  <li><a href="/docs/lib/kipr/info/digital-analog-sensors.html">Analog and Digital Sensors</a></li>
                  <li><a href="/docs/lib/kipr/info/usb-sensors.html">USB Sensors</a></li>
                  <li><a href="/docs/lib/kipr/info/motors-servos.html">Motors and Servos</a></li>
                  <li><a href="/docs/lib/kipr/info/simulator.html">Simulator</a></li>
                </ul>
              </div>
            </li>
          </ul>
        </li>
        <li class="active"><a href="/docs/full.html">Full Documentation</a></li>
      </ul>
      <nav class="nav-extended lighten-2 red">
        <div class="nav-wrapper">
          <div class="col s12"><a class="button-collapse" href="#" data-activates="slide-out" style="font-size: 50px;"><i class="material-icons">menu</i></a><a class="brand-logo waves-effect" id="top" href="/docs/index.html">Botball Documentation</a></div>
        </div>
        <div class="nav-wrapper">
          <div class="col s12"><a class="breadcrumb" href="#!">Full</a>
          </div>
        </div>
      </nav>
    </header>
    <main class="row">
      <div class="container col s12">
        <!-- Programming in C--><a name="CProgramming"></a>
        <h2>Programming in C</h2>
        <p>Following a Quick C Tutorial introduction, more detailed sections are provided which describe</p>
        <ul>
          <li><a href="#Data_Objects">C data objects</a> including variables, constants, data types, pointers, arrays, and structures</li>
          <li><a href="#Statements_and_Expressions">C statements and expressions</a>
             including operators used in expressions and
             control flow statements used to create program logic
          </li>
          <li><a href="#Programming_Style">C Programming style</a> including use of white space, indentation, and comments</li>
          <li><a href="#Program_Debugging">C program debugging</a> to correct syntax and semantic errors, with attention to using <code>printf</code> and commenting out sections of code</li>
          <li><a href="#Display_Screen_Printing">Display screen printing using printf</a>
             including multiple examples using printf
             % codes
          </li>
          <li><a href="#Preprocessor">The C preprocessor</a>
             including
             #include,
             #define, macros, and conditional compilation
          </li>
          <li><a href="#C_Math_Library">C math library</a> descriptions of math functions commonly used with the KIPR Robot Controller</li>
        </ul>
        <p>
          The C programming information provided is sufficient for most purposes, but a C programming reference such as those
          noted above should be consulted where more detail is needed or where elements of C not covered (such as functions
          with a variable number of parameters or function pointers) are needed to solve some programming issue.
        </p>
        <!-- A Quick C Tutorial--><a name="A_Quick_C_Tutorial"></a>
        <h2>A Quick C Tutorial</h2>
        <p>
          A C program consists of one or more function definitions along with user specified data structures, and typically utilizes
          pre-compiled code from function libraries. To be a C program, one of the functions must be named <code>main</code>.
        </p>
        <p>The following is a simple C program which has a single defined function named <code>main</code>
           and which utilizes
           the library function <code>printf</code>. A C function returns a value whose type needs to be specified. As a C function <code>main</code> is defined by first declaring its return data type followed by its name ( <code>main</code>
          ) and
           argument list in parentheses (empty in this case), after which the program code for the function is given in curly
           braces ( <code>{}</code>
          ). Comments are normally included to document the function's purpose and expected behavior,
           and are ignored in the compilation process.
        </p><a name="SimpleProgram"></a>
        <!-- div class="card-panel hoverable tomorrow lighten-2"-->
        <pre><code class="language-clike">/* C Programmer&apos;s Manual 
   Simple example */
int main()
{
  printf(&quot;Hello, world!\n&quot;); // simple example
}</code></pre>
        <!-- /div-->
        <p>Text between <code>/*</code> and <code>*/</code>
           forms what is termed a bracketed comment, which can extend over multiple
           lines. Text that starts with <code>//</code>
           forms a single line comment which continues only to the end of the line.
           Commenting program code is a good habit to form, especially considering it has no impact on program performance.
        </p>
        <p>All C functions must have a return data type. While <code>main</code>
           does not return a value to another function,
           it is expected to return an integer to the operating system (not relevant to this discussion), and so has return
           type
           int. In C, a function does not have to return a value, which is specified by return type
           void.
        </p>
        <p>
          Another common numeric data type is
          double, which represents (double precision) floating point numbers used for non-integer calculation. There
          are additional basic (or <i>ordinal</i>
          ) data types, and user defined data types derived from basic data types may
           also be employed.
        </p>
        <p>
          The Botball, graphics, opencv, stdio, stdlib, math, strings and time libraries are all included in the header in the
          template. The system takes care of the needed
          #include.
        </p>
        <p>The function's name immediately follows the function's return type specification (in this case, <code>main</code>
          ).
           Next, in parentheses, are any arguments (or inputs) to the function. <code>main</code>
           has none, signified by an
           empty set of parentheses.
        </p>
        <p>The open curly-brace ( <code>{</code>
          ) that follows the argument list signifies the start of the actual function code.
           Curly-braces are used to structure a program as blocks of code. For C, so-called "white space" consists of one
           or more of any combination of characters such as spaces, returns, new lines, and tabs, which is collapsed to a
           single generic white space character in compilation. For this reason, white space can be used for things like indentation
           that improve program readability. In particular, the KISS IDE editor automatically applies white space readability
           conventions to enhance files as they are edited.
        </p>
        <p>
          The body of the function consists of a block consisting of a series of C statements. A C statement specifies a data
          structure or some specific action to be taken and is terminated with a semicolon ( <code>;</code>
          ). The simple example
           program has a single statement,
        </p>
        <div class="Indent"><code>printf("Hello, world!\n");</code></div>
        <p>The action this statement specifies is calling the C library <code>printf</code>
           function to format and print the
           message <code>Hello, world!</code>
           to the project target. The
           '\n' directs <code>printf</code>
           to "start a new line" (in effect ending the current line and positioning
           for subsequent printing to start on the next line). When printing reaches the bottom of the KIPR Controller display,
           any additional lines printed cause the display to scroll up. Since calling the <code>printf</code>
           function is
           a C statement, it has to be ended with a semicolon ( <code>;</code>
          ). A common error made by beginning C programmers
           is omitting the semicolon that is required to end each statement.
        </p>
        <p>The closing curly-brace ( <code>}</code>) for the <code>main</code> function's block structure concludes its definition.</p>
        <p>If the compiler issues a warning that <code>printf</code>
           is being used with an implicit declaration, then prefacing
           the program code with the preprocessor directive
        </p>
        <div class="Indent">#include &lt;stdio.h&gt;</div>
        <p>will ensure that the C preprocessor includes the declaration in preparing the code for compilation.</p>
        <p>As a second example exhibiting features of C, the following program code defines a function named <code>square</code>
           which returns the mathematical square of an integer. In this case the function does not represent a complete
           C program, since a function named <code>main</code> for using it has not been defined yet.
        </p>
        <pre><code class="language-clike">int square(int n)
{
    return n * n;
}</code></pre>
        <p>
          The function is declared with return type
          int, which means that it will return an integer value.
        </p>
        <p>The function name ( <code>square</code>
          ) is followed by its argument list in parentheses, where arguments are separated
           by commas if there are more than one (there is only one in this case). The argument for <code>square</code>
           is
           specified to be an integer and is named <code>n</code>
          . The data type for each argument is declared in the same
           manner as declaring the return data type of the function or the data type for a variable.
        </p>
        <p>
          When a function declaration specifies arguments, the variable names representing the arguments are local to the
          function, or stated another way, they are valid only within the "scope" of the function (they only have meaning
          within the function's block of code). For this reason, variable names used within the scope of a function will
          not cause a semantic conflict should their names duplicate those local to some other function.
        </p>
        <p>The "scope" for the function <code>square</code>
           is what takes place within the block structure defining
           its actions (i.e., the contents within the curly braces surrounding its program statements). In this case, the
           function's actions consist of a single statement; namely, the
           return statement. The action of the
           return statement is to exit the function, assigning the function's return value to be what is specified
           by the <code>return</code> statement, in this case the result of the computation <code>n * n</code>.
        </p>
        <p>
          Except where grouped by parentheses, expressions are evaluated according to a set of precedence rules associated
          with the various operators used within the expression. In this case, only the multiplication operator <code>*</code> is employed, so operator precedence is not an issue.
        </p>
        <p>For a third example, the following program code defines a function which performs a function call to the <code>square</code> program.</p>
        <pre><code class="language-clike">#include &lt;math.h&gt;
double hypotenuse(int a, int b)
{
    double h;
    h = sqrt(square(a) + square(b));
    return(h);
}</code></pre><br>
        <p>
          The argument list for this function has two arguments, each with integer data type. Additionally, its block structure
          includes a statement specifying a "working variable" <code>h</code>. The data type for <code>h</code>
           is given
           as floating point, since the C library function <code>sqrt</code>
           returns a floating point argument. If its data
           type was specified to be integer, the fractional part of any floating point number assigned to it would be lost.
           In general, as is the case for <code>h</code>
          , any local variables used within a program block (indicated by
           a set of curly braces) are specified at the beginning of the block.
        </p>
        <p>The value assigned to <code>h</code> is the value returned by calling the <code>sqrt</code>
           function from the C
           math library and which calculates the mathematical square root of its argument. <code>sqrt</code>
           is a built-in
           C function that takes a floating point number as its argument. For any KISS IDE target,
           #include &lt;math.h&gt; is needed when using functions from the math library.
        </p>
        <p>The <code>hypotenuse</code> function uses the <code>square</code> function defined earlier. The <code>sqrt</code> function is specified to have a floating point argument. So what happens if <code>sqrt</code>
           is called with
           an integer argument instead of floating point? Answer: C will automatically coerce the integer to a floating
           point value (which uses a format involving both an exponent and a mantissa). If C's automatic coercion does the
           "wrong" thing, it can be bypassed by specifying how the value is to be coerced, which is accomplished by preceding
           it with the data type in parentheses into which it is to be converted; e.g., <code>(double)(square(a) + square(b))</code>.
        </p>
        <p>The <code>hypotenuse</code> function concludes by returning the value of <code>h</code>.</p>
        <p>The functions <code>square</code> and <code>hypotenuse</code> still do not constitute a program since a <code>main</code> function that uses them still needs to be defined. A complete program using these two functions follows:</p><a name="HypotenuseSquare"></a>
        <pre><code class="language-clike">/* Extended example: C Programmer&apos;s Manual */
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
int square(int n);
double hypotenuse(int a, int b);
int main()
{
    printf(&quot;Hypotenuse of a 3,4 right triangle is %d\n&quot;,(int) hypotenuse(3,4)); // coerce hypotenuse to int
}
int square(int n)
{
    return(n * n);
}
double hypotenuse(int a, int b)
{
    double h;
    h = sqrt(square(a) + square(b));
    return(h);
}</code></pre>
        <p>Program behavior is described by <code>main</code>, which calls the C library function <code>printf</code>
          , which
           in turn calls the function <code>hypotenuse</code> to obtain the parameter value, and <code>hypotenuse</code> in turn calls the function <code>square</code>
           in order to do its calculation. These calls result in the calculation
           and printing of the length (truncated to integer) of the hypotenuse of a right triangle by supplying the lengths
           of its two sides to the <code>hypotenuse</code> function. Note that the floating point value supplied to <code>printf</code> from <code>hypotenuse</code> is coerced to integer data type, since otherwise <code>printf</code>
           will print
           its floating point format as if it were an integer, a semantic error.
        </p>
        <p>The two C statements</p>
        <div class="Indent"><code>int square(int n); <br>double hypotenuse(int a, int b);</code></div>
        <p>provide C "prototype" specifications for the <code>square</code> and <code>hypotenuse</code>
           functions used in
           the program. Similar prototypes need to be supplied for the standard C library's <code>printf</code>
           function
           and the C math library's <code>sqrt</code> function. The preprocessor statements
        </p>
        <div class="Indent"><code>#include &lt;stdio.h&gt;<br>#include &lt;math.h&gt;</code></div>
        <p>
          have the C preprocessor provide the needed prototypes (if not needed for a given KISS IDE target, the preprocessor
          will skip these statements; i.e., it is usually a good habit to put them in anyway). Examples of other commonly
          used system header files are <code>&lt;string.h&gt;</code>, <code>&lt;stdlib.h&gt;</code>, <code>&lt;stdarg.h&gt;</code>, and <code>&lt;time.h&gt;</code>.
        </p>
        <p>
          The declaration of a function's prototype or it's actual definition needs to precede the function's first use in
          program code so that the compiler will be able to correctly translate the statement which calls the function.
          For this example, since the definitions of the <code>square</code> and <code>hypotenuse</code>
           functions follow
           the definition of the <code>main</code> function, their prototype declarations need to be included before the definition of <code>main</code>
          .
           Absent a declaration for a function, the compiler will issue an implicit declaration warning for where it first
           encounters the function, the results from which may be a subsequent compilation error or incorrect results when
           the program is executed.
        </p>
        <p>This concludes the brief C tutorial. </p>
        <!-- Data_Objects-->
        <!-- JJM STARTED UPDATE HERE 2016-01-08--><a name="Data_Objects"></a>
        <h2>Data Objects</h2>
        <p>
          Variables and constants are basic data objects used in a C program. More complex data structures and data types
          based on basic data objects and types can also be defined. Specification statements (such as the one used for
          the variable <code>h</code> in the <code>hypotenuse</code>
           program above) are used to define the variables the programmer
           wants to use in a program. A specification statement may set a variable's initial value as well as specifying
           its data type.
        </p>
        <!-- Variables--><a name="Variables"></a>
        <h3>Variables</h3>
        <p>
          Variable names are formed from combinations of lower case letters, capital letters, the decimal digits (0-9),
          and the underscore character ( <code>'_'</code>
          ). There are two restrictions that must be observed in forming
           the name:
        </p>
        <ul>
          <li>a variable name cannot begin with a decimal digit</li>
          <li>
            a variable name cannot be a keyword such as
            if,
            while, etc.
          </li>
        </ul>
        <p>Variables which are specified as function arguments or which are defined within program blocks are called <i>local</i>
           variables. Their scope is limited to the structure in which they are defined. Variables defined at the same
           level as the <code>main</code>
           function and other functions (i.e., not inside any function's block structure)
           apply across all functions used by the program. These are called <i>global</i>
           variables and are used for
           data structures accessed by more than one function, or for function to function message passing (especially
           for functions operating in parallel threads).
        </p>
        <p>
          Since functions and global variables are defined at the same level, they must have unique names. The name
          of a function or a global variable can be used as the name of a local variable, in which case the local
          use takes precedence; i.e., the scope of the local variable supercedes that of a function or global variable
          with the same name.
        </p>
        <!-- Declaration--><a name="Declaration"></a>
        <div class="Indent">
          <h4>Declaration</h4>
          <p>
            In C, a variable is declared by a specification statement that provides its data type, and optionally its
            initial value. Declarations for global variable are normally grouped before the definition of <code>main</code>
            .
             Declarations for local variables are normally grouped at the beginning of the block structure in which
             they are used. The general form of a variable declaration is one of the following:
          </p>
          <ul>
            <li>&lt;<i>data-type</i>&gt;&lt;<i>variable-name</i>&gt;;</li>
            <li>&lt;<i>data-type</i>&gt;&lt;<i>variable-name</i>
              &gt;=
               &lt;<i>initialization-data</i>&gt;;
            </li>
          </ul>
          <p>&lt;<a href="KIPRLinkManualBody.htm#Data_Types" target="ManualFrame"><i>data-type</i></a>
            &gt; can be a basic (ordinal) data type such as
             int,
             double,
             char, or a composite data type such as a pointer data type or a user-defined data type. User-defined
             data types are based on structures or on enumerated sets. In particular, a
             struct definition creates a user-defined data type
             struct
             &lt;<i>struct-name</i>
            &gt;, typically simplified by using
             typedef to provide the
             struct
            &lt;<i>struct-name</i>
            &gt; data type with a more digestible name. Just as
             struct provides a means for defining a data type based on a structure,
             enum provides a means for defining an enumerated data type based on an enumerated set of names.
            <!-- Local_and_Global_Scopes--><a name="Local_and_Global_Scopes"></a>
          </p>
          <h4>Local and Global Scopes</h4>
          <p>
            If a variable is declared within a function, or as an argument to a function, its binding is local, meaning
            that the variable is available for use only within the context of that function definition. If a variable
            is declared outside of a function, it is a global variable and is available for use within any function
            employed by the program, including functions which are defined in files other than the one in which
            the global variable is declared. If a global variable represents a complex data structure whose definition
            would clutter up the main program file, it is sometimes advantageous to define it in a separate file
            to be included by the C preprocessor in preparing the program code for compilation.
          </p>
          <!-- Variable_Initialization--><a name="Variable_Initialization"></a>
          <h4>Variable Initialization</h4>
          <p>
            The initial value of a local or global variable can optionally be specified in its declaration. If no
            initialization value is given, the value is indeterminate. When a global variable is initialized, the
            initialization value must be a constant. In contrast, local variables may be initialized to the value
            of arbitrary expressions including any global variables, function calls, function arguments, or local
            variables which have already been initialized.
          </p>
          <p>
            The compilation process translates a program into machine executable form, initializing global variables
            within the resulting execute module as specified in global variable declarations. Local variable initialization
            doesn't take place until program execution enters the block in which the local variable is defined.
            The initialization occurs every time program execution enters the block, excepting local variables
            whose declaration is preceded by the word
            static. For a local variable declared to be
            static, initialization only takes place the first time the block defining it is entered. A
            static local variable retains the last value assigned to it whether or not program execution
            is in its block.
          </p>
           When applied at the global level, a
           static specification limits the scope of a global variable or subordinate function to the source
           file in which it is defined. This serves the purpose of allowing a pre-compiled library function to define
           global variables and subordinate functions whose names can be duplicated in a calling program without
           incurring error.
          <p>A small example illustrating initialization of global and local variables follows:</p>
          <pre><code class="language-clike">int cnt=50; // global declaration of cnt as integer; initial value 50
double tmp=100.123; // global declaration of tmp as floating point; initial value 100.123
int function_example()
{
    int x; // local declaration of x as integer; initial value indeterminate 
    double y=tmp; // local declaration of y as floating point; initial value global tmp 
}</code></pre>
          <p>
            To recap, local variables are not initialized until the function containing them is executed. The initial
            value of global variables are part of the compiled version of the program, so global variables revert
            to their initialized value whenever the program is run.
          </p>
          <!-- Constants--><a name="Constants"></a>
          <h3>Constants</h3>
          <div class="indent"><a name="Integer_Constants"></a>
            <h4>
              Integer (
              int) Constants
            </h4>
            <p>
              For most purposes, integer constants are defined using decimal (base 10) integer format. An integer
              of type
              int is normally stored in memory as a 32-bit 2's complement integer, which allows values
              in the range [-2<sup>31</sup>, 2<sup>31</sup>
              -1]. Integer constants can also be defined using hexadecimal
               (base 16) integer format (marked by the prefix " <code>0x</code>
              "), or octal (base 8) integer format
               (marked by the prefix " <code>0</code>
              "), although both are awkward for representing negative numbers.
               For 32-bit two's complement integers, the following are true:
            </p>
            <div class="indent">4053<sub>10</sub> = FD5<sub>16</sub> = 7725<sub>8</sub><br> -1<sub>10</sub> = FFFFFFFF<sub>16</sub> = 37777777777<sub>8</sub>.</div>
            <p>In C notation, these comparisons become</p>
            <div class="indent"><code>4053 == 0xFD5 == 07725</code><br><code>-1 == 0xffffffff == 037777777777</code></div>
            <p>
              which also illustrates each of the three formats. Appending a "u" or "U" to the constant changes
              its value to the range [0, 2<sup>32</sup>-1] rather than [-2<sup>31</sup>, 2<sup>31</sup>
              -1].
               An "unsigned" specification is sometimes needed when data is to be copied to a variable of a
               different type; in particular, 8-bit bytes are treated as unsigned integers.
            </p>
            <p>
              Present day computer memory is normally organized in 8-bit bytes, so hexadecimal pairs are commonly
              used to exhibit the value of bytes in memory. Earlier computer systems used 3-bit groupings
              which were represented using octal digits, explaining why octal representation is included
              as a means for representing integers in C.
            </p>
            <p>
              The number of bits used for representing integers is system dependent, but is typically 32 bits
              for type
              int. The data type
              long int normally specifies a 64-bit integer, and is designated by appending "L" or
              "l" to the integer's representation. For most programming needs, integer type (
              int) constants are sufficient.
            </p>
            <!-- Floating_Point_Constants--><a name="Floating_Point_Constants"></a>
            <h4>
              Floating Point (
              double) constants
            </h4>
            <p>
              Fractions are an extension of the integers, and may be represented using a format termed scientific
              (mantissa, exponent) notation; i.e.,
            </p>
            <div class="indent"><code>0.&lt;<i>mantissa</i>&gt; &times; 10<sup>&lt;<i>exponent</i>&gt;</sup></code></div>
            <p>
              In addition to providing means for representing nominal fractional values, this format allows
              reasonable approximation of astronomically large or infinitesimally small numbers, emphasizing
              magnitude more so than exactness. Since the decimal point for a number such as 123.4567 is
              floated to the front in setting the mantissa and exponent (0.1234567Ã—10<sup>3</sup>
              ),
               the term floating point representation is used.
            </p>
            <p>
              Computer arithmetic is binary rather than decimal, so the exponent and mantissa are represented
              internally as base 2 values. Note that the terminating decimal fraction 0.1<sub>10</sub>
               when
               represented as a binary fraction is non-terminating (0.00011001100110011 ...<sub>2</sub>
              ).
               This illustrates that even in simple cases a floating point value may be an approximation,
               where precision is improved by allowing more bits for the mantissa (double precision doubles
               the number of bits used for the representation from 32 to 64, adding extra bits for both mantissa
               and exponent).
            </p>
            <p>
              A floating point constant can be defined using either ordinary decimal point representation or
              a form of (base 10) scientific notation; for example,
            </p>
            <div class="indent"><code>123.4567 == 12.34567E1 == 1234567e-4 == .1234567e3</code></div>
            <p>
              Since the KIPR Robot Controller does not have floating point operations integrated into its CPU,
              floating point operations are handled by software, making them significantly slower than integer
              operations (although still fast in human terms). Hence, floating point should only be used
              for data that is inherently fractional.
            </p>
            <!-- Characters_and_String_Constants--><a name="Characters_and_String_Constants"></a>
            <h4>Characters and String Constants</h4>
            <p>
              A character constant is given by enclosing the character in single quote marks; e.g.,
              'K'. Characters are internally encoded in 8-bit bytes using ASCII representation (e.g.,
              the internal ASCII representation of
              'K' is the (8-bit) hex pair "4B").
            </p>
            <p>
              A character string constant is a sequence of characters enclosed in quotation marks, e.g.,
              "This is a character string.". C processes a character string as (1-dimensional) array
              delimited by the (unprintable) character constant
              '\0', which marks the end of the string within the array.
            </p>
            <p>
              The character constant
              'K' cannot be used interchangeably with the string constant
              "K" since
              'K' is an 8-bit integer and
              "K" is a 16-bit string whose first 8-bits are the 8-bits for
              'K' and the second 8-bits are the 8-bits for
              '\0'.
            </p>
            <!-- NULL--><a name="NULL"></a>
            <h4>NULL</h4>
            <p>The special constant <code>NULL</code>
               (a preprocessor macro included implicitly, or explicitly
               using
               #include &lt;stio.h&gt;) is provided by the C preprocessor to represent a NULL pointer.
               In general, a pointer represents the location (or address) of a data structure in memory. A
               NULL pointer is one which exists, but which points to nothing.
            </p>
            <p>
              A pointer that hasn't been initialized has no semantic meaning, in contrast to a pointer initialized
              to <code>NULL</code>
              , which points to nothing (think in terms of the empty set used in mathematics).
               To check if a pointer variable is pointing to data you compare its value to <code>NULL</code>
              .
               As an illustration, suppose a linked list data type is defined to have elements with 2 components,
               the first of which provides a data value and the second of which is a pointer to the next logical
               element in the list; e.g., the components for an element in the list might represent a name,
               and a pointer to the element containing the next name in the list in alphabetical order. If
               the list is processed to retrieve the name data in alphabetical order, the last element in
               the list will need to have <code>NULL</code>
               assigned to its pointer since there are no more
               names! <code>NULL</code>
               then provides a (testable) pointer component value that identifies
               the last element in the list.
            </p>
          </div>
          <!-- Data_Types--><a name="Data_Types"></a>
          <h3>Data Types</h3>
          <p>C supports the following data types among others:</p>
          <!-- 32-bit_Integers-->
          <div class="indent"><a name="32-bit_Integers"></a>
            <h4>32-bit Integers</h4>
            <p>
              32-bit integers are signified by the data type indicator
              int. They are signed integers in the (decimal) range -2,147,483,648 to +2,147,483,647.
            </p>
            <!-- 32-bit_Floating_Point_Numbers--><a name="64-bit_Floating_Point_Numbers"></a>
            <h4>64-bit Floating Point Numbers</h4>
            <p>
              Floating point numbers are best specified by the data type indicator
              double. 64-bit floating point numbers have at least 15 decimal digits of precision and range
              from about 10<sup>-308</sup> to 10<sup>308</sup>.
            </p>
            <!-- 8-bit_Characters--><a name="8-bit_Characters"></a>
            <h4>8-bit Characters</h4>
            <p>
              Characters are 8-bit (unsigned) integers signified by the data type indicator
              char. A character's value normally represents a standard ASCII character code, most of which
              are printable.
            </p>
            <!-- Pointers--><a name="Pointers"></a>
            <h4>Pointers</h4>
            <p>
              A C pointer is a 32-bit number representing the address of a byte location in memory. A pointer that
              represents the location in memory where information is stored can be used to manipulate the data
              by performing calculations on the pointer, passing the pointer, or dereferencing the pointer (deference
              means to obtain the value stored at the location).
            </p><a name="Arrays1"></a>
            <h4>Arrays</h4>
            <p>
              An array is a data structure used to store a sequence of homogeneous data elements (each element
              of the array must be of the same data type). Every array has a length which is determined at the
              time the array is declared. The location of an element in an array is given by supplying its index
              in brackets. For example, <code>myarray[3]</code> references the fourth element in an array named <code>myarray</code>
               where indexing starts from 0. By providing the index, data may be stored in
               or retrieved from the array in the same manner as for other variables. By specifying an array whose
               elements are (same-sized) arrays, an array with more than one dimension can be defined.
            </p><a name="Structures1"></a>
            <h4>Structures</h4>
            <p>
              Structures are used to store non-homogenous but related sets of data. Before a structure can be specified,
              its
              struct data type must be defined. Any available data type can be used in its definition,
              including those that are user defined. In contrast to arrays, elements of a structure are referenced
              by name instead of number. For example, if a <code>struct Triangle</code> data type is defined as
            </p>
            <pre><code class="language-clike">struct Triangle {
    double sideA;
    double sideB;
    double sideC;
};</code></pre>
            <p>then <code>struct Triangle x </code> defines a structure named <code>x</code> of data type <code>struct Triangle</code>. If side A for triangle <code>x</code> is needed, it is referenced by name as <code>x.sideA</code>.</p>
            <p>
              Since a function can return a
              struct data type, structures provide a way for a function to return multiple data values.
              Structures can also be useful for reducing the number of arguments passed to functions. More
              importantly, structures provide a means for creating complex data structure representations such
              as directed graphs and linked lists. For these kinds of data structures, the
              struct elements may be dynamically allocated (see <code>malloc</code>
              ) or may be taken
               from an array set up for this purpose that has the same
               struct data type.
            </p><a name="EnumeratedSets"></a>
            <h4>Enumerated Sets</h4>
            <p>
              Enumerated sets are used to associate names with integer values, by default 0,1,2, ... according
              to how many entries are in the set. For example,
            </p>
            <div class="Indent"><code>enum letter {F,D,C,B,A};</code></div>
            <p>specifies an enumerated data type named <code>letter</code>
               with associated names F,D,C,B,A which
               by default correspond to the values 0,1,2,3,4.
            </p>
            <p>For a program, the declaration</p>
            <div class="Indent"><code>enum letter grade;</code></div>
            <p>specifies a variable named <code>grade</code> of type <code>enum letter</code>
              ,
               to which can be assigned any of the names F,D,C,B,A (or equivalently the integer values 0,1,2,3,4).
               For example,
            </p>
            <div class="Indent"><code>grade = C; // same as using grade = 2;</code></div>
            <p>Enumerated sets are particularly useful for <code>switch</code> constructions since cases can be referred to by names rather than values; e.g.,</p>
            <pre>switch(grade) {
case A:
// case action for an A grade
break;
case B:
// case action for an B grade
break;
...</pre> and so forth.
            <p>
              While enumeration names must be distinct, the associated values do not need to be. Note that in
              most instances,
              #define could be used in the same manner intended for enumerated sets, but enumerated
              sets have the advantage of the actual values being generated automatically by default. It also
              needs to be noted that no check is made to see if a value assigned to an enumeration variable
              is valid, which means the program needs to ensure the validity. An invalid value may produce
              an unpredictable outcome; for example, assigning a negative value to the <code>grade</code>
               variable
               above may produce an invalid outcome if the variable is being used in a comparison.
            </p>
          </div>
          <!-- Pointers--><a name="PointersM"></a>
          <h3>Pointers</h3>
          <p>
            A pointer is the (numeric) address of the location in memory where a data element is stored. Memory
            addresses begin at 0 and increase by 1 for each byte of memory. Limited arithmetic operations may
            be performed on pointers, but the value of the resulting pointer depends on the data type pointed
            to. For example, adding 1 to the pointer for a
            char data item increases the pointer value by 1 since that advances the pointer to the next
            character in memory. In contrast, adding 1 to an
            int pointer increases its value by 4 since that advances the pointer to the next integer in
            memory. Using a pointer to try to access memory not allocated to a program will probably cause a
            system error or crash, so it is important to insure that pointers used in a program address valid
            objects in memory.
          </p>
          <p>
            A pointer data type can be defined for any allowed data type, included user-defined data types. When
            used as a unary operator (one argument), <code>*</code>
             is the indirection (or "value at address")
             operator, and is used for defining and dereferencing pointer variables. For example,
          </p>
          <div class="Indent"><code>int *p;</code></div>
          <p>defines <code>p</code> to be a variable whose value is a pointer to a memory location holding an integer.</p>
          <p>When used as a unary operator, <code>&</code>
             is the memory address operator. The address of a variable
             named <code>x</code> is given by <code>&x</code> and so if <code>x</code> is an integer variable,
          </p>
          <div class="Indent"><code>p=&x;</code></div>
          <p>assigns the memory address of variable <code>x</code> to the (integer) pointer variable <code>p</code>.</p>
          <p>Retrieving the value pointed to is known as <i>dereferencing</i> the pointer and is given by <code>*p</code> for pointer variable <code>p</code>. For the example above, both variable <code>x</code> and <code>*p</code> represent the same value in memory. <code>*(p+1)</code>
             retrieves the (integer) value of the next
             integer in memory (which is 4 bytes further along than <code>x</code>
            ). Furthermore, the contents
             of the address can be changed by assigning a value to the dereferenced address; e.g.,
          </p>
          <div class="Indent"><code>*(p+1) = *p + 1;</code></div>
          <p>
            It is often useful to deal with pointers to objects, but great care must be taken to insure that the
            pointers used at any point in your code really do point to valid objects in memory. It is easy to
            get confused by what a pointer is addressing when it is taken from a complex structure with pointers
            to pointers or something similar.
          </p>
          <p>
            Pointers are often used instead of global variables to provide a function with access to data external
            to the function. If a pointer is passed to a function as an argument, the function then has access
            to the memory location for the pointer, which could also represent a local variable external to the
            function. If the function uses the pointer to change the value in the memory location, it will also
            have changed the value of the external local variable.
          </p>
          <p>
            For C, the scope of function parameters is local to the function, with values assigned to them only
            when the function is called. Programming languages typically employ one or more evaluation strategies
            for function parameters. The ones usually cited are <i>call by value</i>, <i>call by reference</i>
            ,
             and<i>call by name</i>.
          </p>
          <ul>
            <li>For <i>call by value</i>
              , the parameter is treated as a local variable initialized using the value
               supplied for the parameter when the function is called. This is the approach used for C.
            </li>
            <li>For <i>call by reference</i>
              , no local version of the parameter is created, which means it represents
               storage for the calling agent, even if the supplied parameter is a constant (i.e., a poorly written
               function could change the value of a constant passed to it by reference, which was a real problem
               for the early programming language FORTRAN). Although C does not use
              <c>
                call by reference in the strict sense, it accomplishes the same objective by use of pointer
                variables as parameters. When a pointer variable is used as a parameter for a function in C,
                by dereferencing the parameter (whose scope is local) the function can access and possibly
                modify the value of an external variable having the same address.
              </c>
            </li>
            <li>For <i>call by name</i>
               the actual name supplied as the parameter is substituted throughout the
               function, much as the C preprocessors does for
               #define macros. <i>Call by name</i> is not supported by C in any meaningful sense.
            </li>
          </ul>
          <!-- Arrays--><a name="Arrays"></a>
          <h3>Arrays</h3>
          <p>
            Arrays can be defined in C for any supported data type, including user defined data types. The name
            of an array is actually a pointer to its first element, the one whose index is 0, so passing an array
            to a function is a call by reference. Multi-dimensional arrays are defined as arrays of arrays (or
            arrays of pointers). Arrays are useful for allocating space for many instances of a given data type,
            arranged sequentially in memory, which provides means for iterating over the set of values in the
            array.
          </p>
          <!-- Declaring_and_Initializing_Arrays--><a name="Declaring_and_Initializing_Arrays"></a>
          <div class="Indent">
            <h4>Declaring and Initializing Arrays</h4>
            <p>
              The definition for an array specifies its data type, name, and index structure, which is given inside
              square brackets. The following statement declares an array of ten integers:
            </p>
            <div class="Indent"><code>int ex_array[10];</code></div>
            <p>
              The elements of the array are numbered from 0 to 9. Elements are accessed by enclosing the index
              number within square brackets; e.g., <code>ex_array[4]</code>
               denotes the fifth element of the
               array <code>ex_array</code> (since counting begins at zero). Note that <code>ex_array == &ex_array[0]</code>.
            </p>
            <p>
              Arrays not initialized at declaration contain indeterminate values. Arrays may be fully or partially
              initialized at declaration by specifying the array elements within curly braces, separating the
              array elements from each other by commas. For example,
            </p>
            <div class="Indent"><code>int ex_array[10]= {3, 4, 5, -8,  17, 301};</code></div>
            <p>initializes the first six elements of <code>ex_array</code>, with <code>ex_array[4]</code> equaling <code>17</code>, <code>ex_array[0]</code> equaling <code>3</code>, etc.</p>
            <p>
              If no size value is specified within the square brackets when the array is declared, but initialization
              information is given, then the size of the array is determined by the number of initialization
              elements given in the declaration. If a size is specified and initialization data is given, but
              the length of the initialization data exceeds the specified length for the array, the excess data
              will be ignored (and the compiler will issue a warning).
            </p>
            <!-- Strings--><a name="CharacterStrings"></a>
            <h4>Character Strings</h4>
            <p>
              Character strings are implemented as arrays of characters. An array of characters can be initialized
              character by character, but can also be initialized by using a string constant, for example:
            </p>
            <div class="Indent"><code>char ex_string[]= &quot;Hello there&quot;;</code></div>
            <p>This initializes the character array <code>ex_string</code>
               with the ASCII values of the characters
               in " <code>Hello there</code>
              " terminated by the (unprintable) ASCII character
               '\0'. The length of the array is 12, which is the number of characters in " <code>Hello there</code>
              "
               plus 1 for the
               '\0' string termination character. If the array length had been declared, the initialization
               would leave the balance of the array indeterminate if more than 12 and truncated (including
               '\0') if less than 12. When a character array containing a string constant is used as an
               argument for <code>printf</code>
              , the format specifier %s marks where to insert the string in the
               formatted output; for example,
            </p>
            <div class="Indent"><code>char ans[10]=&quot;no&quot;;<br>int q=3;<br>     printf(&quot;The answer to %d is %s.\n&quot;,q,ans);</code></div>
            <p>produces the (formatted) output " <code>The answer to 3 is no.</code>".</p>
            <p>The standard C library has string functions for assigning strings ( <code>strcpy</code>
              ), determining
               string length ( <code>strlen</code>), combining strings ( <code>strcat</code>
              ), and the like (look
               for string functions in your C reference). For example,
            </p>
            <div class="Indent"><code>strcpy(s,"Example string");</code></div>
            <p>is used to copy the character string in the second argument of <code>strcpy</code>
               to the character
               array in the first.
            </p>
            <p>
              To make sure that the C preprocessor includes the prototype declarations for the string functions,
              programs that use them normally have the C preprocessor directive
            </p>
            <div class="Indent">#include &lt;string.h&gt;</div>
            <p>
              at the start of the program code. This directive, like the
              #include &lt;stdio.h&gt; directive is ignored if it is issued again elsewhere in the program.
            </p>
            <p>
              When a character array is initialized using the curly braces syntax, unless
              '\0' is included, there is no string delimiter, and printing the array as a character
              string using <code>printf</code>
               will produce indeterminate results. When declaring a character
               array that is intended to hold character strings, the array size needs to be at least 1 larger
               than the size of the maximum string it will be used for to allow for the
               '\0' string termination character. For example, given
            </p>
            <div class="Indent"><code>char pg_string[81];</code></div>
            <p>strings of length up to 80 can be stored in the variable <code>pg_string</code></p>
            <!-- Passing_Arrays_as_Arguments--><a name="Passing_Arrays_as_Arguments"></a>
            <h4>Passing Arrays as Arguments</h4>
            <p>
              When an array is passed to a function as an argument, the address of the array's initial element
              is actually passed, rather than the elements of the array, a call by reference as discussed
              earlier. Hence there is not a local copy of the array inside the function, and any modifications
              the function makes to the array are to its location in memory when declared (what is local
              to the function is the copy of the address of the array's initial element passed as an argument).
            </p>
            <p>
              For a function to be able to treat an argument as an array, the argument has to specify the array's
              data type and index structure.
            </p>
            <p>
              As an example, the following function has arguments for an index and an array, printing the array
              element at the index value.
            </p>
            <pre><code class="language-clike">void print_element(int indx, int arr[])
{
    printf(&quot;Value at index %d is %d\n&quot;, indx, arr[indx]);
}</code></pre>
            <p>The use of the square brackets specifies that the argument is a 1-dimensional array of integers.</p>
            <p>
              Alternatively, since the array name represents a pointer to the first element in the array, the
              function argument could be specified as pointer variable, in which case the square brackets
              would be omitted. In this case, in the body of the function the pointer variable name would
              be used instead of the array name. For example,
            </p>
            <pre><code class="language-clike">void print_element(int indx, int *p)
{
    printf(&quot;Value at index %d is %d\n&quot;, indx, p[indx]);
    // or you could use printf(&quot;Value at index %d is %d\n&quot;, indx, *(p+indx));
}</code></pre>
            <p>Either of the following two example calls to the function will work, whichever of the two versions is used:</p>
            <div class="Indent"><code>    print_element(3, ex_array);<br>
                    print_element(4, &amp;ex_array[0]);
                 </code></div>
            <!-- Multi-dimensional_Arrays--><a name="Multi-dimensional_Arrays"></a>
            <h4>Multi-dimensional Arrays</h4>
            <p>
              A two-dimensional array is just one-dimensional array whose elements are one-dimensional arrays.
              For example
            </p>
            <div class="Indent"><code>int k[2][3];</code></div>
            <p>specifies an array of length 2 whose objects are length 3 arrays integers. <code>k</code>
               can
               be viewed as a two-dimensional array with 2 rows and 3 columns, where the first row has as
               elements <code>k[0][0], k[0][1], k[0][2]</code> and the second the elements <code>k[1][0], k[1][1], k[1][2]</code>. <code>k[0]</code> and <code>k[1]</code>
               represent rows of 3 elements each. Hence, in addition
               to accessing any element of the array using index bracket notation, any row in the array
               can be accessed similarly. Arrays with any number of dimensions can be generalized from this
               example by adding more brackets in the array declaration.
            </p>
            <p>The initialization</p>
            <div class="Indent"><code>int k[2][3] = {{0,1},{3,4,5}};</code></div>
            <p>illustrates initialization of parts of the array, where only <code>k[0][2]</code>
               has not
               been initialized. Conceptually the array is
            </p>
            <div class="Indent"><code>0  1  ?<br>           3  4  5</code></div>
          </div>
          <!-- Structures--><a name="Structures"></a>
          <h3>Structures</h3>
          <p>
            As noted above, structures are used to store non-homogenous but related sets of data. In order to specify
            a structure, a
            struct data type for it must first be defined. Any available data type can be used in the
            structure definition, including those that are user defined. The elements of a structure are referenced
            by name to access them.
          </p>
          <p>
            Since a function can return a
            struct data type, structures also provide a way for a function to return multiple (named)
            data values. However, the primary purpose of structures is to provide a means for creating complex
            data structure representations such as directed graphs and linked lists. In the construction of this
            kind of data structure, structure elements may be dynamically allocated (see <code>malloc</code>
            )
             or alternatively, be taken from an array having the
             struct data type.
          </p>
          <p>
            The following example illustrates structure definition, creation of an array of structures, and access
            to its elements.
          </p><a name="DisplayStructure"></a>
          <pre><code class="language-clike">#include &lt;string.h&gt; // make sure the string function declarations are present
struct ex_stype { // structure definition by struct data type specification 
    int i;      // component is an integer named i
    char s[81]; // component is a string named s
};
void set_ds(int x, char nm[], int i); // function to assign values for the s and i components in structure ds[x]
void show_ds(int x); // function to display the elements of structure ds[x]
struct ex_stype ds[2]; // ds is an array each element of which is an ex_stype structure
int main()
{
    set_ds(0,&quot;one&quot;,1); // assign values to the components of structures ds[0] and ds[1]
    set_ds(1,&quot;two&quot;,2);
    show_ds(0);        // display the components of structures ds[0] and ds[1]
    show_ds(1);
}
void set_ds(int x, char nm[], int i)
{
    ds[x].i=i;            // copy argument i to the i component of structure ds[x]
    strcpy (ds[x].s, nm); // use the string library function strcpy to copy argument nm to the s component of structure ds[x]
}
void show_ds(int x)
{
    printf(&quot;name %d is %s\n&quot;,ds[x].i,ds[x].s);
}</code></pre>
          <p>
            The first part of the example is the specification of the
            struct data type used to define the data structure <code>ds</code> used in the program. The <code>struct ex_stype</code>
             data type specifies a structure with
             an integer component <code>i</code> and a string component <code>s</code>.
          </p>
          <p>A global variable <code>ds</code> is declared as a 2 element array of data type <code>struct ex_stype</code> in the same manner that would be used for any other data type.</p>
          <p>The two functions, <code>set_ds</code> and <code>show_ds</code>
            , illustrate using the dot operator
             ( <code>.</code>
            ) to assign values to the components of a structure and to access the components of
             a structure, respectively. For the declaration of variable <code>sx</code>
          </p>
          <div class="Indent"><code>struct ex_stype sx;</code></div>
          <p>the components of the structure <code>sx</code> are <code>sx.i</code> and <code>sx.s</code>
            . Similarly,
             for the structure in item x of array <code>ds</code>, the components are <code>ds[x].i</code> and <code>ds[x].s</code>
            , where the index in square brackets has to be added to identify which of the
             structures in the array is being accessed.
          </p>
          <p>
            Pointers to
            struct data types can also be used, just like pointers to any other type. When a pointer
            is for a
            struct data type, an "arrow" ( <code>-&gt;</code>
            ) notation can be used to access elements
             of the structure addressed by the pointer; for example,
          </p>
          <pre><code class="language-clike">    struct ex_stype *sptr;
    sptr = &amp;dx;
    sptr-&gt;i = 10;
    strcpy(sptr-&gt;s, &quot;example text&quot;);</code></pre>
          <p>The dot operator can be equivalently used, but has the clumsier notation <code>(*sptr).i</code>
             as
             opposed to <code>sptr <code>-&gt;</code>i</code>.
          </p>
          <p>
            Just as for arrays, only pointers to structures, not the structures themselves, can be passed to
            or returned from functions.
          </p>
          <!-- Complex_Initialization_examples--><a name="Complex_Initialization_examples"></a>
          <h3>Initialization Examples</h3>
          <p>
            Complex data structures formed as arrays or as structures may be initialized upon declaration with
            a sequence of constant values contained within curly braces and separated by commas.
          </p>
          <p>
            Character arrays may also be initialized as a string from a string of characters enclosed in (double)
            quote marks.
          </p>
          <p>
            In initialization of a one dimensional array, the length (inside the square brackets) can be left
            blank, in which case the allocated length is determined by what is assigned to the array. The declaration
            for a multi-dimensional array must specify the size of all dimensions after the first dimension.
            If a length is specified, and initialization data overflows that length, a warning is issued and
            the excess data is ignored. If the initialization data falls short of the specified size the rest
            will be indeterminate.
          </p>
          <p>The following example illustrates a variety of different initializations:</p>
          <pre><code class="language-clike">/* declare global variables of various types */
int i = 50; // single basic variable 
int *ptr = NULL; // single basic pointer variable 
int x=1, y, z=3; // multiple basic variables 
double farr[3]= {1.2, 3.6, 7.4}; // one dimensional array 
int iarr[5]= {1, 3, 7}; // one dimensional array, last 2 indeterminate 
int jarr[]= {2, 4, 6, 8}; // one dimensional array, derived length 4 
char carr[2][3]={{&apos;a&apos;, &apos;b&apos;, &apos;c&apos;}, {&apos;b&apos;, &apos;d&apos;, &apos;f&apos;}}; // two dimensional array 
int xarr[2][5]={{1, 2, 3}, {2, 4, 6}}; // two dimensional array, last 3 rows indeterminate 
int yarr[][2]={{1, 2}, {2, 4}, {3,6}}; // two dimensional array, derived size 3x2 
char c[]=&quot;A B C&quot;; // string, array size 6=5+1 
char sarr[5][10]={&quot;a b c&quot;,&quot;d&quot;,&quot;e f&quot;}; // array of strings, first 6 characters of row 1 initialized, first 2 of row 2, first 4 of row 3, last 2 rows indeterminate 
struct employee {
    char name[31];
    double weight;
    struct employee *nextrec;  // pointer (self-referential) to the struct for another employee 
}
struct employee a_node = {&quot;John Doe&quot;, 165.4, NULL}; // perhaps a linked list node 
struct elist[2] =
    {{&quot;JFK&quot;, 163.1, NULL }, {&quot;LBJ&quot;}}; // not everything has to be initialized 
// example function which declares local variables of various types, initialized from global variables 
int f_locals()
{
    int x = i; // local x, global i (value 50) 
    int y = yarr[2][1]; // local y, global yarr (value 6) 
    int *iptr=&amp;i; // local iptr, address of global i 
    struct employee wx={&quot;Jane Doe&quot;, 115.2, &amp;a_node}; // local struct wx, pointed to global a_node 
    char lc[]=sarr[2]; //  local string lc with initial value &quot;e f&quot; copied from length 4 string stored in sarr[2] 
    . . .
}</code></pre>
          <!-- Statements_and_Expressions--><a name="Statements_and_Expressions"></a>
          <h2>Statements and Expressions</h2>
          <p>
            C has unary operations (one argument), binary operations (2 arguments), and even a ternary operation
            (3 arguments) for performing actions upon data used in a program. Expressions are combinations
            using one or more operations. Statements incorporate expressions, assignments, function calls,
            and control flow constructions to form blocks of code for a C program and are terminated by a semi-colon
            ( <code>;</code>).
          </p>
          <!-- Operators--><a name="Operators"></a>
          <h3>Operators</h3>
          <p>
            Each of the data types has a set of operators for operations that may be performed on expressions
            for that data type (e.g., <code>x + y</code> is an expression).
          </p>
          <!-- Integer_Operations--><a name="Integer_Operations"></a>
          <div class="indent">
            <h4>Integer Operators</h4>
            <p>The following operators are provided for integer data:</p>
            <ul>
              <li>
                <h5>Binary</h5>
                <ul>
                  <li><b>Arithmetic</b>: addition <code>+</code>, subtraction <code>-</code>, multiplication <code>*</code>, division <code>/</code>.</li>
                  <li><b>Relational (comparison)</b>: greater-than <code>&gt;</code>, less-than <code>&lt;</code>, equality <code>==</code>, greater-than-equal <code>&gt;=</code>, less-than-equal <code>&lt;=</code>, modulus <code>%</code>.</li>
                  <li><b>Logical (Boolean)</b>: logical-OR <code>||</code>, logical-AND <code>&&</code>, logical-NOT <code>!</code>.</li>
                  <li><b>Bitwise</b>: bitwise-AND <code>&</code>, bitwise-OR <code>|</code>, bitwise-exclusive-OR <code>^</code>, bitwise-NOT (one's complement) <code>~</code>, left shift <code>&lt;&lt;</code>, right shift <code>&gt;&gt;</code>.</li>
                </ul>
              </li>
              <li>
                <h5>Unary</h5>
                <ul>
                  <li>integer promotion <code>+</code>, additive inverse <code>-</code>, increment (prefix or postfix) <code>++</code>, decrement (prefix or postfix) <code>--</code></li>
                </ul>
              </li>
            </ul>
             In C, an integer used in a Boolean expression represents FALSE if it is 0 and TRUE if it is non-zero. In determining the
             result of the logical operation <code>x && y</code>
            , if x is FALSE, the
             value returned by the operation is FALSE without checking y since logically this is enough to determine
             the result has to be FALSE. Similarly, for <code>x || y</code>
            , if x is TRUE, the value returned
             by the operation is TRUE without checking y since logically that is sufficient for determining
             the result is TRUE. In all other cases, the value for both operands is checked. This can
             be useful if x is being used as a TRUE/FALSE flag where y may initially be invalid when x is FALSE.
            <p>
              Integer promotion is the action of "promoting" an arithmetic operand to a 32 bit integer, similar
              to type casting or coercion. Unlike its counterpart, unary <code>-</code>, it is seldom used.
            </p>
            <!-- Floating_Point_Numbers--><a name="Floating_Point_Numbers"></a>
            <h4>Floating Point Operators</h4>
            <p>The following subset of integer operators are provided for floating point data:</p>
            <ul>
              <li><b>Arithmetic</b>: addition <code>+</code>, subtraction <code>-</code>, multiplication <code>*</code>, division <code>/</code>.</li>
              <li><b>Relational (comparison)</b>: greater-than <code>&gt;</code>, less-than <code>&lt;</code>, equality <code>==</code>, greater-than-equal <code>&gt;=</code>, less-than-equal <code>&lt;=</code>.</li>
            </ul>
            <p>
              For the KIPR Robot Controller, floating point operations are implemented in software, which means they are significantly
              more resource intensive than integer operations. For this reason, floating point values should
              not be substituted for integers in iterative processes (such as a loop counter).
            </p>
            <p>
              There is a large selection of math functions in the C library for performing calculations that
              are inherently floating point. For example,
            </p>
            <pre><code class="language-clike">double a,x,y;
x = sqrt(2); // x is assigned the square of 2
x = log(5);  // x is assigned the base e logarithm of 5
x = log2(8); // x is assigned the base 2 logarithm of 5
x = exp(3);  // x is assigned e cubed
x = exp2(3); // x is assigned 2 cubed
y = pow(x,0.333333); // y is assigned the (approximate) cube root of x
x = sin(3);  // x is assigned the sine of 3 (radians)
a = asin(0.123); // a is assigned the primary angle (in radians) having sine 0.123</code></pre>
            <p>
              There are many more functions in each of these categories, plus functions for other kinds of manipulation of floating point
              data. The section below for <a href="KIPRWallabyManualBody.htm#Functions" target="ManualFrame">KIPR Robot Controller Library Functions</a>
               includes many of these under
               the "Math" category designation.
            </p>
            <!-- Characters--><a name="Characters"></a>
            <h4>Characters</h4>
            <p>
              For C, a character is an 8-bit unsigned integer whose value is one of the 256 ASCII character codes
              (ASCII is the acronym for <i>American Standard Code for Information Interchange</i>
              ). Integer
               operations can be performed on character data since if a character variable is used in an integer
               operation, it is automatically coerced from an 8-bit unsigned integer into a (positive) 32-bit
               integer for the computation. ASCII encodes 0 ... 9 in order, then later A ... Z in order, and
               then later a ... z in order, to enable easy alphabetizing using integer comparison. Adding 32
               to an upper case character will convert it to lower case.
            </p>
            <p>
              When a value is stored into a character variable, it is coerced into an 8-bit character (by truncating
              the upper bits). Since character data occurs in 8-bit bytes, character string data is stored
              in consecutive byte locations in memory; i.e., treating memory as character data provides a means
              to address and step through memory one byte at a time.
            </p>
            <!-- Compound Assignment Operators--><a name="Compound_Assignment_Operators"></a>
            <h4>Compound Assignment Operators</h4>
            <p>The basic assignment operator is <code>=</code>
              . The following statement adds 2 to the value of
               a.
            </p>
            <div class="Indent"><code>a = a + 2;</code></div>
            <p>The compound assignment operator <code>+=</code> does exactly the same thing; i.e.,</p>
            <div class="Indent"><code>a += 2;</code></div>
            <p>All of the following binary operators can be used in a compound assignment:</p>
            <div class="Indent"><code>+, -, *, /, %, &lt;&lt;, &gt;&gt;, &amp;, ^, |</code></div>
            <!-- Increment_and_Decrement_Operators--><a name="Increment_and_Decrement_Operators"></a>
            <h4>Unary Increment and Decrement</h4>
            <p>The increment operator <code>++</code> increments its operand by 1. When used prefix ( <code>++x</code>
              )
               it has a different semantic interpretation then when used postfix ( <code>x++</code>
              ). The simple
               cases
            </p>
            <pre><code class="language-clike">x++;
++x;
x = x + 1;
x+=1;</code></pre>
            <p>are all equivalent.</p> When used in a more complex expression, the value of <code>++x</code> and <code>x</code> change<i>before</i> the result is used in the expression. For <code>x++</code>, the value of <code>x++</code> and <code>x</code> change <i>after</i>
             the result is used in the expression. For example, for
             the following constructions using <code>++x</code> and <code>x++</code>
            <p></p>
            <pre><code class="language-clike">x = 3; printf(&quot;%d  %d\n&quot;, x, ++x);
x = 3; printf(&quot;%d  %d\n&quot;, ++x, x);
x = 3; printf(&quot;%d  %d\n&quot;, x, x++);
x = 3; printf(&quot;%d  %d\n&quot;, x++, x);
x = 3; printf(&quot;%d  %d\n&quot;, x, x+1);</code></pre>
            <p>the displayed text will be</p>
            <div class="Indent"><code> 4  4<br> 4  4<br> 4  3<br> 3  3<br> 3  4</code></div>
            <p>Confusing? To understand this you also have to know the arguments of
              <printf>
                are evaluated from right to left in setting values passed. Here's a (long-winded) explanation
                for how the outcome above is produced by each program line:
                <dl>
                  <dt>Line 1: The <code>++x</code> argument is cleared before values are passed to <code>printf</code> and by incrementing beforehand both argument values are set to 4.</dt>
                  <dt>Line 2: Just as for Line 1, the <code>++x</code>
                     argument is cleared before values
                     are passed to <code>printf</code>.
                    <dt>Line 3: The <code>x++</code> argument is rightmost and gets the current value 3 of <code>x</code> because the increment occurs afterwards. The new value of <code>x</code> (4) then becomes the value used for the <code>x</code> argument.</dt>
                    <dt>Line 4: The <code>x</code> argument is rightmost and has value 3. The <code>x++</code> argument sets the value 3 before it increments. The value of x subsequent to the <code>printf</code> is 4.</dt>
                    <dt>Line 5: This is the most intuitive case, because it doesn't use <code>++</code>
                      ,
                       but notice it also doesn't increment x.
                    </dt>
                  </dt>
                </dl>
                 The difficulty for explaining what appears at first glance to be straight forward code illustrates why the use of these operators
                 in normally limited to the simpler cases.
              </printf>
            </p>
            <p>The interpretation for a combination such as <code>x+++y</code>
               is dependent on the compiler
               being used so such variations are avoided, although not prohibited. [<i>So which is it? <code>(x++)+y</code> or <code>x+(++y)</code>? The answer could be neither!</i>]
            </p>
            <p>The decrement operator <code>--</code>
               decrements its operation by 1. Its semantics mirror
               those of <code>++</code>.
            </p>
            <!-- Data_Access_Operators--><a name="Data_Access_Operators"></a>
            <h4>Data Access Operators</h4>
             Data access operators are ones used to manipulate components of arrays and data structures, or to directly manipulate data
             via memory addresses.
            <ul>
              <li>The unary reference operator ( <code>&</code>
                ) returns the memory address pointing to
                 a variable, array component, structure component, or function regardless of its data type.
              </li>
              <li>The unary dereferencing (or indirection) operator ( <code>*</code>
                ) applied to a pointer accesses
                 the referenced address as an object for the data type of the pointer, either for assigning
                 a value to it, or for utilizing its value.
              </li>
              <li>The array subscript ( <code><code>[ ]</code></code>
                ) brackets operator accesses the component
                 of the array given by the index enclosed within the brackets.
              </li>
              <li>The structure component ( <code>.</code>) dot operator accesses, by name, the specified component.</li>
              <li>The structure dereference ( <code><code>-&gt;</code></code>
                ) arrow operator applied to a pointer
                 to the structure accesses the referenced component (by name) of a structure (for structure <code>ds</code> with component named component <code>i</code>, <code>ds.i</code> and <code>(&amp;ds) <code>-&gt;i</code></code> are equivalent.
              </li>
            </ul>
            <!-- Precedence_and_Order_of_Evaluation--><a name="Precedence_and_Order_of_Evaluation"></a>
            <h4>Precedence and Order of Evaluation</h4>
            <p>
              As per Kernighan and Ritchie's book, the following table summarizes the rules for precedence
              and associativity for the C operators. Operators listed earlier in the table have higher
              precedence; operators on the same line of the table have equal precedence and when used without
              parentheses are cleared left to right.
            </p>
            <div class="Indent">
              <table class="striped">
                <thead>
                  <tr>
                    <td align="center"><b>Operator</b></td>
                    <td><b>Associativity</b></td>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code> () [] -&gt; .</code></td>
                    <td align="center">left to right</td>
                  </tr>
                  <tr>
                    <td><code> ! ~ ++ -- - * &amp; (&lt;</code><i>data-type</i><code>&gt;)  sizeof </code></td>
                    <td align="center">right to left</td>
                  </tr>
                  <tr>
                    <td><code>* / %</code></td>
                    <td align="center">left to right</td>
                  </tr>
                  <tr>
                    <td><code> + -</code></td>
                    <td align="center">left to right</td>
                  </tr>
                  <tr>
                    <td><code> &lt;&lt; &gt;&gt;</code></td>
                    <td align="center">left to right</td>
                  </tr>
                  <tr>
                    <td><code> &lt; &lt;= &gt; &gt;=</code></td>
                    <td align="center">left to right</td>
                  </tr>
                  <tr>
                    <td><code> == !=</code></td>
                    <td align="center">left to right</td>
                  </tr>
                  <tr>
                    <td><code> &</code></td>
                    <td align="center">left to right</td>
                  </tr>
                  <tr>
                    <td><code> ^</code></td>
                    <td align="center">left to right</td>
                  </tr>
                  <tr>
                    <td><code> |</code></td>
                    <td align="center">left to right</td>
                  </tr>
                  <tr>
                    <td><code> &&</code></td>
                    <td align="center">left to right</td>
                  </tr>
                  <tr>
                    <td><code> ||</code></td>
                    <td align="center">left to right</td>
                  </tr>
                  <tr>
                    <td><code> ?:</code></td>
                    <td align="center">right to left</td>
                  </tr>
                  <tr>
                    <td><code> = += -= *= /= %= &amp;= ^= |= &lt;&lt;= &gt;&gt;= </code></td>
                    <td align="center">right to left</td>
                  </tr>
                  <tr>
                    <td><code> ,</code></td>
                    <td align="center">left to right</td>
                  </tr>
                </tbody>
              </table> Unary <code>+, -, </code>and <code>*</code> have higher precedence than their binary forms.
            </div>
          </div>
          <!-- Control_Flow--><a name="Control_Flow"></a>
          <h3>Control Flow</h3>
          <p>
            The order in which a computer executes machine-level operations stored in memory is normally sequential,
            with the exception of those operations which redirect the flow of executrion to continue elsewhere
            in computer memory. This capability is reflected in C programs by control flow statements which
            serve to redirect the sequential step by step flow the program would follow otherwise. There are
            two classes of control flow commands, <i>selection</i> and <i>iteration</i>
            . Selection commands
             use a condition test to determine what statement or block of statements to execute next ( <code>if-else</code>
            ,
             switch, and the ternary operator <code>?:</code>
            ). Iteration commands use a condition test
             to determine how many times to repeat the execution of a statement or block of statements (
             while,
             for, <code>do-while</code>
            ).
             C also provides means for exiting a control flow program structure independent of the condition
             test (
             break) and to skip the rest of a block, continuing to the next iteration (
             continue).
          </p>
          <div class="Indent">
            <!-- Statements_and_Blocks--><a name="Statements_and_Blocks"></a>
            <h4>Statements and Blocks</h4>
            <p>
              Each C statement is terminated by a semicolon. A program block is a sequence of statements grouped
              together inside curly braces. Variables may be defined inside a block and are local to the block
              (their scope does not extend outside of the block). The object for a control flow statement may
              be a single statement or a block of statements, except for <code>?:</code>
              , which as an operator
               applies to expressions rather than statements.
            </p>
            <!-- If-Else--><a name="If-Else"></a>
            <h4>If-Else</h4>
            <p>
              The
              if statement is a selection statement for making yes/no and either/or decisions, For an
              either/or decision, the
              if statement is paired with an
              else statement (which can only be used in a pairing with
              if).
            </p>
            <p>
              The syntax for
              if is
            </p>
            <pre><code class="language-clike">if (&lt;<i>expression</i>&gt;)
    &lt;<i>statement or block</i>&gt;</code></pre>
            <p>
              When paired with
              else the syntax is
            </p>
            <pre><code class="language-clike">if (&lt;<i>expression</i>&gt;)
    &lt;<i>statement or block</i>&gt;
else
    &lt;<i>statement or block</i>&gt;</code></pre>
            <p>When the <code>&lt;</code><i>expression</i><code>&gt;</code>
               evaluates as TRUE (i.e., is
               not equal to zero), then the <code>&lt;</code><i>statement or block</i><code>&gt;</code>
               that follows
               if is executed.
            </p>
            <p>When the <code>&lt;</code><i>expression</i><code>&gt;</code>
               evaluates as FALSE (i.e., is equal
               to 0), then the <code>&lt;</code><i>statement or block</i><code>&gt;</code>
               that follows
               if is not executed and if there is an
               else paired with
               if, then the <code>&lt;</code><i>statement or block</i><code>&gt;</code>
              ; that follows
               else is executed.
            </p>
            <p>
              In effect, these constructions use syntax that corresponds to how similar logic is expressed
              in English, such as
            </p>
            <ul>
              <li>"If the fever is over 100F then schedule a doctor's appointment" (yes/no or do/don't do)</li>
              <li>"If the manuscript is acceptable then pay for it, otherwise return it to the author" (either/or)</li>
            </ul><a name="TernaryOperator"></a>
            <h4>Ternary Operator <code>?:</code></h4>
            <p>The ternary operator <code>?:</code>
               provides a compact means for expressing if-else logic
               where assignment statements are employed as the if-else actions. For example, the following <code>if-else</code>
               construction
               assigns the larger of variables <code>x</code> and <code>y</code> to variable <code>z</code>:
            </p>
            <pre><code class="language-clike">if (x &gt; y)
    z = x;
else
    z = y;</code></pre>
            <p>This same construction can be implemented by using the ternary operator <code>?:</code></p>
            <p></p>
            <div class="Indent"><code>z = (x &gt; y) ? x : y;</code></div>
            <p>The ternary expression is formed from a condition test ( <code>x &lt; y</code>
              ) followed by
               a question mark ( <code>?</code>), then the expression ( <code>x</code>) to assign to <code>z</code> if the condition evaluates as TRUE, separated by a colon ( <code>:</code>
              ) and then the
               expression ( <code>y</code>) to assign to <code>z</code>
               if the condition evaluates as FALSE. Strictly
               speaking, given the low precedence level of the operator, the parentheses around the condition
               could be omitted, but are advisable to facilitate identifying the operator's three operands.
            </p>
            <p>
              ANSI C requires that only the expression whose value is to be assigned to z be evaluated,
              just as in the <code>if-else</code> equivalent. The ternary operator is frequently used for obtaining absolute value; e.g.,
            </p>
            <p></p>
            <div class="Indent"><code>absx = (x &lt; 0) ? -x : x;</code></div>
            <!-- While--><a name="While"></a>
            <h4>While</h4>
            <p>
              The
              while statement in C is the iteration statement most commonly used for managing
              program loops. A <i>loop</i>
               is a sequence of program logic that is repeated multiple times
               (0 or more); for example,, a loop might be used to print out the elapsed time second by
               second while waiting for a button to be pressed.
            </p>
            <p>
              The syntax for a
              while statement loop is
            </p>
            <pre><code class="language-clike">while (&lt;<i>expression</i>&gt;)
    &lt;<i>statement or block</i>&gt;</code></pre>
            <p>When the <code>&lt;</code><i>expression</i><code>&gt;</code>
               evaluates as TRUE (i.e., is
               not equal to zero), then the <code>&lt;</code><i>statement or block</i><code>&gt;</code>
               that follows
               while is executed, after which the process repeats, starting with evaluation of
               the <code>&lt;</code><i>expression</i><code>&gt;</code> again.
            </p>
            <p>When the <code>&lt;</code><i>expression</i><code>&gt;</code>
               evaluates as FALSE (i.e., is
               equal to 0), then the <code>&lt;</code><i>statement or block</i><code>&gt;</code>
               that
               follows
               while is not executed and the program moves on to the statement following the <code>&lt;</code><i>statement or block</i><code>&gt;</code>
               for the
               while.
            </p>
            <p>Note that the loop continues until something happens that causes the <code>&lt;</code><i>expression</i><code>&gt;</code>
               to evaluate as FALSE (e.g., a button is pressed or a counting variable has exceeded its
               limit). It is up to the programmer to ensure that within the body of the loop (or otherwise)
               the condition will eventually be FALSE (otherwise the loop will continue until the program
               is halted by external intervention).
            </p>
            <p>A loop that doesn't terminate is termed an <i>infinite loop</i>
              . An infinite loop is one
               that will continue its iteration until the program is halted. An <i>indefinite loop</i>
               is one whose iteration will continue until some external action occurs (such as a button
               press). It is easy to create an infinite loop using
               while. For example,
            </p>
            <div class="Indent"><code>while(1);</code></div>
            <p>forms an infinite loop because the <code>&lt;</code><i>expression</i><code>&gt;</code>
               for the
               while is 1 which is always TRUE, and the <code>&lt;</code><i>statement or block</i><code>&gt;</code> is empty ( <code>;</code>
              ), providing no means other than a forced program halt to end
               the ongoing loop iteration (which is repeatedly doing nothing).
            </p>
            <p>
              A common error to avoid when programming a
              while statement loop is exemplified by the following:
            </p>
            <pre><code class="language-clike">while (i &lt; 10); // misplaced semi-colon
    x[i++] = i;</code></pre>
            <p>
              In this case, the misplaced semi-colon for the
              while has made its <code>&lt;</code><i>statement or block</i><code>&gt;</code> component empty. Assuming <code>i</code>
               is less than 10 when the loop starts, this
               semantic error makes the loop infinite and the program will "hang" at this point, requiring
               a forced halt to end it. For ideas on how to locate this kind of semantic error for
               a program, see the section below on <a href="KIPRWallabyManualBody.htm#Program_Debugging" target="ManualFrame">program debugging</a>.
            </p>
            <!-- Break--><a name="Break"></a>
            <h4>Break</h4>
            <p>
              The
              break statement in C provides a means for a program to break out of executing
              statements within a loop structure or a multi-way selection to proceed with execution
              of the program statements that come next. A condition test for
              break is sometimes used within what would otherwise be an infinite loop to break
              out of it. The
              break statement applies to
              while,
              for, <code>do-while</code>
              ,
               and
               switch.
            </p>
            <p>For example,</p>
            <pre>int i; // counter will need some initial value
while (i &lt; 100) { // has the counter reached its limit?
printf("cnt = %d\n", i++); // show the counter and increment it
if (side_button() != 0) break; // exit if the side_button is pressed
msleep(1000); // pause for one second
}</pre>
            <p>
              uses a
              break to exit the
              while loop.
            </p>
            <!-- Continue--><a name="Continue"></a>
            <h4>Continue</h4>
            <p>
              The
              continue statement in C provides a means for a program in a
              while,
              for, or <code>do-while</code>
               loop to skip the balance of the current iteration, continuing to the next iteration
               if the loop condition test doesn't end the loop.
            </p>
            <p>For example,</p>
            <pre>int i; // counter will need some initial value
while (i &lt; 100) { // has the counter reached its limit?
if (i &lt;= 0) { // don't start cnt until i reaches 1
i+=1;
continue;
}
printf("cnt = %d\n", i++); // show the counter and increment it
if (side_button() != 0) break; // exit if the side_button is pressed
msleep(1000); // pause for one second
}</pre>
            <!-- Return--><a name="Return"></a>
            <h4>Return</h4>
            <p></p>
            <p>
              The
              return statement in C both ends a function and provides a means for the function
              to return a value to the calling function. A function also ends once its terminating
              brace is reached or if a
              return statement having no return value is executed. The calling function
              can ignore a returned value in any case.
            </p>
            <!-- For--><a name="For"></a>
            <h4>For</h4>
            <p>
              The
              for statement in C is normally used for managing loops that employ an iteration
              counter. A
              while statement loop could also be used for this purpose, but in many cases
              the program logic is clearer if a
              for statement is employed to control the loop.
            </p>
            <p>
              The syntax for a
              for statement loop is
            </p>
            <pre><code class="language-clike">for (&lt;<i>expr-1</i>&gt;;&lt;<i>expr-2</i>&gt;;&lt;
                <fi>expr-3&gt;)
    &lt;<i>statement or block</i>&gt;
                </fi></code></pre>
            <p>
              The behavior of the
              for statement loop is equivalent to that of the following
              while statement loop:
            </p>
            <pre><code class="language-clike">&lt;<i>expr-1</i>&gt;; // initialize the counter (prime the pump)
while (&lt;<i>expr-2</i>&gt;) { // has the counter reached its limit? (have we pumped enough in?)
    &lt;<i>statement or block</i>&gt;
    &lt;<i>expr-3</i>&gt;; // increment the counter (pump some more in)
}</code></pre>
            <p>
              For example, the following code counts assigns values from 0 to 99 to an integer
              array
            </p>
            <pre><code class="language-clike">int i, arr[100];
for (i = 0; i &lt; 100; i++)
    arr[i] = i;</code></pre>
            <!-- Switch--><a name="Switch"></a>
            <h4>Switch-Case</h4>
            <p>
              The
              switch selection statement for C is used to select one of a series of
              case targets. The
              case targets for a
              switch statement are grouped together inside curly braces as a program block.
              Each
              case target is followed by a series of C statements which represent that
              case. The
              switch selection in effect skips past cases until it reaches the one selected,
              and program execution continues from there. If a
              break statement is in the statements following a
              case target, then the program exits the
              switch statement's block at that point, in effect skipping any remaining
              cases.
            </p>
            <p>
              if else selection is used to select one of two cases.
              switch selection is used to select 0 or more cases.
            </p>
            <p>
              The syntax for a
              switch statement is as follows:
            </p>
            <pre><code class="language-clike">switch (&lt;<i>expression</i>&gt;) { // switch to the case target whose &lt;<i>constant</i>&gt; matches the value of the &lt;<i>expression</i>&gt; 
case &lt;<i>constant</i>&gt;:
    &lt;<i>0 or more C statements</i>&gt;
    break; // optional - otherwise, program execution continues with the next case 
&lt;<i>additional case targets</i>&gt;
default: // optional target used when selection didn&apos;t match any case target 
    &lt;<i>0 or more C statements</i>&gt;
    break; // optional - otherwise, program execution continues with the next case 
}</code></pre>
            <p>
              The first
              case target whose <code>&lt;</code><i>constant</i><code>&gt;</code>
               matches
               the value of the
               expression for the
               switch statement is the one selected. Program execution continues from
               the selected
               case target until either a
               break statement is encountered, or the end of the
               switch program block is reached. If there is no
               case match, then the
               default target is selected. Absent a
               default target and a
               case match, the
               switch program block is skipped. Putting in a
               default case with a
               break statement is considered to be good form, and recognizes the likelihood
               of more cases being added under program maintenance.
            </p>
            <p>
              Normally, each
              case is ended with a
              break statement since the primary purpose of the
              switch statement is to make the choice of one of several possible cases
              to execute; for example,
            </p>
            <pre><code class="language-clike">char answer[81];
switch(answer[0])
{
    case &apos;y&apos;:
        printf(&quot;answer was yes\n&quot;);
        break;
    case &apos;n&apos;:
        printf(&quot;answer was no\n&quot;);
        break;
    default:
        printf(&quot;answer was not understood\n&quot;);
}</code></pre>
            <p>If user input "yes sir" is captured in the character string <code>answer</code>
              ,
               then the text "answer was yes" will be printed to the screen. If if was "no sir",
               then the "answer was no" would have been printed, and if it was "No sir", the
               text "answer was not understood" would have been printed (since C is case sensitive,
               'n' â‰  'N').
              <!-- Do-While--><a name="Do-While"></a>
            </p>
            <h4>Do-While</h4>
            <p>
              The
              do-while statement in C is less commonly used for controlling loop iteration
              than the
              while and
              for statements.
            </p>
            <p>
              The syntax of a
              do-
              while statement is as follows:
            </p>
            <pre><code class="language-clike">do
    &lt;<i>statement or block</i>&gt;
while (&lt;<i>expression</i>&gt;);</code></pre>
            <p>
              In contrast to the
              while and
              for statements, the body of the loop for a
              do-while statement will be executed at least once since the <code>&lt;</code><i>expression</i><code>&gt;</code>
               controlling loop iteration is evaluated at the end of the loop rather than
               at its beginning. Sometimes program logic for a loop is best expressed by having
               the condition test occur at the bottom of the loop. For example,
            </p>
            <pre><code class="language-clike">do
    printf(&quot;.&quot;);
while (seconds() &lt; 5);</code></pre>
            <p>
              The logic insures that "." will be printed at least once (so something will always
              be printed), in contrast to
            </p>
            <pre><code class="language-clike">while (seconds() &lt; 5)
    printf(&quot;.&quot;);</code></pre>
            <p>for which nothing will be printed if the value returned by the function <code>seconds</code> already exceeds 5.</p>
          </div>
          <!-- Style--><a name="Programming_Style"></a>
          <h2>Programming Style</h2>
          <p>
            Many authors have expressed opinions on programming style, which for C generally consists of how
            key elements of a program are exhibited, how comments are handled, and how white space is employed,
            most notably in how block structures are offset by placement and indentation. The manner in which
            a program is written affects its readability, ease of understanding, and effort for debugging,
            enhancement, and maintenance.
          </p>
          <p>
            The most commonly used style, K&R Style, reflects how programs are presented in Kernighan and Ritchie's
            book on C (<a href="http://www.amazon.com/C-Programming-Language-2nd-Edition/dp/0131103628">The C Programming Language (2nd Edition)</a>
            ).
             This style, or a variant, is advocated by most C programming experts and is the style observed
             in this manual.
          </p>
          <!-- White Space--><a name="White_Space"></a>
          <h4>White Space</h4>
          <p>
            As noted earlier, the term "white space" references combinations of characters that when printed
            produce a blank area on the display. For C, white space is formed by using characters such as spaces,
            new lines, and tabs. The white space characters in C are
          </p>
          <div class="Indent">
            <table class="striped">
              <thead>
                <tr>
                  <td align="center"><b>Character</b></td>
                  <td><b>Print Action</b></td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code> &apos; &apos; </code></td>
                  <td align="center">space</td>
                </tr>
                <tr>
                  <td><code>  &apos;\n&apos; </code></td>
                  <td align="center">new line</td>
                </tr>
                <tr>
                  <td><code> '\t' </code></td>
                  <td align="center">horizontal tab</td>
                </tr>
                <tr>
                  <td><code> '\v' </code></td>
                  <td align="center">vertical tab</td>
                </tr>
                <tr>
                  <td><code> '\r' </code></td>
                  <td align="center">carriage return</td>
                </tr>
                <tr>
                  <td><code> '\f' </code></td>
                  <td align="center">formfeed</td>
                </tr>
              </tbody>
            </table><br>The print result may differ from one display device to another (for example, while <code>'\n'</code> has the same outcome for almost every device, <code>'\r'</code> may behave the same as <code>'\n'</code> for some devices but on others simply reposition printing at the start of the current line).
          </div>
          <p>
            The C compiler either ignores white space that is not imbedded inside double quote marks, or collapses
            it to a single generic white space character for compilation purposes. This means that other than
            for character strings, white space can be used for things like indentation that improve program
            readability. White space is required where it is needed to separate adjacent objects, but if another
            separator such as a parenthesis, comma, curly brace, square bracket, semi-colon, etc is present,
            white space is not required.
            <!-- Indentation--><a name="Indentation"></a>
          </p>
          <h4>Indentation</h4>
          <p>
            Good use of indentation offsets program blocks, not only making a program more easily understood,
            but making it easier to determine if the curly braces are matched and block structures will produce
            the desired semantic results. From the C compiler's point of view,
          </p>
          <pre><code class="language-clike">/* Simple example: C Programmer&apos;s Manual */
int main()
{
    printf(&quot;Hello, world!\n&quot;); /* simple example */
}</code></pre>
          <p>and</p>
          <pre><code class="language-clike">/* Simple example: C Programmer&apos;s Manual */int main(){printf(&quot;Hello, world!\n&quot;);} /* simple example */</code></pre>
          <p>
            are equivalent, but it is pretty clear the use of white space to set off the elements of the program
            in the first version makes it more understandable than for the second. This distinction becomes
            even more important when nested selection and iteration statements are being employed. For an
            admittedly extreme example, the following construction as presented will compile, but from a
            human readability point of view is almost incomprehensible:
          </p>
          <div class="Indent"><code>switch(i){case 0:while(j++&lt;100){k++;if(k&gt;10)break;}break;case 1:if(j&gt;50)k--;else while(j--&gt;=0)k++;break;}</code></div>
          <p>
            In addition to better presenting overall program logic, use of a consistent programming style facilitates
            debugging programs. Just as writers develop styles intended to make the text they produce more
            easily read and understood, programmers develop styles for making their programs easier to read
            and understand, but with the added objective of making them easier to debug. The KISS IDE program
            editor provides facilities for automatic indentation that reflects common practice for C programmers.
          </p>
          <!-- Commenting Style--><a name="Commenting_Style"></a>
          <h4>Commenting</h4>
          <p>
            Comments are the means for programmers to integrate documentation into a program. The lead comment
            typically specifies the purpose of the program. For large projects, it is a common practice to
            also include a (bracketed) comment on program history, in particular reflecting the changes that
            have been made to the program, including by whom, when, and where in the program.
          </p>
          <p></p>
          <p>
            Multi-line comments are typically used to offset description and purpose of major program components.
            Single-line comments are useful for provide an explanation of logic or reasoning that might
            be subsequently useful if that part of the program needs to be revisited for debugging or
            other purposes.
          </p>
          <!-- Program Debugging--><a name="Program_Debugging"></a>
          <h2>Program Debugging</h2>
          <p>Debugging is the process of correcting syntactic and semantic errors found in a program.</p><a name="Syntax_Errors"></a>
          <h4>Syntax Errors</h4>
          <p>
            The C compiler cannot compile a program that has syntax errors such as a missing semi-colon
            or other program construction error. Syntax errors are the ones most easily corrected since
            the compiler can identify both where they occur and what the problem is. The KISS IDE lists
            any syntax errors found during program compilation in an error panel below the program code.
            The interface provides the line number and position within the line identifying the location
            of the error, with a description of the cause of the error. Since the mistake causing the
            first error listed will typically cause additional syntax errors within the program, it is
            often the case that correcting the syntax causing the first error will fix the rest.
          </p><a name="Semantic_Errors"></a>
          <h4>Semantic Errors</h4>
          <p>
            Just because a program compiles does not mean it will do what is intended, which is termed
            program semantics. A semantic error manifests itself during program execution, either because
            the program crashes or it produces erroneous results. Semantic errors are caused by errors
            in program logic or programmer oversights (such as failure to initialize a variable). They
            can be difficult to track down because it usually is not clear where in program execution
            the error occurred.
          </p>
          <p>
            For a program which relies on data inputs, determining the presence of semantic errors requires
            testing the program for a representative set of possible data inputs, including so-called<i>boundary conditions</i>
            . For example, if a data input has a range from 0 to 1000, then
             0 and 1000 are the boundaries for the data, and one of these, 0, will cause the program to
             crash if used in the denominator of a division operation. That means that once the part of
             the program where the error occurs has been located, program logic has to be adjusted to
             check the data input to see if it is 0 before using it in the division. For complex systems,
             program testing is an ongoing part of the software development cycle.
          </p>
          <p>
            Semantic errors that are rare events are difficult to correct, since being able to repeat what
            causes the error is key to being able to resolve it. Once a semantic error can be reliably
            repeated, various techniques are employed to determine the cause and to locate where in the
            program it occurred. Only the basic techniques will be covered here, but operating systems
            provide debugging tools designed to determine the cause of an error and to facilitate locating
            where in the program code it occurred.
          </p><a name="printf_debugging"></a>
          <h4>Using printf and Commenting for Diagnostic Purposes</h4>
          <p>
            For the smaller C programs constructed for environments like the KIPR Robot Controller, most
            semantic errors that occur can be corrected quickly using one or both of the following two
            approaches.
          </p>
          <ul>
            <li>For a C program that runs, but produces erroneous output, it is often useful to insert <code>printf</code>
               statements at various points in the program code to display the value of selected variables
               to see if their intermediate values are as expected. For example, in an expression containing
               the sub-expression <code>(x * y-z)</code>, displaying the values of <code>x, y</code> and <code>z</code> might help discover the sub-expression should have been <code>(x * (y-z))</code>.
            </li>
            <li>
              For a C program that crashes, "commenting out" sections of code can be used to locate the
              part of the program triggering the crash. Commenting out is relatively straight forward
              process to implement, because inserting
              // in front of a line of code turns it into a comment (so it will no longer be executed)
              and whole blocks of code can be commented out by surrounding them using
              /* */ comment bracketing.<br><br>
               What is commented out has to be selected so that
               the program will still compile. After commenting out sections of the program, if it still
               crashes when executed, then what was commented out is probably not where the culprit is
               located. Including/excluding parts of the code in this manner will usually identify where
               the problem is occurring so it can be diagnosed and corrected. Sometimes the best tactic
               is to comment out a large enough section to eliminate the crash, then reduce the scope
               of commenting out in small steps until the program crash recurs.
            </li>
          </ul>
          <p>
            For larger programs, a system debugging tool may be called for. Unix systems include the debugging
            tool <code>sdb</code>
            , which has its own command structure that has to be learned to be used
             effectively.
          </p>
          <!-- Display_Screen_Printing--><a name="Display_Screen_Printing"></a>
          <h2>Display Screen Printing</h2>
          <p>The C function <code>printf</code>
             is used for printing to the KIPR Robot Controller display
             screen, where print output is wrapped to subsequent lines if too long for the display, and
             is scrolled upward as the capacity of the screen is exceeded. For controlled printing to
             the display, the KIPR Robot Controller Library additionally includes the <code>display_printf</code> version of <code>printf</code>, which prints starting at a specified ( <code>column, row</code>
            ) position
             on the KIPR Robot Controller display and which doesn't wrap text which exceeds screen width.
             The number of rows available for controlled printing is different for the 3 button (A,B,C)
             version of the KIPR Robot Controller program console screen than for the 6 button (X,Y,Z,A,B,C)
             version.
          </p>
          <p>The syntax of <code>printf</code> is the following:</p>
          <div class="Indent"><code>printf(&lt;</code><i>format-string</i><code>&gt, ... );</code></div>
          <p>The <code>&lt;</code><i>format-string</i><code>&gt;</code>
             is a character string which includes
             0 or more "%" codes. For each % code, a corresponding argument is supplied to <code>printf</code> after the <code>&lt;</code><i>format-string</i><code>&gt;</code>
             to provide the value to
             be formatted and inserted into the print output in place of its % code.
          </p>
          <p></p>
          <p>It is important to note that in resolving % codes <code>printf</code>
             ignores the data
             type of the corresponding argument. In other words, since <code>printf</code>
             does not
             require a data type match between an argument and its corresponding % code, the argument
             will not be automatically coerced as it would be for an assignment statement. This is
             particularly important to keep in mind when both integer and floating point values are
             being used.
          </p>
          <p>The use of % code formatting is best illustrated by some examples.</p>
          <!-- Printing_Examples--><a name="Printing_Examples"></a>
          <h3>Printing Examples</h3>
          <!-- Printing_a_message-->
          <div class="indent"><a name="Printing_a_message"></a>
            <h4>Example 1: Printing a message</h4>
            <p>A <code>printf</code> statement employing no % codes simply prints out the <code>&lt;</code><i>format-string</i><code>&gt;</code> as a message; for example,</p>
            <div class="Indent"><code>printf("Hello, world!\n");</code></div>
            <p>The character <code>\n</code>
               at the end of the string signifies an advance to the next
               (or new) line for any further printing by the program. When the bottom of the display
               is reached, the display is scrolled (up) for each line subsequently printed.
              <!-- Printing_a_number--><a name="Printing_a_number"></a>
            </p>
            <h4>Example 2: Printing an integer</h4>
            <p>
              In most environments, integers in C are stored in memory as 32-bit 2's complement integers.
              The % code used to format the corresponding argument as a Â± decimal integer
              is "%d" (or %i"). For the following example, the value of the variable <code>x</code> is displayed as a decimal integer, with a leading minus sign if the integer is negative:
            </p>
            <div class="Indent"><code>printf(&quot;Value is %d\n&quot;, x);</code></div>
            <p>
              The code "%d" specifies that the first argument after the initial character string
              in the argument list for <code>printf</code> (the variable <code>x</code>
              ) is to
               be formatted as a Â± decimal integer and inserted in place of "%d" in the printed
               output. The length of the formatted output will vary depending on the number.
            </p>
            <!-- Printing_a_number_in_hexadecimal--><a name="Printing_a_number_in_hexadecimal"></a>
            <h4>Example 3: Other integer print formats</h4>
            <p>
              As already seen, the "%d" code is used to format an argument in Â± decimal integer
              form. The "%x" and "%X" codes are used to format an argument in (32 bit) 2's complement
              form using hexadecimal (hex) digits 0 ..9,A,B,C,D,E,F (each of which represents 4
              bits in binary, 0000, 0001, 0010, ..., 1111). Negative 2's complement numbers have
              a leading 1, so negative 32-bit integers written in hex require 8 hex digits beginning
              with one of the hex digits 8-F; e.g., -28 when formatted using "%X" is FFFFFFE4.
              For positive numbers, the space required will vary unless a % code modifier for length
              is employed; e.g., using the % code "%8X" for the integer 28 will yield " <code></code>
              1C"
               (8 spaces are consumed).
            </p>
            <p>
              It needs to be emphasized that a length modifier represents the minimum amount of space
              that will be used when the formatted result is inserted in the print line. If there
              isn't enough space, <code>printf</code> will use more.
            </p>
            <p>
              If the code "%08X" is used instead of "%8X", leading 0's will replace any leading spaces
              (so using %08X" for the integer 28 will yield "0000001C" as the formatted result).
              This applies to "%d" as well; e.g., formatting the numbers -28 and 28 using "%04d"
              yields as formatted results "-028" and "0028", respectively. A length specifier is
              employed when numbers are being printed to line up uniformly in columns. If you always
              want the sign of the number printed, not just when it is negative, the code "%+d"
              forces the sign to be printed as <code>+</code> or <code>-</code>.
            </p>
            <p>For example, the <code>printf</code> statement</p>
            <div class="Indent"><code>printf(&quot;Values are %d, %X, %04x\n&quot;, -28, -28, 28);</code></div>
            <p>displays the text string</p>
            <div class="Indent"><code>Values are -28, FFFFFFE4, 001c</code></div>
            <p>The third % code in this <code>printf</code>
               ("%04x") has a length specifier (plus
               a leading 0's specifier) and lower case is used for the hex digits. If the value
               to be formatted requires more space, <code>printf</code>
               will override the length
               specifier. It is up to the programmer when using a length specifier to anticipate
               number size and make the length specifier sufficiently large.
            </p>
            <p>Examples 2 and 3 are representative of output formats for integers using <code>printf</code>
              .
               There are additional integer output formats (including ones for representing integers
               using octal digits and for unsigned integers) described in most C references.
            </p>
            <!-- Printing_a_floating_point_number--><a name="Printing_a_floating_point_number"></a>
            <h4>Example 4: Printing a floating point number</h4>
            <p>
              The % code used to format the corresponding argument as a floating point number is
              "%f". In formatting for floating point, <code>printf</code>
               rounds the fractional
               part of the number up according to the number of decimal places used (its precision).
               The default precision is 6 decimal places. A precision specifier is used to limit
               this. For example, "%.2f" limits the precision to 2 decimal places. For example,
            </p>
            <div class="Indent"><code>printf(&quot;Values are %f, %.2f\n&quot;, 1.266, -1.266);</code></div>
            <p>displays the text string</p>
            <div class="Indent"><code>Values are 1.266000, -1.27</code></div>
            <p>
              The code "%f" specifies that the first argument after the initial character string
              in the argument list for <code>printf</code>
               (1.266) is to be formatted as a floating
               point number rounded to 6 decimal places and inserted in place of "%f" in the printed
               output (since 6 decimal places is sufficient, no rounding occurs). In contrast,
               the code "%.2f" for the second argument rounds its number (-1.266) to 2 decimal
               places to yield -1.27.
            </p>
            <p>
              There are additional floating point % codes described in C references that are used
              for formatting very large (or very small) floating point numbers in scientific
              (exponential) notation ( <code>Â±&lt;</code><i>mantissa</i><code>&gt;</code> E Â± <code>&lt;</code><i>exponent</i><code>&gt;</code>).
            </p>
            <!-- Printing_character_strings--><a name="Printing_character_strings"></a>
            <h4>Example 5: Printing character strings</h4>
            <p>
              The % code "%c" is used to format character data. The % code "%s" is used for character
              strings, since they are frequently needed for print display.
            </p>
            <div class="Indent"><code>char header[] = &quot;Data: &quot;, cs=&apos;a&apos;;<br>int x=28;<br>printf(&quot;%s%c = %d\n&quot;, header, cs, x);</code></div>
            <p>displays the text string</p>
            <div class="Indent"><code>Data: a = 28</code></div>
            <p>
              where for the printed output "%s" is replaced by the character string at the memory
              location corresponding to <code>header</code>
              , "%c" is replaced by the character
               given by <code>cs</code>
              , and "%d" is replaced by the Â± decimal representation
               of the data given by <code>x</code>.
            </p>
            <!-- Printing_using_display_printf--><a name="Printing_using_display_printf"></a>
            <h4>Example 6: Printing using display_printf</h4>
            <p>The function <code><code>display_printf</code></code>
               is only valide for the KIPR
               Robot Controller and the Simulator. It is like the standard <code><code>printf</code></code>
               function except its first two arguments specify the column and row (zero indexed) on the display where printing starts. The
               remaining arguments are the same as for <code>printf</code>
              .
               The following example prints
            </p>
            <div class="Indent"><code>2. KIPR store</code></div>
            <p>
              starting at column 5 on the 3rd row of the display. Note that the first row/first
              column of the display has column index 0 and row index 0.
            </p>
            <div class="Indent"><code>int i = 2;<br>char nm[] = &quot;KIPR store&quot;;<br>display_printf(4,2,&quot;%d. %s   &quot;,i,nm);</code></div>
            <p>The column range for <code>display_printf</code>
               is 0 - 41. The row range for the
               3 button (A,B,C) case is 0 - 9 and for the 6 button (X,Y,Z,A,B,C) case is 0 - 7.
            </p>
            <p><code>display_printf</code>
               does not wrap, truncating strings that go beyond the
               end of a row on the display.
            </p>
            <p>The special character ' <code>\n</code>' should be avoided when using <code>display_printf</code> since it will have unpredictable effects on what is displayed.</p>
            <p>
              When repeatedly printing variable data to the same place on the display, care must
              be taken to add enough spaces to what is printed to clear artifacts from the previous
              print; e.g., if one of the following was used,
            </p>
            <div class="Indent"><code>display_printf(4,2,&quot;%d. %s&quot;,i,nm); // NO<br>display_printf(4,2,&quot;%d. %s   &quot;,i,nm); // YES</code></div>
            <p>then if we had already printed "2. KIPR store" and changed <code>nm</code>
               to "Staffing"
               then the first of these would print
            </p>
            <div class="Indent"><code>2. Staffingre</code></div>
            <p>whereas the second would add enough spaces on the end to clear the artifacts, printing</p>
            <div class="Indent"><code>2. Staffing</code></div>
          </div>
          <!-- Formatting_Command_Summary--><a name="Formatting_Command_Summary"></a>
          <h3>printf % Codes Summary</h3>
          <div class="Indent">
            <table class="striped">
              <thead>
                <tr>
                  <td align="center"><b>% Code</b></td>
                  <td><b>Associated Data Type</b></td>
                  <td align="center"><b>Format Outcome</b></td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td align="center"><code>%d</code> or <code>%i </code></td>
                  <td align="center">int</td>
                  <td align="center">Â± decimal integer</td>
                </tr>
                <tr>
                  <td align="center"><code>%x</code> or <code>%X </code></td>
                  <td align="center">int</td>
                  <td align="center"> 2's complement hexadecimal representation </td>
                </tr>
                <tr>
                  <td align="center"><code>%f</code></td>
                  <td align="center">double</td>
                  <td align="center"> Â± number with decimal point </td>
                </tr>
                <tr>
                  <td align="center"><code>%c</code></td>
                  <td align="center">char</td>
                  <td align="center">
                    ASCII character (low byte for
                    int )
                  </td>
                </tr>
                <tr>
                  <td align="center"><code>%s</code></td>
                  <td align="center">char *</td>
                  <td align="center"> ASCII characters until '\0' is reached </td>
                </tr>
              </tbody>
            </table>
          </div>
          <p>There are additional % codes for <code>printf</code>
             and more complex % code modifiers
             that can be used in <code>printf</code>
             statements. For information on these, see a standard
             C reference.
          </p>
          <!-- Preprocessor--><a name="Preprocessor"></a>
          <h2>C Preprocessor</h2>
          <div class="Indent">
            <p>
              Before the C compiler receives a file, it is first passed through the C preprocessor
              to prepare the file for compilation. The preprocessor clears away comments, shrinks
              white space to single characters, and processes any preprocessor directives present
              in the program.
            </p>
            <!-- Preprocessor_Directives--><a name="Preprocessor_Directives"></a>
            <h3>Preprocessor Directives</h3>
            <p>
              Preprocessor directives are identified by the "#" symbol, which must be the first entry
              on a line for the directive to be recognized by the C preprocessor.
            </p>
            <p>
              The two primary preprocessor directive are
              #include for inserting files into the program code and
              #define for defining macros that are expanded wherever their names appear in
              program code.
            </p>
            <p>
              For a macro call to be recognized by the preprocessor, it's definition has to occur at
              some point earlier in the program. Macro definitions begin with the macro directive
              #define and are usually grouped together at the beginning of the file in which
              they appear. The preprocessor will flag a macro definition as being a duplicate if
              its name is reused for another
              #define in the same file. If more than one file is employed for a program, a
              preprocessor directive applies only within the file where it is defined.
            </p>
            <p>
              Since the programmer may or may not know what
              #define commands appear in a
              #include file, commands are provided to check to see if a macro has already
              been defined (
              #ifdef <code> .. </code>
              #endif and
               #ifndef <code> .. </code>#endif). For example,
            </p>
            <div class="Indent"><code>#ifndef PI<br>  #define PI 3.1416159<br>#endif</code></div>
            <p>
              When the preprocessor encounters a valid macro name in the program code, the macro is
              called and its name "expanded" to be replaced by whatever text the macro generates;
              e.g., when the macro name PI is encountered by the preprocessor it replaces it with
              the text 3.1416159 (for the C compiler to subsequently interpret as a floating point
              constant).
            </p>
            <p>
              The directive
              #undef removes a macro name from the list of defined macros (and otherwise does
              nothing). It is sometimes employed defensively to guard against the possibility of
              #include inserting a macro name that conflicts with the name of a function the
              programmer has defined. The convention employed to minimize the likelihood of this
              occurrence is to use upper case letters for the names of macros and for nothing else.
            </p>
            <p>
              The sequential bypass strategy employed by the C preprocessor precludes iterative loop
              directives, but a limited if-else selection is provided. The directive for this purpose,
              #if, employs a condition test with computation limited to integer constants,
              character constants, comparisons, arithmetic and logic operators, and macros names
              (which are expanded before the condition test is calculated). The section of code selected
              by a
              #if directive consists of the lines of code that follow it, continuing until
              one of the directives
              #else,
              #endif, or
              #elif is encountered. The section of code selected by a
              #if directive is processed if the preprocessor calculates the value of the condition
              test to be non-zero; otherwise, the preprocessor omits the section from the code sent
              to the compiler. The term used to describe this procedure is <i>conditional compilation</i>
               since the condition test determines whether or not a section of code is sent on to
               the compiler; for example,
            </p>
            <div class="Indent"><code>#define CFLAG 1<br>#if CFLAG==1<br>  display_printf(1,3,&quot;On target  &quot;);<br>#else<br>  printf(&quot;On target\n&quot;);<br>#endif</code></div>
            <p>selects which form of <code>printf</code>
               to use according to how CFLAG is #defined.
               CFLAG serves as a "configuration variable" to be set according to the ennvironment
               where the program will be run.
            </p>
            <p>
              #elif has the same interpretation as "else if" and requires a condition test.
              The section of code selected by
              #elif is terminated by any one of
              #else,
              #endif, or
              #elif also.
            </p>
            <p>
              #else has the same interpretation as "else", with its section of code terminated
              only by
              #endif.
            </p>
            <p>
              The sections of code selected by the two directives
              #ifdef and
              #ifndef discussed earlier can be terminated by
              #else or
              #elif as well as
              #endif.
            </p>
            <p>
              Preprocessor macros can be used to associate a name with a constant that appears in multiple
              places in code (e.g., PI or LMOTOR), to simplify a C function call, or to provide a
              debugging capability that can be turned on or off by use of conditional compilation,
              among many other possibilities.
            </p>
            <!-- Preprocessor_Include--><a name="Preprocessor_Include"></a>
            <h3>Preprocessor Include</h3>
            <p>
              The preprocessor
              #include directive is used to insert either a system header file or a user defined
              header file into program code. System header files typically provide the prototypes
              for the pre-compiled functions in standard C library. They also provide configuration
              variables in the form of macros (e.g., NULL). Some programming environments may include
              the more common system header files automatically, depending on how much control the
              programmer is expected to exert over the programming environment. System header files
              incorporate
              #ifndef statements to avoid introducing duplicated definitions, since a system
              header file may appear in more than one user header file included by a function.
            </p>
            <p>
              If the file name for a
              #include directive is enclosed in "pointy brackets" ( <code>&lt; &gt;</code>
              )
               then the preprocessor searches for the file in the system's directory of header files.
            </p>
            <p>
              If the file name for
              #include directive is enclosed in (double) quote marks, then the preprocessor
              searches for the file in the user's file space. Unless the file is located along the
              user's file path, the path information for locating the file must also be included
              (e.g., for a USB stick). The contents of the file can be anything, and will be passed
              through the C preprocessor while being inserted, which will process any preprocessor
              directives in the file. For user header files, care needs to be taken with any variable
              declarations incorporated into the file (to avoid duplicates caused by #includes across
              multiple program files) and in general function definitions should not be imbedded
              in header files rather than pre-compiled for a user library. To sum up, when
              #include is used with a carelessly prepared user header file, a compiler error
              such as a duplicated global variable name may occur, or a preprocessor error such as
              a duplicated macro name may occur.
            </p>
            <p>
              The following provides an example of each kind of
              #include directive:
            </p>
            <div class="Indent"><code>#include &lt;stdio.h&gt; // insert function prototypes for system I/O functions <br>#include &quot;mylib.c&quot; // insert my function library </code></div>
            <p>
              A few of the more commonly used system header files providing definitions for pre-compiled
              functions in the standard C library follow:
            </p>
            <div class="Indent"><code>&lt;stdlib.h&gt;</code>
               [numeric conversion, memory allocation, functions such
               as <code>rand</code>]<br><code>&lt;stdio.h&gt;</code> [I/O functions such as <code>printf</code>]<br><code>&lt;math.h&gt;</code> [math functions such as <code>sqrt</code>]<br><code>&lt;string.h&gt;</code> [string functions such as <code>strcpy</code>]<br><code>&lt;time.h&gt;</code> [date and time functions such as <code>time</code>]<br><code>&lt;stdarg.h&gt;</code>
               [functions with varying number of arguments (i.e., ones
               using the <code>...</code> argument)]
            </div>
            <!-- Preprocessor_Macros--><a name="Preprocessor_Macros"></a>
            <h3>Preprocessor Macros</h3>
            <p>
              The
              #define preprocessor directive specifies a macro definition. The macro definition
              is limited to one line of code (of indefinite length). Once defined the macro will
              be expanded wherever it occurs in subsequent program code.
            </p>
            <p>
              Macros are often used to provide replacement text, where the macro provides a more meaningful
              name; e.g.,
            </p>
            <div class="Indent"><code>#define RIGHT_MOTOR 0 // equate RIGHT_MOTOR with 0<br>#define POWER  90 // equate POWER with 90</code></div>
            <p>If the motor command</p>
            <div class="Indent"><code>motor(RIGHT_MOTOR, POWER);</code></div>
            <p>is used in subsequent code, the preprocessor will expand the <code>RIGHT_MOTOR</code> and <code>POWER</code>
               macros, replace them with 0 and 90, respectively, so the code as
               prepared for compilation becomes
            </p>
            <div class="Indent"><code>motor(0, 90);</code></div>
            <p>
              Global variables could also be used to provide meaningful names for quantities, but preprocessor
              macros produce slightly more efficient code. The primary advantage in either case is
              that if testing shows that the motor port or power needs to be changed, it only needs
              to be changed at one place in the program.
            </p>
            <p>
              The definition of a preprocessor macro can also specify one or more arguments to be used
              in expanding the macro. For example,
            </p>
            <div class="Indent"><code>#define GO_RIGHT(power) motor(RIGHT_MOTOR,power)</code></div>
            <p>defines a macro <code>GO_RIGHT</code> that takes an argument ( <code>power</code>
              ) and
               uses the macro <code>RIGHT_MOTOR</code> in its definition.
            </p>
            <p>If <code>GO_RIGHT(85)</code> appears in program code, it will expand to <code>motor(RIGHT_MOTOR(85)</code> which will then expand to <code>motor(0,85)</code> as the code prepared for compilation.</p>
            <p>
              Superficially, the use of a macro that doesn't have arguments looks like a global variable
              reference. Likewise, the use of a macro with arguments looks like a call to a function.
              However, macro expansion is simply one-time text replacement which occurs during preprocessing
              Compilation resolves global references as memory locations subject to dynamic change
              during program execution. When called, a function evaluates and interprets its arguments
              dynamically.
            </p>
            <p>
              Appropriate use of macros can make it easier to follow the C program logic and can be
              used to facilitate program testing and modification.
            </p>
            <!-- Conditional_compilation--><a name="Conditional_compilation"></a>
            <h3>Conditional Compilation</h3>
            <p>
              The C preprocessor can be used to select code to be compiled based on logical conditions
              in preparing a program for compilation. This is called <i>conditional compilation</i>
              .
               Conditional compilation is used to select the code that is to be incorporated into
               a program based on a condition test. For example, unless a macro named <code>DEBUG</code> has been defined (usually empty; i.e., <code>#define DEBUG</code>
              ),
               the precompiler can omit code whose only purpose is for debugging. In particular,
            </p>
            <div class="Indent"><code>#ifdef DEBUG<br>  printf(&quot;Going Left\n&quot;);<br>  beep();<br>#endif</code></div>
            <p>generates the debugging <code>printf</code> and <code>beep</code> only if <code>DEBUG</code>
               has been defined, in which case the message "Going Left" will be printed and KIPR
               LINK will beep when program execution reaches this part of its code. If <code>DEBUG</code>
               is not defined, the preprocessor will leave the code out and the debugging alert
               will not occur as the program executes.
            </p>
            <p>
              Macros can also be conditionally defined; for example, the somewhat more sophisticated
              debugging macro definition
            </p>
            <div class="Indent"><code>#ifdef DEBUG // if DEBUG is defined, SHOW(printf(&quot;%d&quot;,i) generates DEBUG code <br>  #define SHOW(x) printf(&quot;DEBUG: &quot;); x // if case: SHOW macro is defined to generate code <br>#else  // if DEBUG is not defined, SHOW(printf(&quot;%d&quot;,i) generates nothing <br>  #define SHOW(x) // else case: SHOW macro is defined to generate nothing <br>#endif</code></div>
            <p>defines a <code>SHOW</code> macro in one of two ways, either to produce debugging <code>printf</code>
               statements from its argument, or to produce nothing, regardless
               of argument.
            </p>
            <p>If <code>DEBUG</code> has been defined, then a <code>printf</code>
               debugging statement
               used as the argument for <code>SHOW</code>
               will be incorporated into the program
               code. Debugging is activated by adding the
               #define DEBUG directive to the program, and deactivated by commenting it
               out. In particular, when <code>DEBUG</code> has been defined the code
            </p>
            <div class="Indent"><code>SHOW(printf("%d\n",i);)</code></div>
            <p>
              inserted at an appropriate point in the program will be expanded by the preprocessor
              to produce the code
            </p>
            <div class="Indent"><code>printf(&quot;DEBUG: &quot;); printf(&quot;i=%d\n&quot;,i);)</code></div>
            <p>Absent a definition for <code>DEBUG</code> the macro <code>SHOW</code>
               will expand
               to produce no code at all.
            </p>
            <p>If the value of <code>i</code> is 8 and <code>DEBUG</code>
               has been defined, the
               expansion of <code>SHOW</code>
               illustrated above will generate code which outputs
               the debugging display " <code>DEBUG: i=8</code>".
            </p>
            <!-- Math_Functions--><a name="C_Math_Library"></a>
            <h2>The C Library Math Functions</h2>
            <p>The standard C library has a large number of precompiled math functions. <code>#include &lt;math.h&gt;</code>
               provides the function prototypes for the math functions that operate on floating
               point numbers, which is most of them.
               #include &lt;stdlib.h&gt;
               provides the function prototypes for those which operate on integers. Arguments
               for trigonometric functions use radian measure for angles rather than degrees (1
               degree is 2Ï€/360 radians). The following is a representative list for the available
               math functions. For more information about what math functions are available, consult
               a C reference.
            </p>
            <table>
              <tbody>
                <tr>
                  <td><a name="acos"></a></td>
                  <td><code>acos</code> [Category: Math]
                    <dl>
                      <dd>Format: <code>double  <code>acos</code>
                          (
                                                                              double x);</code><br>
                         Returns the angle between 0 and Ï€ whose
                         cosine is x, where -1 â‰¤ x â‰¤ 1. result is in radians.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="atan"></a></td>
                  <td><code>asin</code> [Category: Math]
                    <dl>
                      <dd>Format: <code>double  <code>asin</code>
                          (
                                                                              double x);</code><br>
                         Returns the angle between -Ï€/2 and Ï€/2
                         whose sine is x, where -1 â‰¤ x â‰¤ 1. result is in radians.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="atan"></a></td>
                  <td><code>atan</code> [Category: Math]
                    <dl>
                      <dd>Format: <code>double  <code>atan</code>
                          (
                                                                              double x);</code><br>
                         Returns the angle between -Ï€/2 and Ï€/2
                         whose tangent is x. result is in radians.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="cos"></a></td>
                  <td><code>cos</code> [Category: Math]
                    <dl>
                      <dd>Format: <code>double  <code>cos</code>
                          (
                                                                              double angle);</code><br>
                         Returns cosine of angle. Angle is specified
                         in radians; result is between -1 and 1.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="exp"></a></td>
                  <td><code>exp</code> [Category: Math]
                    <dl>
                      <dd>Format: <code>double exp(double x);</code><br> Returns e<sup>x</sup>
                         (e is the Euler constant, the base for the natural
                         logarithm of a number).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="exp10"></a></td>
                  <td><code>exp10</code> [Category: Math]
                    <dl>
                      <dd>Format: <code>double exp10(double x);</code><br> Returns 10<sup>x</sup>.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="log"></a></td>
                  <td><code>log</code> [Category: Math]
                    <dl>
                      <dd>Format: <code>double log(double x);</code><br> Returns log<sub>e</sub>(x), the natural logarithm of x.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="log10"></a></td>
                  <td><code>log10</code> [Category: Math]
                    <dl>
                      <dd>Format: <code>double log10(double x);</code><br> Returns log<sub>10</sub>(x), the base 10 logarithm of x.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="pow"></a></td>
                  <td><code>pow</code> [Category: Math]
                    <dl>
                      <dd>Format: <code>double pow(double x, double y);</code><br> Returns x<sup>y</sup>.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="rand"></a></td>
                  <td><code>rand</code>[Category: Math]
                    <dl>
                      <dd>Format: <code>int rand();</code><br>
                         Returns
                         a (pseudo) random integer between 0 and a very large integer established
                         on system installation, drawn from the (pseudo) random number stream
                         initiated at start of program execution according to a "seed" value. <code>rand()%m </code> restricts the range from 0 to m-1. <code>srand</code>
                         is used to re-seed random number generation to vary the random number
                         stream used.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="sin"></a></td>
                  <td><code>sin</code> [Category: Math]
                    <dl>
                      <dd>Format: <code>double sin(double angle);</code><br>
                         Returns the sine of angle. angle is specified in radians; result is between
                         -1 and 1.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="sqrt"></a></td>
                  <td><code>sqrt </code> [Category: Math]
                    <dl>
                      <dd>Format: <code>double sqrt(double x);</code><br> Returns âˆš<span style="border-top: 1px solid #000000; font-size: 15px;">x</span>
                        ,
                         the square root of x.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <td><a name="srand"></a></td>
                <td><code>srand</code> [Category: Math]
                  <dl>
                    <dd>Format: <code>void srand(int num);</code><br>
                       Re-seeds (pseudo) random number generation (the initial seed at start of
                       program execution is <code>srand(1)</code>
                      ). Unless it is desirable that
                       a random number stream be reused, the seed value used should be unpredictable
                       from one run to the next. The usual way to accomplish this is to draw a
                       value from the system clock to use as seed; e.g., <code>int seednum = time(NULL);</code>
                      .
                       (the time function is declared in system include file <code>&lt;time.h&gt;</code>
                       and if used with a NULL operand returns elapsed time in (whole) seconds
                       since system start).
                    </dd>
                  </dl>
                </td>
                <tr>
                  <td><a name="tan"></a></td>
                  <td><code>tan</code> [Category: Math]
                    <dl>
                      <dd>Format: <code>double tan(double angle);</code><br>
                         Returns the tangent of angle. angle is specified in radians; result
                         is between -âˆž and +âˆž.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr></tr>
              </tbody>
            </table>
            <!-- The_Link_Library_File--><a name="USB_stick"></a>
            <h2>File I/O for a USB Flash Drive Plugged into the KIPR Robot Controller</h2>
            <p>
              Before the Linux operating system can access a file system, it has to "mount" the
              file system. When a USB flash drive is plugged into the KIPR Robot Controller,
              it is automatically mounted. When the USB flash drive is unplugged it is automatically
              unmounted. The C Library has a number of functions designed to access files located
              in mounted file systems. The library functions <code>fprintf</code> and <code>fscanf</code>
               respectively provide a straight forward means for writing formatted output to a
               file on a USB drive plugged into the KIPR Robot Controller, and for reading formatted
               data from a file on the USB drive. There are a number of file processing commands,
               including ones for accessing files byte by byte. For a full description of the
               range of functions available consult a standard C reference book.
            </p>
            <p>
              To access a file, in addition to the file name, the directory "path" leading to the
              file has to be known. For the KIPR Robot Controller, the directory path to a mounted
              Flash drive in a USB port is
            </p>
            <div class="Indent"><code>/kovan/media/sda1/</code></div>
            <p>Files are accessed in C via a pointer of type <code>FILE</code>
              , which is defined
               in the system header file <code>&lt;stdio.h&gt;</code>
              . The pointer for a file
               is established when the file is "opened" for access. If the <code>fopen</code> function returns a <code>NULL</code>
               pointer, it indicates that either the file doesn't exist for
               the specified file path, or its file system hasn't been mounted (e.g., the USB
               drive has not been plugged in). Both cases are illustrated in the following program
               for a USB drive plugged into a KIPR Robot Controller. The example otherwise is
               a program designed to send data to a file, close the file, then reopen the file
               and retrieve the data to verify a successful write operation. If the file doesn't
               exist it is created. If it does exist, it is appended to. A user defined preprocessor
               macro (USB) is constructed to set the file path for the USB drive, illustrating
               how the preprocessor can be used to potentially simplify program code.
            </p><a name="LinkFileExample">
              <pre><code class="language-clike">#include &lt;stdio.h&gt;  // make sure file I/O is defined
// USBFILE is a Macro defined to preface a file name with the directory path for a mounted USB drive
#ifndef USBFILE
   // _STRINGIFY_ is an auxiliary macro which converts the argument into a string (by surrounding it with double quote marks)
   #define _STRINGIFY_(x) #x
   // the USBFILE macro appends x to the path for the USB drive, then uses _STRINGIFY_ to make the text a string
   #define USBFILE(x) _STRINGIFY_(/kovan/media/sda1/x)
#endif
int main()
{
   FILE *f; // file pointer f (the macro defining the FILE data type is in &lt;stdio.h&gt;)
   // A file for the USB drive named &quot;myfile&quot; is set up using macro USBFILE
   char s[81], chkf[] = USBFILE(myfile); // set up the file path for myfile in string variable chkf
   int x, data = 2;
   // try opening for read (&quot;r&quot;) to see if the file exists
   if ((f = fopen(chkf,&quot;r&quot;)) != NULL) {
      fclose(f); // file chkf already exists
      printf(&quot;Will be appending to USB %s\n&quot;, chkf);
   }
   // (chkf is not open at this point)
   // open to append (&quot;a&quot;), which also tests if the USB stick is plugged in
   if ((f = fopen(chkf,&quot;a&quot;)) == NULL) {
      printf(&quot;No USB stick detected\n&quot;);
      return -1; // exit the program
   }
   // file is now open for append; if it didn&apos;t exist it has been created
   printf(&quot;Sending %s, %d\n&quot;, &quot;Field &quot;, data);
   fprintf(f,&quot;Field &quot;); // use fprintf to send a text string to chkf
   fprintf(f,&quot;%d&quot;,data); // now send formatted numeric data using fprintf
   fclose(f); // close the file to make sure the output is sent
   // now read it back
   f = fopen(chkf,&quot;r&quot;); // it exists since we just created it
   fscanf(f,&quot;%s %d&quot;,s, &amp;x); // read the two data items from the file
   fclose(f); // done with file, so close it
   printf(&quot;Data read is %s: %d\n&quot;, s, x);
}</code></pre>
              <p>
                The USB drive can now be removed from the KIPR Robot Controller. If not already
                present, there will now be a file named <code>myfile</code>
                 on the USB drive,
                 which can be read using a text processor to confirm the write operation was successful.
                <!-- The_Link_Library_File--><a name="The_Link_Library_File"></a>
              </p>
              <h2>The KIPR Robot Controller Library File</h2>
              <p>
                The KIPR Robot Controller Library provides pre-compiled functions for employing
                the features of the KIPR Robot Controller or the KIPR Robot Controller simulator.
                The prototype declarations for these functions are automatically included by
                the C preprocessor if the KISS IDE target selection for a program is the KIPR
                Robot Controller or the simulator.
              </p>
              <!-- Commonly_Used_Link_Library_Functions--></a><a name="Commonly_Used_Link_Library_Functions"></a>
            <h3>Refresher for Commonly Used KIPR Robot Controller Library Functions</h3>
            <p>
              The most commonly used KIPR Robot Controller Library functions for robot control
              are ones for accessing sensor ports, operating DC motors, and suspending a
              program while a motor action is in progress. A quick refresher for the ones
              typically used follows:
            </p>
            <table style="background-color: #f0f0f0;">
              <tr>
                <td><br>
                  <div class="Indent"><code><a name="display_printfx"></a>display_printf(&lt;</code><i>col</i><code>&gt;, &lt;</code><i>row</i><code>&gt;, &lt;</code><i>printf-arguments</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        The purpose of this function is to display formatted output at a specific
                        (column, row) location on the KIPR Robot Controller program console
                        screen using standard <code>printf</code>
                         formatting. The column
                         range for the display is 0 to 41. For the 3 button (A,B,C) console
                         display, the row range is 0 to 9, and for the 6 button (X,Y,Z,A,B,C)
                         console display, the row range is 0 to 7. Excess data printed to
                         a row is truncated (i.e. text does not wrap). Printing " <code>\n</code>
                        "
                         using <code>display_printf</code> will cause undesired display results.
                      </dd>
                    </dl><code><a name="digitalx"></a>digital(&lt;</code><i>port#</i><code>&gt;)</code>
                    <dl>
                      <dd>
                        For a switch plugged into the port, returns 0 if the switch is open
                        and returns 1 if the switch is closed. Digital ports are numbered
                        8-15. Typically used with button (switch) sensors employed in bumpers
                        or to detect limit of travel. Will also work with sensors having
                        an analog response by interpreting the voltage reading as 0 or 1.
                      </dd>
                    </dl><code><a name="analogx"></a>analog(&lt;</code><i>port#</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        For an analog sensor plugged into the port, returns a value scaled
                        to the range 0-1023 representing the analog voltage variation produced
                        by the sensor. Analog ports are numbered 0-7. Light sensors and range
                        finders are examples of sensors used in analog ports. For some sensors,
                        in particular, the "ET" distance sensor used for robotics, the port's
                        pull up resistor (enabled by default) has to be disabled for the
                        analog values to be meaningful.
                      </dd>
                    </dl><code><a name="analog_etx"></a>analog_et(&lt;</code><i>port#</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        For an analog sensor plugged into the port, disables the port's pullup
                        resistor and returns a value scaled to the range 0-1023 representing
                        the analog voltage variation produced by the sensor. Analog ports
                        are numbered 0-7. This is the function normally used with the "ET"
                        distance sensor used for robotics, which has a pullup sensor already
                        integrated into its circuitry.
                      </dd>
                    </dl><code><a name="msleepx"></a>msleep(&lt;</code><i>int_msecs</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        Causes the function to pause for the specified number of milliseconds
                        (motor action continues).
                      </dd>
                    </dl><code><a name="mavx"></a>mav(&lt;</code><i>motor_#</i><code>&gt;, &lt;</code><i>vel</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        Turns on the specified motor port, maintaining the specified motor
                        velocity using PID (proportional, integral, derivative) motor control.
                        The motor number is an integer in the range 0 to 3. Motor velocity
                        is an integer between -1000 and 1000 where 0 means the motor is off
                        and negative numbers direct the motor to run in the reverse direction
                        for how it is plugged into the motor port.
                      </dd>
                    </dl><code><a name="motorx"></a>motor(&lt;</code><i>motor_#</i><code>&gt;, &lt;</code><i>motor_power</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        Turns on the specified motor port at the PWM power level specified,
                        where a positive power value operates the motor in the direction
                        as <code>fd</code>
                         and a negative value operates it in the reverse
                         direction. The motor number is an integer in the range 0 to 3. The
                         power setting is -100 to 100 representing percentage of full power.
                         Motor response with respect to power is non-linear (i.e., doubling
                         power does not double motor velocity). Moreover, motor velocity for
                         a power setting varies according to load. In contrast, PID motor
                         control varies the PWM power applied to try to establish and maintain
                         a specified motor velocity.
                      </dd>
                    </dl><code><a name="fdx"></a>fd(&lt;</code><i>motor_#</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        Turns of the specified motor port at maximum PWM (pulse width modulation)
                        power for the motor's forward direction for how the motor is plugged
                        in. The motor number is an integer between 0 and 3
                      </dd>
                    </dl><code><a name="bkx"></a>bk(&lt;</code><i>motor_#</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        Turns of the specified motor port at maximum PWM (pulse width modulation)
                        power for the motor's reverse direction for how the motor is plugged
                        in. The motor number is an integer between 0 and 3
                      </dd>
                    </dl><code><a name="offx"></a>off(&lt;</code><i>motor_#</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        Turns off the specified motor port. Once a motor port is turned on,
                        a motor plugged into the port will continue operating until the motor
                        port is turned off or the program terminates (which turns off all
                        motor ports).
                      </dd>
                    </dl><code><a name="aox"></a>ao();</code>
                    <dl>
                      <dd>Turns all motor ports off.</dd>
                    </dl>
                  </div>
                  <p></p>
                </td>
              </tr>
            </table>
            <!-- Functions--><a name="Functions"></a>
            <h3>KIPR Robot Controller Library Functions</h3>
            <p>
              The following is a comprehensive list of the pre-compiled functions provided
              by the KIPR Robot Controller Library. The library functions for using a USB
              camera, a graphics window, or a USB depth sensor, and those for controlling
              a Create module, are presented separately.
            </p>
            <table>
              <tbody>
                <tr>
                  <td><a name="a_button"></a></td>
                  <td><code>a_button</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int a_button();</code><br>
                         Returns the state of the A button on the KIPR Robot Controller program
                         console (1 if pressed, 0 otherwise).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="a_button_clicked"></a></td>
                  <td><code>a_button_clicked</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int a_button_clicked();</code><br>
                         Returns the state of the A button on the KIPR Robot Controller program
                         console (1 of pressed, 0 otherwise). Continued function execution
                         is blocked while the button is pressed. The construction
                        <dl>
                          <dd><code>while (a_button()==0) {<br>
                              while (a_button()==1); ...}
                                             //debounce A button</code></dd>
                        </dl> is equivalent to
                        <dl>
                          <dd><code>while <code> (a_button_clicked()==0) {...}</code></code></dd>
                        </dl>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="accel_x"></a></td>
                  <td><code>accel_x</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int accel_x();</code><br>
                         Returns the value of the accelerometer in its x direction relative
                         to the horizontal plane of the KIPR Robot Controller (left - right).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="accel_y"></a></td>
                  <td><code>accel_y</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int accel_y();</code><br>
                         Returns the value of the accelerometer in its y direction relative
                         to the horizontal plane of the KIPR Robot Controller (forward - back).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="accel_z"></a></td>
                  <td><code>accel_z</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int accel_z();</code><br>
                         Returns the value of the accelerometer for its vertical, or z direction,
                         relative to the horizontal plane of the KIPR Robot Controller (up
                         - down). When the KIPR Robot Controller is horizontal it is calibrated
                         to have a value corresponding to the gravitational constant G (your
                         acceleration towards the center of the Earth that keeps you from
                         flying off of the planet).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="alloff"></a></td>
                  <td><code>alloff</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>voidalloff();</code><br>
                         Turns off all motor ports.
                         ao is a short form for
                         alloff.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="analog"></a></td>
                  <td><code>analog</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int analog(int p);</code><br> Returns the value of the sensor plugged into analog port <code>p</code>
                         scaled as an integer between 0 and 1023. Analog ports on the KIPR
                         Robot Controller are numbered 0 through 7. Each analog port on the
                         KIPR Robot Controller has a selectable pullup resistor, enabled by
                         default since many analog sensors do not have this component built
                         in, although some do (such as the "ET" range finder). For a sensor
                         such as the ET sensor, the values returned by <code>analog</code>
                         will be unsatisfactory unless the pullup resistor for its port is
                         disabled by using <code> analog_et</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="analog_et"></a></td>
                  <td><code>analog_et</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int analog_et(int p);</code><br> For an analog sensor plugged into analog port <code>p</code>
                        , disables
                         the port's pullup resistor and returns a value scaled to the range
                         0-1023 representing the analog voltage variation produced by the
                         sensor. Analog ports are numbered 0-7. This is the function normally
                         used with the "ET" distance sensor used for robotics, which has a
                         pullup sensor already integrated into its circuitry.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="analog8"></a></td>
                  <td><code>analog8</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int analo8(int p);</code><br>
                         8-bit version of analog. Returns the value of the sensor plugged
                         into analog port <code>p</code>
                         scaled as an integer between 0 and
                         255. Analog ports on the KIPR Robot Controller are numbered 0 through
                         7.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="analog10"></a></td>
                  <td><code>analog10</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int analog10(int p);</code><br> Returns the value of the sensor plugged into analog port <code>p</code>
                         scaled as an integer between 0 and 1023. Analog ports on the KIPR
                         Robot Controller are numbered 0 through 7. Each analog port on the
                         KIPR Robot Controller has a selectable pullup resistor, enabled by
                         default since many analog sensors do not have this component built
                         in, although some do (such as the "ET" range finder). For a sensor
                         such as the ET sensor, the values returned by <code>analog10</code>
                         will be unsatisfactory unless the pullup resistor for its port is
                         disabled. Same as <code>analog</code>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="any_button"></a></td>
                  <td><code>any_button</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>intany_button()();</code><br> Returns 1 if any button (A,B,C,X,Y,Z,Side) is pressed.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="ao"></a></td>
                  <td><code>ao</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void ao();</code><br> Turns off all motor ports (same as <code>alloff</code>).</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="b_button"></a></td>
                  <td><code>b_button</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int b_button();</code><br>
                         Returns the state of the B button on the KIPR Robot Controller program
                         console (1 if pressed, 0 otherwise).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="b_button_clicked"></a></td>
                  <td><code>b_button_clicked</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int b_button_clicked();</code><br>
                         Returns the state of the B button on the KIPR Robot Controller program
                         console (1 of pressed, 0 otherwise). Continued function execution
                         is blocked while the button is pressed. The construction
                        <dl>
                          <dd><code>while (b_button()==0) {<br>
                              while (b_button()==1); ...}
                                               //debounce B button</code></dd>
                        </dl> is equivalent to
                        <dl>
                          <dd><code>while <code> (b_button_clicked()==0) {...}</code></code></dd>
                        </dl>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="beep"></a></td>
                  <td><code>beep</code> [Category: Output]
                    <dl>
                      <dd>Format: <code>void beep();</code><br>
                         Produces a tone from the KIPR Robot Controller loud speaker. Returns
                         when the tone is finished.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="bk"></a></td>
                  <td><code>bk</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void bk(int m);</code><br> Turns on the motor plugged into motor port <code>m</code>
                         at full
                         PWM power in the reverse direction (red light comes on for the KIPR
                         Robot Controller motor port). Motor ports are numbered from 0 to
                         3.<br> Example: <br>
                        <div class="Indent"><code>bk(3); // full power reverse for motor 3</code></div>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="block_motor_done"></a></td>
                  <td><code>block_motor_done</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void block_motor_done(int m);</code><br>
                         If a motor positioning function is in progress for the motor plugged
                         into motor port <code>m</code>
                        , continued function execution is blocked
                         until the motor has reached its goal position. Motor positioning
                         functions are <code>move_to_position</code> (or <code>mtp</code>
                        )
                         and <code>move_relative_position</code> (or <code>mrp</code>).<br> Example: <br><code>
                          <div class="Indent"><code>mtp(0,500,20000); // turn on motor 0 at 500 ticks/sec and stop when position 20000 is reached</code><br>
                            block_motor_done(1);
                                                                                    // pause until mtp has reached its goal position of 20000 for motor
                                                                                      1
                                                                                    
                          </div>
                                                            This function must be used with some care, since if something prevents the motor from reaching its goal position, the program
                                                            will hang until halted by external means.</code>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="bmd"></a></td>
                  <td><code>bmd</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void bmd(int m);</code><br> This function is the same as <code>block_motor_done</code>
                        , just under a (much)
                         shorter name.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="c_button"></a></td>
                  <td><code>c_button</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int c_button();</code><br>
                         Returns the state of the C button on the KIPR Robot Controller program console
                         (1 if pressed, 0 otherwise).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="c_button_clicked"></a></td>
                  <td><code>c_button_clicked</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int c_button_clicked();</code><br>
                         Returns the state of the C button on the KIPR Robot Controller program console
                         (1 of pressed, 0 otherwise). Continued function execution is blocked while the
                         button is pressed. The construction
                        <dl>
                          <dd><code>while (c_button()==0) {<br>
                              while (c_button()==1); ...}
                                           //debounce C button</code></dd>
                        </dl> is equivalent to
                        <dl>
                          <dd><code>while <code> (c_button_clicked()==0) {...}</code></code></dd>
                        </dl>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="clear_motor_position_counter"></a></td>
                  <td><code>clear_motor_position_counter</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void clear_motor_position_counter(int motor_nbr);</code><br> Reset the position counter for the motor specified to 0.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="console_clear"></a></td>
                  <td><code>console_clear</code> [Category: Output]
                    <dl>
                      <dd>Format: <code>void console_clear();</code><br>
                         Clear
                         the KIPR Robot Controller program console print buffer. See also <code>display_clear</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="digital"></a></td>
                  <td><code>digital</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int digital(int p);</code><br> Returns the value of the sensor in digital port <code>p</code>
                        , as a true/false
                         value (1 for true and 0 for false). Sensors are expected to be active low, meaning
                         that they are valued at zero volts in the active, or true, state. Thus the library
                         function returns the inverse of the actual reading from the digital hardware. If
                         the reading is zero volts or logic zero, the <code>digital</code>
                         function will
                         return true. Digital ports on the KIPR Robot Controller are numbered 8 through
                         15.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="disable_servo"></a></td>
                  <td><code>disable_servo</code> [Category: Servos]
                    <dl>
                      <dd>Format: <code>void disable_servo(int p);</code><br>
                         Disables the specified servo port. Servo ports are disabled by default, and if
                         enabled, consume power whenever a motor is plugged into them. Servo ports on the
                         KIPR Robot Controller are numbered 0 to 3.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="disable_servos"></a></td>
                  <td><code>disable_servos</code> [Category: Servos]
                    <dl>
                      <dd>Format: <code>void disable_servos();</code><br>
                         Disables all servo motor ports (powers down all servo motors). Servo ports are
                         disabled by default, and if enabled, consume power whenever a motor is plugged
                         into them.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="display_clear"></a></td>
                  <td><code>display_clear</code> [Category: Output]
                    <dl>
                      <dd>Format: <code>void display_clear();</code><br>
                         Clear
                         the KIPR Robot Controller program console screen for using <code>display_printf</code>
                        .
                         See also <code>console_clear</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="display_printf"></a></td>
                  <td><code>display_printf</code> [Category: Output]
                    <dl>
                      <dd>Format: <code>void display_printf(int col, int row, char s[], ... );</code><br>
                         The purpose of this function is to display formatted output at a specific (column,
                         row) location on the KIPR Robot Controller program console screen using standard <code>printf</code>
                         formatting. The column range for the display is 0 to 41. For
                         the 3 button (A,B,C) console display, the row range is 0 to 9, and for the 6 button
                         (X,Y,Z,A,B,C) console display, the row range is 0 to 7. Excess data printed to
                         a row is truncated (i.e. text does not wrap). Printing " <code>\n</code>" using <code>display_printf</code> will cause undesired display results.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="enable_servo"></a></td>
                  <td><code>enable_servo</code> [Category: Servos]
                    <dl>
                      <dd>Format: <code>void enable_servo(int p);</code><br>
                         Enables specified servo port. Servo ports are disabled by default, and if enabled,
                         consume power whenever a motor is plugged into them. If a servo position for a
                         port hasn't been set when it is enabled, the default position is 1023. Servo ports
                         on the KIPR Robot Controller are numbered 0 to 3.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="enable_servos"></a></td>
                  <td><code>enable_servos</code> [Category: Servos]
                    <dl>
                      <dd>Format: <code>void enable_servos();</code><br>
                         Enables
                         all servo motor ports. Servo ports are disabled by default, and if enabled, consume
                         power whenever a motor is plugged into them.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="extra_buttons_show"></a></td>
                  <td><code>extra_buttons_show</code> [Category: Output]
                    <dl>
                      <dd>Format: <code>void extra_buttons_show();</code><br>
                         Shows the X, Y, and Z buttons on the KIPR Robot Controller program console screen
                         above the A, B, and C buttons. Note: this reduces the display area for <code>printf</code> and <code>display_printf</code>. See also <code>extra_buttons_hide, get_extra_buttons_visible</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="extra_buttons_hide"></a></td>
                  <td><code>extra_buttons_hide</code> [Category: Output]
                    <dl>
                      <dd>Format: <code>void extra_buttons_hide();</code><br>
                         Hides the X, Y, and Z buttons on the KIPR Robot Controller program console screen.
                         Note: this is the default display configuration. See also <code>extra_buttons_show, get_extra_buttons_visible</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="fd"></a></td>
                  <td><code>fd</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void fd(int m);</code><br> Turns on the motor plugged into motor <code>m</code>
                         at full PWM power in the forward
                         direction (green light comes on for the KIPR Robot Controller motor port). Motors
                         are numbered 0 to 3.<br> Example:<br>
                        <div class="Indent"><code>fd(3); // full power forward for motor 3</code></div>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="freeze"></a></td>
                  <td><code>freeze</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void freeze(int m);</code><br>
                         Freezes motor m (prevents continued motor rotation, in contrast to
                         off, which allows the motor to "coast").
                      </dd>
                    </dl>
                  </td>
                </tr>
                <!--
                &lt;tr&gt;
                &lt;td&gt;&lt;a name="get_analog_pullup"&gt;&lt;/a&gt;&lt;/td&gt;
                &lt;td&gt; &lt;code&gt;get_analog_pullup&lt;/code&gt; [Category: Sensors]
                &lt;dl&gt;&lt;dd&gt;
                Format: &lt;code&gt;&lt;font class="CVariable"&gt;int&lt;/font&gt; get_analog_pullup(&lt;font class="CVariable"&gt;int&lt;/font&gt; port);&lt;/code&gt;&lt;br&gt;
                Returns 1 if the port's pullup resistor is enabled (the default), and 0 otherwise. See also &lt;code&gt;set_analog_pullup&lt;/code&gt;.&lt;/dd&gt;
                &lt;/dl&gt;
                &lt;/td&gt;
                &lt;/tr&gt;
                -->
                <!--
                &lt;tr&gt;
                &lt;td&gt;&lt;a name="get_digital_pullup"&gt;&lt;/a&gt;&lt;/td&gt;
                &lt;td&gt; &lt;code&gt;get_digital_pullup&lt;/code&gt; [Category: Sensors]
                &lt;dl&gt;&lt;dd&gt;
                Format: &lt;code&gt;&lt;font class="CVariable"&gt;int&lt;/font&gt; get_digital_pullup(&lt;font class="CVariable"&gt;int&lt;/font&gt; port);&lt;/code&gt;&lt;br&gt;
                Returns 1 if the port's pullup resistor is enabled (the default), and 0 otherwise. See also &lt;code&gt;set_digital_pullup&lt;/code&gt;.&lt;/dd&gt;
                &lt;/dl&gt;
                &lt;/td&gt;
                &lt;/tr&gt;
                -->
                <tr>
                  <td><a name="get_extra_buttons_visible"></a></td>
                  <td><code>get_extra_buttons_visible</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int get_extra_buttons_visible();</code><br> Returns 1 if the X, Y, and Z buttons are visible, 0 if not. See also <code>extra_buttons_show, extra_buttons_hide</code></dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_motor_done"></a></td>
                  <td><code>get_motor_done</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>int get_motor_done(int m);</code><br>
                         For a motor moving to a goal position set by a motor positioning command, returns
                         1 if the motor has reached the goal position and 0 otherwise. Motor positioning
                         functions are <code>move_to_position</code> (or <code>mtp</code>) and <code>move_relative_position</code> (or <code>mrp</code>). See also <code>block_motor_done</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_motor_position_counter"></a></td>
                  <td><code>get_motor_position_counter</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>int get_motor_position_counter(int m);</code><br> Returns the current motor position for motor <code>m</code>
                         in "ticks" (a value
                         which is continually being updated for each motor using PID motor control based
                         on back EMF; a typical discrimination for a given motor is on the order of 1100
                         position "ticks" per rotation)
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_pid_gains"></a></td>
                  <td><code>get_pid_gains</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>int get_pid_gains(int motor, int *p, int *i, int *d, int *pd, int *id, int *dd);</code><br> This function is used to obtain the PID control values currently set for the KIPR Robot Controller motor ports. The <code>p</code>, <code>i</code> and <code>d</code> arguments are numerators, and the <code>pd</code>, <code>id</code> and <code>dd/</code>
                         arguments are their respective denominators
                         for coefficients used by the PID control algorithm. While all of the parameters
                         are integers, the coefficients used within the PID control algorithm may be integers
                         or floating point. PID stands for proportional, integral, derivative and uses BEMF
                         (back electromotive force) feedback from a motor to determine how much PWM power
                         to apply based on predictors governed by the PID coefficients. If a motor is jerky,
                         the p and d terms should be reduced in size. If a motor lags far behind a specified
                         velocity, they should be increased. The default values are set at firmware install
                         as effective values for motors sold by KIPR. See also <code>set_pid_gains</code>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_servo_enabled"></a></td>
                  <td><code>get_servo_enabled</code> [Category: Servos]
                    <dl>
                      <dd>Format: <code>int get_servo_enabled(int srv);</code><br>
                         Returns 1 if the specified servo port is enabled and 0 otherwise. Servo ports on
                         the KIPR Robot Controller are numbered 0 to 3.See also <code>enable_servo, disable_servo</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_servo_position"></a></td>
                  <td><code>get_servo_position</code> [Category: Servos]
                    <dl>
                      <dd>Format: <code>int get_servo_position(int srv);</code><br> Returns the last position value set for the servo in port <code>srv</code>
                        . The
                         value will be in the range 0 to 2047. Servo ports on the KIPR Robot Controller
                         are numbered 0 to 3. See also
                         set_servo_position.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="mav"></a></td>
                  <td><code>mav</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void mav(int m, int vel);</code><br> This function is the same as <code>move_at_velocity</code></dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="motor"></a></td>
                  <td><code>motor</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void motor(int m, int p);</code><br> Turns on motor port <code>m</code> at <code>p</code>
                        % of full PWM motor power.
                         The range for <code>p</code>
                         is -100 to 100, where a negative value runs the motor
                         in its reverse direction. On the KIPR Robot Controller, a motor port supplying
                         forward power lights green, and for reverse lights red, although actual motor direction
                         depends on how it is plugged in.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="move_at_velocity"></a></td>
                  <td><code>move_at_velocity</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void move_at_velocity(int m, int vel);</code><br> Turns on motor port <code>m</code>
                        , varying applied PWM power using PID motor control
                         to maintain motor velocity <code>vel</code>
                         indefinitely. The velocity range is
                         -1000 to 1000 ticks per second. On the KIPR Robot Controller, a motor port supplying
                         forward power lights green, and for reverse lights red, although actual motor direction
                         depends on how it is plugged in.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="move_relative_position"></a></td>
                  <td><code>move_relative_position</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void move_relative_position(int m, int absvel, int pos);</code><br> Turns on motor port <code>m</code>
                        , varying applied PWM power using PID motor control
                         to maintain motor velocity <code>absvel</code>
                         (Â±) until the motor has moved
                         from its current position cp to the goal position cp <code> + pos</code>
                        . The range
                         for the <code>absvel</code>
                         argument is 0 to 1000 ticks per second. On the KIPR
                         Robot Controller, a motor port supplying forward power lights green, and for reverse
                         lights red, although actual motor direction depends on how it is plugged in.
                      </dd>
                      <dd>Example: <br>
                        <div class="Indent"><code>move_relative_position(1,275,-1100);</code></div>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="move_to_position"></a></td>
                  <td><code>move_to_position</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void move_to_position(int m, int absvel, int pos);</code><br> Turns on motor port <code>m</code>
                        , varying applied PWM power using PID motor control
                         to maintain motor velocity <code>absvel</code>
                         (Â±) until the motor has moved
                         from its current position to goal position <code>pos</code>. The range for the <code>absvel</code>
                         argument is 0 to 1000 ticks per second. On the KIPR Robot Controller,
                         a motor port supplying forward power lights green, and for reverse lights red,
                         although actual motor direction depends on how it is plugged in. If the motor is
                         already at the goal position <code>pos</code>, the motor doesn't move.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="mrp"></a></td>
                  <td><code>mrp</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void mrp(int m, int vel, int pos);</code><br> This function is the same as <code>move_relative_position</code>.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="mtp"></a></td>
                  <td><code>mtp</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void mtp(int m, int vel, int pos);</code><br> This function is the same as <code>move_to_position</code>.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="msleep"></a></td>
                  <td><code>msleep</code> [Category: Time]
                    <dl>
                      <dd>Format: <code>void msleep(int msec);</code><br> Suspends function execution for the amount of time specified in milliseconds.<br> Example:<br>
                        <div class="Indent"><code>msleep(1500); //wait for 1.5 seconds</code></div>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="off"></a></td>
                  <td><code>off</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>void off(int m);</code><br> Turns off motor port <code>m</code>.<br> Example:<br>
                        <div class="Indent"><code>off(1);</code>// turn off motor 1</div>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="power_level"></a></td>
                  <td><code>power_level</code> [Category: Sensor]
                    <dl>
                      <dd>Format: <code>double power_level();</code><br>
                         Returns
                         the current power level for the KIPR Robot Controller battery.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="run_for"></a></td>
                  <td><code>run_for</code> [Category: Threads]
                    <dl>
                      <dd>Format: <code>void run_for(double sec, &lt;</code><i>function_name</i><code>&gt;);</code><br>
                         Runs the specified function and tracks its execution until either the function
                         finishes or the specified number of seconds has elapsed. If the specified number
                         of seconds has elapsed, <code>runfor</code> terminates execution for the function.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="seconds"></a></td>
                  <td><code>seconds</code> [Category: Time]
                    <dl>
                      <dd>Format: <code>double seconds();</code><br>
                         Returns the number of seconds that have elapsed since system start up according
                         to the system's internal clock. Resolution is 0.001 seconds (one millisecond).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="set_a_button_text"></a></td>
                  <td><code>set_a_button_text</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>void set_a_button_text char txt[]);</code><br>
                         This function resets the text displayed on the A button to be the text string specified
                         rather than the default string "A".
                      </dd>
                    </dl>
                  </td>
                </tr>
                <!--
                &lt;tr&gt;
                &lt;td&gt;&lt;a name="set_analog_pullup"&gt;&lt;/a&gt;&lt;/td&gt;
                &lt;td&gt; &lt;code&gt;set_analog_pullup&lt;/code&gt; [Category: Sensors]
                &lt;dl&gt;&lt;dd&gt;
                Format: &lt;code&gt;&lt;font class="CVariable"&gt;void&lt;/font&gt; set_analog_pullup(&lt;font class="CVariable"&gt;int&lt;/font&gt; port, &lt;font class="CVariable"&gt;int&lt;/font&gt; pullupTF);&lt;/code&gt;&lt;br&gt;
                By default, a pullup resistor is enabled for each analog port. This function disables (or re-enables) the pullup resistor for the selected analog port. If an analog sensor doesn't have an integrated pullup resistor (such as an IR light sensor), the pullup resistor for the sensor's analog port needs to be enabled. For an analog sensor that sets its own pullup value (the "ET" optical range finder is such a sensor), the pullup resistor for its analog port needs to be disabled. For example, &lt;/code&gt;&lt;br&gt;
                &lt;div class="Indent"&gt; &lt;code&gt;set_analog_pullup(3,0); &lt;font class="Comment"&gt;/*disable the port 3 pullup resistor&lt;/code&gt;&lt;br&gt;
                (port is now "floating" and the ET sensor will work correctly in it)*/&lt;/font&gt;&lt;/code&gt;&lt;br&gt;
                &lt;code&gt;set_analog_pullup(3,1); &lt;font class="Comment"&gt; /*re-enable the port 3 pullup resistor &lt;/code&gt;&lt;br&gt;
                (the ET sensor will no longer work correctly in it)*/&lt;/font&gt;&lt;/div&gt;&lt;/code&gt;
                See also &lt;code&gt;get_analog_pullup&lt;/code&gt; and &lt;code&gt;analog_ET&lt;/code&gt;.&lt;/dd&gt;
                &lt;/dl&gt;
                &lt;/td&gt;
                &lt;/tr&gt;
                -->
                <tr>
                  <td><a name="set_b_button_text"></a></td>
                  <td><code>set_b_button_text</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>void set_b_button_textchar txt[]);</code><br>
                         This function resets the text displayed on the B button to be the text string specified
                         rather than the default string "B".
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="set_c_button_text"></a></td>
                  <td><code>set_c_button_text</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>void set_c_button_textchar txt[]);</code><br>
                         This function resets the text displayed on the C button to be the text string specified
                         rather than the default string "C".
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="set_digital_output"></a></td>
                  <td><code>set_digital_output</code> [Category: Output]
                    <dl>
                      <dd>Format: <code>void set_digital_output(int port, int inout);</code><br>
                         Digital ports on the KIPR Robot Controller can be configured for either input or
                         output. By default digital ports are set for input. If the value of <code>inout</code> is 1, the port is configured for output, for example, the statement<br>
                        <div class="Indent"><code>set_digital_output(9,1);</code></div> when executed configures digital port 9 for output. The port number specified must be in the range from 8 to 15. See also <code>set_digital_value</code>. See below for an <a href="#digital_out_LED">example program</a> using digital output.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <!--
                &lt;tr&gt;
                &lt;td&gt;&lt;a name="set_digital_pullup"&gt;&lt;/a&gt;&lt;/td&gt;
                &lt;td&gt; &lt;code&gt;set_digital_pullup&lt;/code&gt; [Category: Sensors]
                &lt;dl&gt;&lt;dd&gt;
                Format: &lt;code&gt;&lt;font class="CVariable"&gt;void&lt;/font&gt; &lt;font class="CFunction"&gt;set_digital_pullup&lt;/font&gt;(&lt;font class="CVariable"&gt;int&lt;/font&gt; port,&lt;font class="CVariable"&gt;int&lt;/font&gt; pullupTF);&lt;/code&gt;&lt;br&gt;
                By default, a pullup resistor is enabled for each digital port. This function disables (or re-enables) the pullup resistor for the selected digital port. If a digital sensor doesn't have an integrated pullup resistor (which is the case for simple switches or an LED), the pullup resistor for the sensor's digital port needs to be enabled. For a digital sensor that sets its own pullup value (there are none used for Botball), the pullup resistor for its digital port needs to be disabled. See also &lt;code&gt;get_digital_pullup&lt;/code&gt;.&lt;/dd&gt;
                &lt;/dl&gt;
                &lt;/td&gt;
                &lt;/tr&gt;
                -->
                <tr>
                  <td><a name="set_digital_value"></a></td>
                  <td><code>set_digital_value</code> [Category: Output]
                    <dl>
                      <dd>Format: <code>void set_digital_value(int port, int value);</code><br>
                         Sets the (SEN) value for the specified port on the KIPR Robot Controller to either
                         0 (low) or 1 (high). For the sensor ports on the KIPR Robot Controller, the SEN
                         rail is the inner rail having a single row of sockets. The specified port must
                         be in the range 8 to 15. The library function <code>set_digital_ouput</code>
                         is
                         used to configure a digital port on the KIPR Robot Controller for output (or to
                         re-configure it for input).<br><br>
                        As an example, if the anode lead for an LED (the longer of its two leads)
                         is plugged into the SEN socket for digital port 9 and its cathode lead into the
                         GND rail (the outer rail for the PWR/GND rails), then if digital port 9 has been
                         set for output<br>
                        <div class="Indent"><code>set_digital_value(9,1);</code></div> will turn on the LED when executed and <br>
                        <div class="Indent"><code>set_digital_value(9,0);</code></div> will turn it off. See below for an <a href="#digital_out_LED">example program</a> using digital output.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="set_pid_gains"></a></td>
                  <td><code>set_pid_gains</code> [Category: Motors]
                    <dl>
                      <dd>Format: <code>int set_pid_gains(int motor, int p, int i, int d, int pd, int id, int dd);</code><br>
                         This function is used to change the PID control values currently set for the KIPR
                         Robot Controller motor ports. The <code>p</code>, <code>i</code> and <code>d</code> arguments are numerators, and the <code>pd</code>, <code>id</code> and <code>dd</code>
                         arguments are their respective denominators for coefficients used by the PID control
                         algorithm. While all of the parameters are integers, the coefficients used within
                         the PID control algorithm may be integers or floating point. PID stands for proportional,
                         integral, derivative and uses BEMF (back electromotive force) feedback from a motor
                         to determine how much PWM power to apply based on predictors governed by the PID
                         coefficients. If a motor is jerky, the p and d terms should be reduced in size.
                         If a motor lags far behind a specified velocity, they should be increased. The
                         default values are set at firmware install as effective values for motors sold
                         by KIPR. See also <code>get_pid_gains</code>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="set_servo_position"></a></td>
                  <td><code>set_servo_position</code> [Category: Servos]
                    <dl>
                      <dd>Format: <code>int set_servo_position(int srv, int pos);</code><br> Sets the position value of the servo in port <code>srv</code>. The value of <code>pos</code>
                         must be in the range 0 to 2047. The KIPR Robot Controller has 4 servo ports numbered
                         0 to 3. A servo motor consumes maximum power when trying to reach a position, so
                         if the servo cannot reach the position specified, its power consumption will rapidly
                         pull the KIPR Robot Controller battery down. Servo motors tend to reach their limit
                         of travel around 200 short of either end of the 0 to 2047 range, so values close
                         to the limit of travel should be avoided. Additionally, servo travel is not smooth,
                         and positions tend to be about 5 units apart on the 0 to 2047 scale; i.e., position
                         increments should be at least 5. see also <code>get_servo_position</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="set_x_button_text"></a></td>
                  <td><code>set_x_button_text</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>void set_x_button_text(char txt[]);</code><br>
                         This function resets the text displayed on the X button to be the text string specified
                         rather than the default string "X". See also <code>extra_buttons_show, extra_buttons_hide, get_extra_buttons_visible</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="set_y_button_text"></a></td>
                  <td><code>set_y_button_text</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>void set_y_button_text(char txt[]);</code><br>
                         This function resets the text displayed on the Y button to be the text string specified
                         rather than the default string "Y". See also <code>extra_buttons_show, extra_buttons_hide, get_extra_buttons_visible</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="set_z_button_text"></a></td>
                  <td><code>set_z_button_text</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>void set_z_button_text(char txt[]);</code><br>
                         This function resets the text displayed on the Z button to be the text string specified
                         rather than the default string "Z". See also <code>extra_buttons_show, extra_buttons_hide, get_extra_buttons_visible</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <!--
                the purpose of the following function is unclear since it neither runs a motor nor affects performance of motor functions
                &lt;tr&gt;
                &lt;td&gt;&lt;a name="setpwm"&gt;&lt;/a&gt;&lt;/td&gt;
                &lt;td&gt; &lt;code&gt;setpwm&lt;/font&gt;&lt;/code&gt; [Category: Motors]
                &lt;dl&gt;&lt;dd&gt;
                &lt;font class="CVariable"&gt;int&lt;/font&gt; setpwm(&lt;font class="CVariable"&gt;int &lt;/font&gt;m, &lt;font class="CVariable"&gt;int&lt;/font&gt; dc);&lt;/code&gt;&lt;br&gt;
                Runs motor m at duty cycle &lt;code&gt;dc&lt;/code&gt; (values are from -100 to 100)&lt;/dd&gt;
                &lt;/dl&gt;
                &lt;/td&gt;
                &lt;/tr&gt;
                -->
                <tr>
                  <td><a name="side_button"></a></td>
                  <td><code>side_button (or black_button)</code>
                    [Category:
                     Sensors]
                    <dl>
                      <dd>Format: <code>int side_button();</code><br>
                         Returns the state of the (physical) side button on the KIPR Robot Controller (1
                         if pressed, 0 otherwise).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="side_button_clicked"></a></td>
                  <td><code>side_button_clicked</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int side_button_clicked();</code><br>
                         Returns the state of the (physical) side button on the KIPR Robot Controller (1
                         if pressed, 0 otherwise). Continued function execution is blocked while the button
                         is pressed. The construction returns 1 for pressed, 0 for not pressed. The construction
                        <dl>
                          <dd><code>while (side_button()==0) {<br>
                              while (side_button()==1); ...}
                                               //debounce A button</code></dd>
                        </dl> is equivalent to
                        <dl>
                          <dd><code>while (a_button_clicked()==0) {...}</code></dd>
                        </dl>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="thread_create"></a></td>
                  <td><code>thread_create</code> [Category: Threads]
                    <dl>
                      <dd>Format: <code>thread thread_create(&lt;</code><i>function name</i><code>&gt;);</code><br> The <code>thread_create</code>
                         function is used to create a thread for running
                         a function in parallel to <code>main</code>
                        , returning a thread ID value of type
                         thread. The special data type
                         thread is for the thread ID's created by the system to keep track of active
                         threads. Note that the returned value must be assigned to a variable of type
                         thread to remain available to the program. When a function is run in a thread
                         (via <code>thread_start</code>
                        ),the thread will remain active until the function
                         finishes or the thread is destroyed (via <code>thread_destroy</code>
                        ). If the thread
                         hasn't been destroyed, it can be started again; otherwise, a new thread has to
                         be created for the function to be run in a thread again. Since the system limits
                         how many threads can be created, thread management is important; i.e., threads
                         should be destroyed once they have finished (if threads seem to stop working it
                         is usually because too many have been created). See the <a href="#Threads">section on threads</a> below for additional information and an example.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="thread_destroy"></a></td>
                  <td><code>thread_destroy</code> [Category: Threads]
                    <dl>
                      <dd>Format: <code>void thread_destroy(thread tid);</code><br> The <code>thread_destroy</code>
                         function is used to destroy a thread created for
                         running a function in parallel to main. The thread is destroyed by passing its
                         thread ID to <code>thread_destroy</code>
                        . If the function for the thread is running in the thread
                         when the thread is destroyed, its execution is terminated. See the <a href="#Threads">section on threads</a> below for additional information and an example.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="thread_start"></a></td>
                  <td><code>thread_start</code> [Category: Threads]
                    <dl>
                      <dd>Format: <code>void thread_start(thread tid);</code><br> The <code>thread_start</code> function is used to activate the thread given by <code>tid</code>, running its associated function in the thread in parallel with <code>main</code> and any other active threads. The value of argument <code>tid</code> must have a thread ID value as returned by <code>thread_create</code>
                        . Keep in
                         mind that thread IDs generated by <code>thread_create</code>
                         must be retained in
                         variables of type
                         thread to remain available for later use in a program. The thread is active
                         until its function finishes or until it is terminated by <code>thread_destroy</code>
                        .
                         A global variable can be used as a flag for a function running in a thread to signal
                         when it is done.
                        <p>The following example shows the <code>main</code>
                           process creating a thread for
                           the function <code>check_sensor</code>
                          , running the function in the thread, and
                           then destroying the thread one second later (whether or not the thread is still
                           active):
                        </p><a name="BasicThread"></a>
                        <pre><code class="language-clike">int main()
{
    thread tid;  // variable for holding a thread&apos;s ID
    tid = thread_create(check_sensor);  // capture thread&apos;s ID in tid
    thread_start(tid);  // run check_sensor in the thread
    msleep(1000);  // let it keep running for a second
    thread_destroy(tid);  // stop check_sensor if still running
}<br></code></pre><br> See the <a href="#Threads">section on threads</a>
                         below for a complete example
                         using threads.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="thread_wait"></a></td>
                  <td><code>thread_wait</code> [Category: Threads]
                    <dl>
                      <dd>Format: <code>void thread_wait(thread tid);</code><br> If <code>thread_wait</code>
                         is executed in a function, it will block continued
                         execution of the function until the function running in the thread given by <code>tid</code> has finished (or until the thread given by <code>tid</code>
                         is destroyed by some
                         other process). If the thread given by <code>tid</code>
                         is inactive, the function
                         does nothing. <code>thread_wait</code>
                         is used for synchronization of multiple threads (e.g.,
                         thread 1 doesn't continue until thread 2 is done). See the <a href="#Threads">section on threads</a> below for additional information and an example.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="x_button"></a></td>
                  <td><code>x_button </code>[Category: Sensors]
                    <dl>
                      <dd>Format: <code>int x_button();</code><br>
                         Returns
                         the state of the X button when it is visible on the KIPR Robot Controller program
                         console (1 if pressed, 0 otherwise). This button is an extra button. Use <code>extra_buttons_show</code> to show the X, Y, and Z buttons. See also <code>extra_buttons_hide, get_extra_buttons_visible</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="x_button_clicked"></a></td>
                  <td><code>x_button_clicked</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int x_button_clicked();</code><br>
                         Returns the state of the X button when it is visible on the KIPR Robot Controller
                         program console (1 if pressed, 0 otherwise). Continued function execution is blocked
                         while the button is pressed. The construction
                        <dl>
                          <dd><code>while (x_button()==0) {<br>while(x_button()==1); ...}  //debounce X button</code></dd>
                        </dl> is equivalent to
                        <dl>
                          <dd><code>while(x_button_clicked()==0) {...}</code><br></dd>
                        </dl> This button is an extra button. Use <code>extra_buttons_show</code>
                         to show the
                         X, Y, and Z buttons. See also <code>extra_buttons_hide, get_extra_buttons_visible</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="y_button"></a></td>
                  <td><code>y_button </code>[Category: Sensors]
                    <dl>
                      <dd>Format: <code>int y_button();</code><br>
                         Returns
                         the state of the Y button when visible on the KIPR Robot Controller program console
                         (1 if pressed, 0 otherwise). This button is an extra button. Use <code>extra_buttons_show</code> to show the X, Y, and Z buttons. See also <code>extra_buttons_hide, get_extra_buttons_visible</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="y_button_clicked"></a></td>
                  <td><code>y_button_clicked</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int y_button_clicked();</code><br>
                         Returns the state of the Y button when it is visible on the KIPR Robot Controller
                         program console (1 if pressed, 0 otherwise). Continued function execution is blocked
                         while the button is pressed. The construction
                        <dl>
                          <dd><code>while (y_button()==0) {<br>while(y_button()==1); ...}  //debounce Y button</code></dd>
                        </dl> is equivalent to<br>
                        <dl>
                          <dd><code>while(y_button_clicked()==0) {...}</code><br></dd>
                        </dl> This button is an extra button. Use <code>extra_buttons_show</code>
                         to show the
                         X, Y, and Z buttons. See also <code>extra_buttons_hide, get_extra_buttons_visible</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="z_button"></a></td>
                  <td><code>z_button </code>[Category: Sensors]
                    <dl>
                      <dd>Format: <code>int z_button();</code><br>
                         Returns
                         the state of the Z button when visible on the KIPR Robot Controller program console
                         (1 if pressed, 0 otherwise). This button is an extra button. Use <code>extra_buttons_show</code> to show the X, Y, and Z buttons. See also <code>extra_buttons_hide, get_extra_buttons_visible</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="z_button_clicked"></a></td>
                  <td><code>z_button_clicked</code> [Category: Sensors]
                    <dl>
                      <dd>Format: <code>int z_button_clicked();</code><br>
                         Returns the state of the Z button when it is visible on the KIPR Robot Controller
                         program console (1 if pressed, 0 otherwise). Continued function execution is blocked
                         while the button is pressed. The construction
                        <dl>
                          <dd><code>while (z_button()==0) {<br>while(z_button()==1); ...}  //debounce Z button</code></dd>
                        </dl> is equivalent to<br>
                        <dl>
                          <dd><code>while(z_button_clicked()==0) {...}</code><br></dd>
                        </dl> This button is an extra button. Use <code>extra_buttons_show</code>
                         to show the
                         X, Y, and Z buttons. See also <code>extra_buttons_hide, get_extra_buttons_visible</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="Indent"><a name="digital_out_LED"></a>
              <h4>Example program for lighting an LED plugged into a digital port</h4>
              <p>
                By default the digital ports for the KIPR Robot Controller are configured for input.
                The KIPR Robot Controller Library function <code>set_digital_output</code>
                 is used
                 to configure digital port direction; for example,
              </p>
              <div class="Indent"><code>set_digital_output(9, 1);</code></div>
              <p>configures port 9 for output and</p>
              <div class="Indent"><code>set_digital_output(9, 0);</code></div>
              <p>configures it for input.</p>
              <p>For a digital port configured for output, the KIPR Robot Controller Library function <code>set_digital_value</code>
                 is used to set the port's output value to either 0 (low)
                 or 1 (high); for example,
              </p>
              <div class="Indent"><code>set_digital_value(9, 1);</code></div>
              <p>sets the output value for port 9 high.</p>
              <p>
                If you have a typical 5mm LED on hand, you can use the following program to operate it.
                An LED will "turn on" when voltage applied to its anode lead rises above a prescribed
                level (typically between 1.9 and 3.2V, depending on color). If too much current is
                passed through the LED, it will burn out (the typical spec is 20-30mA). For the KIPR
                Robot Controller, digital outputs on the SEN rail are sufficiently current limited
                to operate an LED without burning it out.
              </p>
              <table width="80%">
                <tbody>
                  <tr>
                    <td>
                      The LED's anode is normally identified by having the longer of the two leads. Additionally,
                      the flange at the base of the LED is normally flattened on the cathode side.
                    </td>
                    <td>
                      <!-- &lt;img src="/imgs/docs/LEDform.gif" style="float:right;" width="80%"&gt;&lt;/img&gt;-->
                    </td>
                  </tr>
                </tbody>
              </table><br><a name="BlinkLED"></a>
              <pre><code class="language-clike">/*  This is a program to blink an LED plugged into digital port 9 */
int main()
{
   printf(&quot;LED in port 9\n&quot;);
   printf(&quot;Press side button to quit\n&quot;);
   set_digital_output(9, 1); // set digital port direction to digital output
   while (side_button() == 0) {
      set_digital_value(9, 1); // set digital output to 1 (high)
      msleep(500);
      set_digital_value(9, 0); // set digital output to 0 (low)
      msleep(500);
   }
   set_digital_output(9, 0); // set digital port direction back to digital input
   printf(&quot;\ndone\n&quot;);
}</code></pre>
            </div>
            <!-- Vision API--><a name="vision"></a>
            <h3>KIPR Robot Controller Vision Library Functions</h3>
            <p>
              The KIPR Robot Controller Vision System incorporates color vision tracking and QR code
              identification. A USB web camera is used to provide images to the KIPR Robot Controller
              at a rate dependent on lighting conditions but exceeding 6 frames per second. Using the
              KIPR Robot Controller interface, an arbitrary number of camera configurations containing
              channels for color vision tracking and/or QR code identification can be defined.
            </p>
            <p>
              For color vision tracking, images are processed by the KIPR Robot Controller to identify
              "blobs" matching the color specification for each color channel in a camera configuration.
              A blob is a set of contiguous pixels in the image matching the color specification for
              the channel.
            </p>
            <p>
              For each color channel in a selected configuration, the values to be used to identify which
              pixels in an image match the desired color for the channel are interactively selected
              from a color spectrum chart to provide a color specification for the channel. Live feed
              from the camera simplifies the process of determining how much of the spectrum is needed
              to produce blobs matching the color (e.g., a particular part of the spectrum might include
              all pixels that are "reddish" in color for a channel to be used for identifying red objects).
              The spectrum values for the channel are retained with the configuration until the configuration
              is deleted. See the KIPR Robot Controller Manual available from KIPR for information
              on setting up camera configurations on a KIPR Robot Controller controller.
            </p>
            <p>
              There are three camera image resolutions supported on the KIPR Robot Controller, 160Ã—120
              ( <code>LOW-RES</code>), 320Ã—240 ( <code>MED-RES</code>), and 640Ã—480 ( <code>HIGH-RES</code>). <code>LOW-RES</code>
               is sufficient for
               most purposes and requires far less processing overhead. For <code>LOW-RES</code>
               the
               upper left corner for the image has coordinates (0,0) and the lower right has coordinates
               (159,119). The camera image displayed on the KIPR Robot Controller is slightly smaller
               than the actual image size.
            </p>
            <p>
              <!-- &lt;img class="center" src="/imgs/docs/Vision_Coordinates.gif" width="20%"&gt;&lt;/img&gt;-->
            </p>
            <p>
              KIPR Robot Controller Vision Library functions are used to select a configuration and
              obtain information about the color blobs being identified by its channels, such as
              bounding box coordinates and pixel density.
            </p>
            <p>
              In addition to channels for color tracking, a configuration can have channels for identifying
              QR (Quick Response) codes. A QR code is essentially a 2-dimensional bar code for
              compactly representing text data. KIPR Robot Controller Vision Library functions
              are provided for decoding any QR code in the image. See the QR code vision functions <code>get_object_data, get_object_data_length</code> below.
            </p>
            <table>
              <tbody>
                <tr>
                  <td><a name="camera_close"></a></td>
                  <td><code>camera_close </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>void camera_close();</code><br> Cleanup the current camera instance. See also <code>camera_open, camera_open_at_res, camera_open_device</code>.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="camera_load_config"></a></td>
                  <td><code>camera_load_config </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>int camera_load_config(char name[]);</code><br>
                         Loads a config file on the KIPR Robot Controller other than the default
                         config file. You <b>must</b> append <code>.config</code>
                         to the name for
                         this function to locate it. Returns 1 on success, 0 on failure. See also <code>camera_open, camera_open_at_res, camera_open_device</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="camera_open"></a></td>
                  <td><code>camera_open </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>int camera_open();</code><br>
                         Opens the KIPR Robot Controller's default channel configuration. The default
                         configuration is selected from among the channel configurations defined
                         on the KIPR Robot Controller using its <i>settings..channels</i>
                         menu.
                         A resolution of <code>LOW_RES</code>
                         is used. Returns 1 on success, 0 on
                         failure. See also <code>camera_open_at_res, camera_open_device, camera_close</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="camera_open_at_res"></a></td>
                  <td><code>camera_open_at_res </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>int camera_open_at_res(int res_numb);</code><br>
                         Opens the KIPR Robot Controller's default channel configuration. The default
                         configuration is selected from among the channel configurations defined
                         on the KIPR Robot Controller using its <i>settings..channels</i>
                         menu.
                         A resolution of one of <code>LOW_RES</code>, <code>MED_RES</code>, <code>HIGH_RES</code> needs to be specified. Returns 1 on success, 0 on failure. See also <code>camera_open, camera_open_device, camera_close</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="camera_open_device"></a></td>
                  <td><code>camera_open_device </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>int camera_open_device(int number, int res_numb);</code><br>
                         If more than 1 camera is plugged in, 0 is the first camera, 1 is the second
                         camera, etc. Only 1 camera at a time can be used, and the default configuration
                         is selected. A resolution of one of <code>LOW_RES</code>, <code>MED_RES</code>, <code>HIGH_RES</code>
                         needs to be specified. Returns 1 on success, 0 on
                         failure. See also <code>camera_open, camera_open_at_res, camera_close</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="camera_update"></a></td>
                  <td><code>camera_update </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>int camera_update();</code><br>
                         Retrieves the current image from the camera for processing. Returns 1 on
                         success, 0 on failure.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_channel_count"></a></td>
                  <td><code>get_channel_count </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>int get_channel_count();</code><br> Returns the number of channels in the current configuration. See also <code>get_object_count</code>.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_camera_frame"></a></td>
                  <td><code>get_camera_frame </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>const unsigned char* get_camera_frame();</code><br> Returns a pointer to the camera frame. The pointer is valid until <code>camera_update()</code>
                         is called again. Frame data is in BGR 888 pixel format, 3 bytes per pixel.
                         It is stored as a 1-dimensional character array where each byte is the
                         8-bit (unsigned) integer value for each BGR color (blue-green-red). For
                         the camera default resolution <code>LOW_RES</code>
                         (160Ã—120), the
                         camera frame has length 3Ã—160Ã—120 = 57,600 and has to be processed
                         byte by byte. The following code illustrates processing the camera frame
                         using the graphics function <code>graphics_pixel</code>
                         to transfer it
                         to a graphics window for display (see the <a href="#Graphics">Graphics Library</a>):
                        <dl>
                          <dd><code>int r,c,i;<br>const unsigned char *img;<br>            camera_update();<br>            img=get_camera_frame();<br>for(r=0;r&lt;120;r++) {<br>for(c=0;c&lt;160;c++) {<br>                i=3*(160*r + c); // index of pixel to paint into row r, column c<br>                graphics_pixel(c,r,img[i+2],img[i+1],img[i]); // RGB order by reversing GBR<br>            }<br>            }<br>            graphics_update();<b></b></code></dd>
                        </dl>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_object_area"></a></td>
                  <td><code>get_object_area </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>int get_object_area(int channel, int);</code><br>
                         Returns the object's bounding box area. -1 is returned if the channel or
                         object doesn't exist.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_object_bbox"></a></td>
                  <td><code>get_object_bbox </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>rectangle get_object_bbox(int channel, int object);</code><br>
                         Returns the bounding box of the given object on the given channel as a
                         rectangle data type. For example,<br>
                        <dl>
                          <dd><code>rectangle mybox;<br>          mybox = get_object_bbox(0,2);<br>          printf(&quot;x coord %d  y coord %d\n&quot;, mybox.x, mybox.y);</code></dd>
                        </dl> displays the x and y coordinates of bounding box 2 for channel 0.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_object_center"></a></td>
                  <td><code>get_object_center </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>point2 get_object_center(int channel, int object);</code><br>
                         Returns The (x, y) center of the given object on the given channel as a
                         point2 data type. For example,
                        <dl>
                          <dd><code>point2 mcenter;<br>          mcenter = get_object_center(0,2);<br>          printf(&quot;x center coord %d  y center coord %d\n&quot;, mcenter.x, mcenter.y);</code><br></dd>
                        </dl> displays the x and y coordinates of center point of box 2 for channel 0.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_object_centroid"></a></td>
                  <td><code>get_object_centroid </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>int get_object_centroid(int channel, int object);</code><br> Returns The (x, y) coordinates of the <b>centroid</b>
                         of the given object
                         on the given color channel as a point2 data type (the centroid is the center
                         of mass for the pixels of the specified color). For example,<br>
                        <dl>
                          <dd>point2 <code>mcenter;<br>          mcentroid = get_object_centroid(0,2);<br>          printf(&quot;x centroid coord %d  y centroid coord %d\n&quot;, mcentroid.x, mcentroid.y);</code></dd>
                        </dl>
                         displays the x and y coordinates of centroid of box 2 for color channel 0. The centroid is NOT the same as the center. It
                         is the center of mass for a blob; e.g., for a color arrow pointing right,
                         there are more pixels to right of center, so the centroid is to the right
                         of center.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_code_num"></a></td>
                  <td><code>get_code_num </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>int get_code_num(int channel, int object);</code><br>
                         Returns the QR data associated with an object for a QR channel as an integer.
                         If the given channel or object doesn't exist, -1 is returned. See also <code>get_object_data</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_object_confidence"></a></td>
                  <td><code>get_object_confidence </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>double get_object_confidence(int channel, int object);</code><br>
                         Returns the confidence, between 0.0 and 1.0, that the density of color
                         pixels for the object on the given channel is significant. If the channel
                         or object doesn't exist, 0.0 is returned.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_object_count"></a></td>
                  <td><code>get_object_count </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>int get_object_count(int channel);</code><br>
                         Returns the number of objects being "seen" for the specified channel. Objects
                         are sorted by bounding box area, largest first. Returns -1 if channel doesn't
                         exist. See also <code>get_channel_count</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_object_data"></a></td>
                  <td><code>get_object_data </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>char *get_object_data(int channel, int object);</code><br>
                         Returns the sequence of character data associated with a given object on
                         a QR channel. If there is no data, 0 is returned. The data is not guaranteed
                         to be null terminated, but can be accessed using array notation; for example,<br>
                        <dl>
                          <dd><code>get_object_data(0,0)[0], get_object_data(0,0)[1]</code>, etc.</dd>
                        </dl><code>camera_update</code> will invalidate the pointer returned by <code>get_object_data</code>
                        .
                         See also <code>get_object_data_length</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_object_data_length"></a></td>
                  <td><code>get_object_data_length </code> [Category: Vision]
                    <dl>
                      <dd>Format: <code>int get_object_data_length(int channel, int object);</code><br>
                         Returns the number of characters associated with the QR code on a QR channel.
                         If there is no data, 0 is returned. If the channel or object is invalid,
                         0 is returned. See also <code>get_object_data</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="Indent">
              <h4>Example program for using a camera to track an object</h4>
              <p>
                Camera functions will not provide meaningful data until the camera has been activated
                using <code>camera_open</code> or <code>camera_open_at_res</code>
                . For most purposes,
                 the <code>LOW_RES</code> setting used by <code>camera_open</code>
                 is sufficient
                 and it serves to reduce frame processing overhead. Once the camera has been activated,
                 the camera function <code>camera_update</code>
                 is used to obtain the current frame
                 in the camera's field of view. Note that <code>camera_update</code>
                 is called every
                 time through a camera processing loop to provide a current camera frame for processing.
              </p><a name="PointServo"></a>
              <pre><code class="language-clike">/* This program points a servo (that is plugged into port 0 and centered on the camera&apos;s field of vision) towards an object that fits into the color model defined for channel 0 */ 
int main()
{
   int offset, x, y;
   enable_servo(0);      // enable servo
   camera_open();        // activate camera
   camera_update();      // get most recent camera image and process it
   while (side_button() == 0) {
      x = get_object_center(0,0).x;  // get image center x data
      y = get_object_center(0,0).y;  //    and y data
      if (get_object_count(0) &gt; 0) { // there is a blob
         display_printf(0,1,&quot;Center of largest blob: (%d,%d)   &quot;,x,y);
         offset=5*(x-80); // amount to deviate servo from center
         set_servo_position(0,1024+offset);
      }
      else {
         display_printf(0,1,&quot;No object in sight                &quot;);
      ]
      msleep(200);       // don&apos;t rush print statement update
      camera_update();   // get new image data before repeating
   }
   disable_servos();
   camera_close();
   printf(&quot;All done\n&quot;);
}</code></pre>
            </div>
            <div class="Indent">
              <h4>
                Example program to translate a QR code while showing the camera image in a graphics
                window
              </h4>
              <p>
                This program displays the camera image in a 160Ã—120 graphics window centered
                on the 320Ã—240 KIPR Robot Controller display, decoding any QR code found
                and displaying the result in the space above the graphics window.
              </p><a name="TranslateQR"></a>
              <pre><code class="language-clike">// Assume channel 1 is configured for identifying QR codes
// If a QR code is found, it is translated
int main()
{
    int r, c, ix, i, lngth;
    const unsigned char *img; // variable to hold camera image
    camera_open(); graphics_open(160,120); // activate camera and open a graphics window
    camera_update(); // get most recent camera image and process it
    while(side_button()==0) {
        img=get_camera_frame(); // get a camera frame and display it in graphics window
        for(r=0; r&lt;120; r++) {
             for(c=0; c&lt;160; c++) {
                 ix=3*(160*r + c); // index of pixel to paint into row r, column c
                 graphics_pixel(c,r,img[ix+2],img[ix+1],img[ix]); // RGB order by reversing GBR
             }
        }
        graphics_update(); // show the frame
        if (get_object_count(1) &gt; 0) { // there is a QR code in view
            display_printf(0,0,&quot;QR code:                              &quot;);
            lngth = get_object_data_length(1,0); // decode and display above graphics window
            for(i=0; i &lt; lngth; i++) { // print QR code letter by letter until end of data
                display_printf(9+i,0,&quot;%c&quot;, get_object_data(1,0)[i]);
            }
        }
        else {
            display_printf(0,0,&quot;No QR code detected                   &quot;);
        }
        camera_update(); // get new image data before repeating 
    }
    camera_close(); graphics_close(); // clean up
}</code></pre>
            </div>
            <!-- Graphics API--><a name="Graphics"></a>
            <h3>KIPR Robot Controller Graphics Functions</h3>
            <p>
              The KIPR Robot Controller (and Simulator) support basic graphical draw operations,
              which allow a user to create their own user interface if they wish. Functions are
              provided to draw and color pixels, lines, circles, triangles, and rectangles (non-rotated).
              The screen and two dimensional objects can also be filled with a single color. Both
              mouse clicks and cursor location can be detected (on the KIPR Robot Controller, a
              screen tap corresponds to a left mouse click).
            </p>
            <p>
              Note that any virtual features of the KIPR Robot Controller user interface (such as
              the A,B,C buttons) will be unavailable if obscured by the graphics window (it is
              advisable to use the side button when doing graphical applications for this reason).
            </p>
            <table>
              <tbody>
                <tr>
                  <td><a name="graphics_open"></a></td>
                  <td><code>graphics_open </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>int graphics_open(int </code>
                        width,
                         int height);<br>
                         Opens and centers a graphics window on the display
                         of the specified width and height. The maximum width for the KIPR Robot
                         Controller display is 320, and the maximum height is 240. See also <code>graphics_close</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="graphics_close"></a></td>
                  <td><code>graphics_close </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void graphics_close();</code><br>
                         Closes the graphics window on the display, restoring access to any virtual
                         buttons underneath it. See also <code>graphics_open</code>.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="graphics_update"></a></td>
                  <td><code>graphics_update </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void graphics_update();</code><br>
                         Repaints the pixels in the graphics window to show any changes that have
                         been made.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="graphics_clear"></a></td>
                  <td><code>graphics_clear </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void graphics_clear();</code><br> Erases the graphics window (not shown until <code>graphics_update</code>).</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="graphics_fill"></a></td>
                  <td><code>graphics_fill </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void graphics_fill(int r, int g, int b);</code><br> Colors the pixels in the window using the <code>r</code>, <code>g</code>, <code>b</code> color encoding.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="graphics_pixel"></a></td>
                  <td><code>graphics_pixel </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void graphics_pixel(int x, int y, int r, int g, int b);</code><br> Colors the specified pixel in the window using the <code>r</code>, <code>g</code>, <code>b</code> color encoding, where columns <code>x</code> and rows <code>y</code>
                         are
                         indexed starting from the upper left corner of the graphics window.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="graphics_line"></a></td>
                  <td><code>graphics_line </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void graphics_line(int x1, int y1, int x2, int y2, int r, int g, int b);</code><br> Draws a line in the window from the specified ( <code>x1</code>, <code>y1</code>
                        )
                         pixel to the ( <code>x2</code>, <code>y2</code>) pixel using the <code>r</code>, <code>g</code>, <code>b</code>
                         color encoding (where columns x and rows y are indexed starting from the
                         upper left corner of the graphics window).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="graphics_circle"></a></td>
                  <td><code>graphics_circle </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void graphics_circle(int cx, int cy, int radius, int r, int g, int b);</code><br> Draws a circle in the window of the specified radius centered at ( <code>cx</code>, <code>cy</code>
                        )
                         using the <code>r</code>, <code>g</code>, <code>b</code>
                         color encoding (where
                         columns x and rows y are indexed starting from the upper left corner of
                         the graphics window).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="graphics_circle_fill"></a></td>
                  <td><code>graphics_circle_fill </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void graphics_circle_fill(int cx, int cy, int radius, int r, int g, int b);</code><br> Draws a circle in the window of the specified radius centered at ( <code>cx</code>, <code>cy</code>
                        )
                         and fills it using the <code>r</code>, <code>g</code>, <code>b</code>
                         color
                         encoding (where columns x and rows y are indexed starting from the upper
                         left corner of the graphics window).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="graphics_rectangle"></a></td>
                  <td><code>graphics_rectangle </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void graphics_rectangle(int x1, int y1, int x2, int y2, int r, int g, int b);</code><br> Draws a rectangle in the window with upper left corner ( <code>x1</code>, <code>y1</code>
                        )
                         and lower right corner ( <code>x2</code>, <code>y2</code>) using the <code>r</code>, <code>g</code>, <code>b</code>
                         color encoding (where columns x and rows y are indexed starting from the
                         upper left corner of the graphics window).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="graphics_rectangle_fill"></a></td>
                  <td><code>graphics_rectangle_fill </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void graphics_rectangle_fill(int x1, int y1, int x2, int y2, int r, int g, int b);</code><br> Draws a rectangle in the window with upper left corner ( <code>x1</code>, <code>y1</code>
                        )
                         and lower right corner ( <code>x2</code>, <code>y2</code>
                        ) and fills it using
                         the <code>r</code>, <code>g</code>, <code>b</code>
                         color encoding (where
                         columns x and rows y are indexed starting from the upper left corner of
                         the graphics window).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="graphics_triangle"></a></td>
                  <td><code>graphics_triangle </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void graphics_triangle(int x1, int y1, int x2, int y2, int x3, int y3, int r, int g, int b);</code><br> Draws a triangle in the window with corners ( <code>x1</code>, <code>y1</code>
                        ),
                         ( <code>x2</code>, <code>y2</code>), ( <code>x3</code>, <code>y3</code>
                        ) using
                         the <code>r</code>, <code>g</code>, <code>b</code>
                         color encoding (where columns
                         x and rows y are indexed starting from the upper left corner of the graphics
                         window).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="graphics_triangle_fill"></a></td>
                  <td><code>graphics_triangle_fill </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void graphics_triangle_fill(int x1, int y1, int x2, int y2, int x3, int y3, int r, int g, int b);</code><br> Draws a triangle in the window with corners ( <code>x1</code>, <code>y1</code>
                        ),
                         ( <code>x2</code>, <code>y2</code>), ( <code>x3</code>, <code>y3</code>
                        ) and
                         fills it using the <code>r</code>, <code>g</code>, <code>b</code>
                         color encoding
                         (where columns x and rows y are indexed starting from the upper left corner
                         of the graphics window).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_mouse_position"></a></td>
                  <td><code>get_mouse_position </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>void get_mouse_position(int *x, int *y);</code><br>
                         Assigns the column,row position of the cursor in the window to the two
                         specified address parameters. Note that the typical call for this function
                         will look like<br>
                        <div class="Indent"><code>get_mouse_position(&col, &row);</code></div>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_mouse_left_button"></a></td>
                  <td><code>get_mouse_left_button </code> [Category: Graphics]
                    <dl>
                      <dd>Format: <code>int get_mouse_left_button();</code><br>
                         Returns 1 if the left mouse button is clicked or if the KIPR Robot Controller
                         display is tapped. The two additional functions <code>get_mouse_middle_button</code> and <code>get_mouse_right_button</code>
                         are also available but have no
                         meaning on the KIPR Robot Controller (unless a mouse is attached)
                      </dd>
                    </dl>
                  </td>
                </tr>
              </tbody>
            </table>
            <!-- Xtion API--><a name="DepthSensor"></a>
            <h3>KIPR Robot Controller Depth Functions</h3>
            <table class="centerTable">
              <tbody>
                <tr>
                  <td>
                    The KIPR Robot Controller has functions supporting the use of an ASUS Xtion as
                    a USB depth sensor.
                  </td>
                  <td width="50%">
                    <!-- &lt;img class="right" src="/imgs/docs/XtionDepth.gif" width="50%"&gt;&lt;/img&gt;--><br>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>
              The USB depth sensor provides the KIPR Robot Controller with a 240Ã—320 row,column
              (2-dimensional) image of the space in front of it (rows measured down from the upper
              left corner of the image and columns to the right). The depth functions provide information
              about the three dimensional space in front of the Xtion, where the space is organized
              in (x,y,z) coordinates with the x-axis directed right, the y-axis is directed up,
              and the z-axis directed straight out from the Xtion. Coordinate (0,0,0) is the center
              of the Xtion face. Coordinate values are given in millimeters (mm). The depth sensor's
              effective range is from about 1/2 meter to 5 meters.
            </p>
            <table class="centerTable">
              <tbody>
                <tr>
                  <td>
                    <!-- &lt;img class="center" src="/imgs/docs/XtionDepthView.jpg" width="80%"&gt;&lt;/img&gt;-->
                  </td>
                </tr>
              </tbody>
            </table><br>
            <table>
              <tbody>
                <tr>
                  <td><a name="depth_open"></a></td>
                  <td><code>depth_open </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int depth_open();</code><br> Turns on the depth sensor. Returns 1 on success, 0 on failure. See also <code>depth_close</code>.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="depth_close"></a></td>
                  <td><code>depth_close </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>void depth_close();</code><br> Clean up the depth instance and power down the sensor. See also <code>depth_open</code>.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="depth_update"></a></td>
                  <td><code>depth_update </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int depth_update();</code><br>
                         Generates a new image from the depth sensor for use by the depth functions.
                         Returns 1 on success, 0 on failure.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="depth_scanline_update"></a></td>
                  <td><code>depth_scanline_update </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int depth_scanline_update(int row);</code><br>
                         Replaces the current scanline information with the scanline information
                         for the specified row of the image. Returns 1 on success, 0 on failure.
                        <tr></tr>
                        <tr>
                          <td><a name="get_depth_value"></a></td>
                          <td><code>get_depth_value </code> [Category: Depth]
                            <dl>
                              <dd>Format: <code>int get_depth_value(int row, int col);</code><br>
                                 Returns the value of the depth coordinate z in mm for row and
                                 column positions of the image. See also <code>get_depth_world_point</code>.
                              </dd>
                            </dl>
                          </td>
                        </tr>
                        <tr>
                          <td><a name="get_depth_world_point"></a></td>
                          <td><code>get_depth_world_point </code> [Category: Depth]
                            <dl>
                              <dd>Format: <code>point3 get_depth_world_point(int row, int col);</code><br> Returns an object of type <code>point3</code>
                                 giving the (x,y,z)
                                 coordinates for the object at position (row,col) in the current
                                 image. For <br>
                                <div class="Indent"><code> point3 p3;<br>
                                                   p3 = get_depth_world_point(4,7);
                                              </code></div> the (x,y,z) coordinates for row 4, column 7 in the image are given by <code>p3.x</code>, <code>p3.y</code>, <code>p3.z</code>. The value returned by <code>get_depth_value</code> is the same as <code>p3.z</code>.
                              </dd>
                            </dl>
                          </td>
                        </tr>
                        <tr>
                          <td><a name="get_depth_world_point_x"></a></td>
                          <td><code>get_depth_world_point_x </code> [Category: Depth]
                            <dl>
                              <dd>Format: <code>int get_depth_world_point_x(int row, int col);</code><br>
                                 Returns the x coordinate for the object at position (row,col)
                                 in the current image. See also <code>get_depth_world_point</code>.
                              </dd>
                            </dl>
                          </td>
                        </tr>
                        <tr>
                          <td><a name="get_depth_world_point_y"></a></td>
                          <td><code>get_depth_world_point_y </code> [Category: Depth]
                            <dl>
                              <dd>Format: <code>int get_depth_world_point_y(int row, int col);</code><br>
                                 Returns the y coordinate for the object at position (row,col)
                                 in the current image. See also <code>get_depth_world_point</code>.
                              </dd>
                            </dl>
                          </td>
                        </tr>
                        <tr>
                          <td><a name="get_depth_world_point_z"></a></td>
                          <td><code>get_depth_world_point_z </code> [Category: Depth]
                            <dl>
                              <dd>Format: <code>int get_depth_world__zpoint(int row, int col);</code><br>
                                 Returns the z coordinate for the object at position (row,col)
                                 in the current image. The return value is the same as the value
                                 returned by <code>get_depth_value</code>. See also <code>get_depth_world_point</code>.
                              </dd>
                            </dl>
                          </td>
                        </tr>
                        <td><a name="get_depth_scanline_object_count"></a></td>
                        <td><code>get_depth_scanline_object_count </code> [Category: Depth]
                          <dl>
                            <dd>Format: <code>int get_depth_scanline_object_count();</code><br>
                               Returns the number of objects detected on the scanline, where an
                               object is detected by not having a depth break in scanning across
                               it. This means that if the scanline crosses a cavity, it will report
                               two objects. Objects are numbered starting from 0, ordered from
                               nearest to farthest. By default, the closest pixel for each object
                               is used to determine how near it is.
                            </dd>
                          </dl>
                        </td>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_depth_scanline_object_nearest_x"></a></td>
                  <td><code>get_depth_scanline_object_nearest_x </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int get_depth_object_nearest_x(int obj);</code><br>
                         For the specified object returns the coordinate value for the farthest
                         pixel detected.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_depth_scanline_object_nearest_y"></a></td>
                  <td><code>get_depth_scanline_object_nearest_y </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int get_depth_object_nearest_y(int obj);</code><br>
                         For the specified object returns the coordinate value for the farthest
                         pixel detected.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_depth_scanline_object_nearest_z"></a></td>
                  <td><code>get_depth_scanline_object_nearest_z </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int get_depth_object_nearest_z(int obj);</code><br>
                         For the specified object returns the coordinate value for the nearest
                         pixel detected.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_depth_scanline_object_center_x"></a></td>
                  <td><code>get_depth_scanline_object_center_x </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int get_depth_object_center_x(int obj);</code><br>
                         For the specified object returns the coordinate value for the farthest
                         pixel detected.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_depth_scanline_object_center_y"></a></td>
                  <td><code>get_depth_scanline_object_center_y </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int get_depth_object_center_y(int obj);</code><br>
                         For the specified object returns the coordinate value for the farthest
                         pixel detected.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_depth_scanline_object_center_z"></a></td>
                  <td><code>get_depth_scanline_object_center_z </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int get_depth_object_center_z(int obj);</code><br>
                         For the specified object returns the coordinate value for the center
                         pixel.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_depth_scanline_object_farthest_x"></a></td>
                  <td><code>get_depth_scanline_object_farthest_x </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int get_depth_object_farthest_x(int obj);</code><br>
                         For the specified object returns the coordinate value for the farthest
                         pixel detected.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_depth_scanline_object_farthest_y"></a></td>
                  <td><code>get_depth_scanline_object_farthest_y </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int get_depth_object_farthest_y(int obj);</code><br>
                         For the specified object returns the coordinate value for the farthest
                         pixel detected.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_depth_scanline_object_farthest_z"></a></td>
                  <td><code>get_depth_scanline_object_farthest_z </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int get_depth_object_farthest_z(int obj);</code><br>
                         For the specified object returns the coordinate value for the farthest
                         pixel detected.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_depth_scanline_object_size"></a></td>
                  <td><code>get_depth_scanline_object_size </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int get_depth_object_size(int obj);</code><br>
                         For the specified object returns the distance on the scanline between
                         the leftmost and rightmost pixel detected.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_depth_scanline_object_angle"></a></td>
                  <td><code>get_depth_scanline_object_angle </code> [Category: Depth]
                    <dl>
                      <dd>Format: <code>int get_depth_object_angle(int obj);</code><br>
                         For the specified object returns the angular measure (in degrees)
                         from the leftmost pixel on the scanline to the right most. Positive
                         is counterclockwise.
                      </dd>
                    </dl>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="Indent">
              <h4>
                Example program for using a depth sensor and a graphical representation to find the
                distance to an object
              </h4><a name="PointDistance"></a>
              <pre><code class="language-clike">int main()
{
   int r, g, b, row, col, val;
   depth_open(); // initiate depth sensor
   graphics_open(320,240); // open up graphics window (full screen on KIPR Robot Controller)
   while(!get_mouse_left_button()) { // loop until mouse is clicked (screen is tapped)
      depth_update(); // get a new depth image
      for(row=0; row&lt;240; row++) { // loop through rows
         for(col=0; col&lt;320; col++) { // loop through columns in current row
            val = get_depth_value(row,col) ; // get distance for pixel in mm
            if(val == 0)  // if too close or not a valid value, don&apos;t color
               continue;
            else if (val &gt; 1530) { // if more than 1.53m away color in gray scale
               val = (5000-val)/20; // range is from 173 on down (towards darker)
               graphics_pixel(col,row,val,val,val); // paint using r=g=b (gray scale)
            }
            else { // and otherwise ... 
               val=val &gt; 510 ? val-510 : 0; // rerange the distance inward by 510mm
               r=val &gt; 510 ? 0 : 255-val/2;  // increase red for closer
               g=val &gt; 510 ? 255-(val-510)/2 : val/2; // greenish for mid values
               b=val &gt; 510 ? val/2-255 : 0;  // increase blue for farther
               graphics_pixel(col,row, r,g,b); // draw the pixel
            }
         }
      }
      graphics_update(); // paint the screen using the new pixel valuess
   }
   get_mouse_position(&amp;col,&amp;row); // where was screen tapped?
   depth_close(); graphics_close();  //close sensor and graphics window
    // Display the distance (z coordinate) to the pixels&apos;s point in space
   printf(&quot;Distance to pixel %i,%i is %imm\n\n\n&quot;,col,row,get_depth_value(row,col));
}</code></pre>
            </div>
            <!-- Create Function Library--><a name="Create_functions"></a>
            <h3>Create Function Library</h3>
            <p>
              The functions in the KIPR Robot Controller Library for controlling an iRobot Create
              module provide an interface between a program on the KIPR Robot Controller and the
              Create Open Interface (<a href="http://www.irobot.com/filelibrary/pdfs/hrd/create/Create%20Open%20Interface_v2.pdf">http://www.irobot.com/filelibrary/pdfs/hrd/create/Create%20Open%20Interface_v2.pdf</a>
              ).
               Each Create function in the KIPR Robot Controller Library is designed to send the
               Create a series of Open Interface commands that cause the Create to perform some
               action. A script of Open Interface commands can also be downloaded to the Create
               to be played later (see the library function <code>create_write_byte</code>).
            </p>
            <p>
              The KIPR Robot Controller communicates with the iRobot Create via a (TTL) serial connection.
              Functions included in the KIPR Robot Controller Library for the iRobot Create send
              serial byte code sequences to the Create over the serial connection, making it possible
              to operate the Create without having to reference the Open Interface guide. These
              sequences cover the large majority of actions users typically want to have performed
              by a Create module (e.g., drive forward at a given speed, determine how far the Create
              has traveled, etc). They also provide a means for the KIPR Robot Controller to directly
              control an iRobot Create.
            </p>
            <p>
              A Create script is a (limited) sequence of pre-defined iRobot Create byte code commands
              ordered to perform some set of actions independent of external control. In contrast
              to other commands, a command to start a script disables serial communications until
              the script has finished. See the <a href="#Create_script_example">example program</a> below for more information on user defined scripts.
            </p>
            <p>
              The KIPR Robot Controller Library functions for moving the iRobot Create are non-blocking,
              so when a movement command is sent to the iRobot Create, its trajectory will continue
              until a different Create movement function is executed on the KIPR Robot Controller.
              In contrast, once a script is started on the Create it will run to completion, during
              which time the connection to the KIPR Robot Controller is ignored. The iRobot Create
              may also be used to play MIDI music. Up to 16 songs may be downloaded to the iRobot
              Create from a song array on the KIPR Robot Controller. See the Create Open Interface
              manual for details on note and duration codes.
            </p>
            <p>
              The library functions for accessing Create sensor data return either the requested
              data or an error code. A return value greater than 100,000 is used to indicate an
              error occurred, where the error number is given by 100,000 + <code>&lt;</code><i>Create-Serial-Interface-Packet-Number</i><code>&gt;</code>
              .
               For example, a code of 100,007 indicates an error occurred when requesting bumper
               or wheel drop sensor status. Sensor packet numbers range from 7 to 42 as described
               in the Create Open Interface manual.
            </p>
            <p>
              The Create Open Interface manual has details concerning the physical characteristics
              of the iRobot Create module and descriptions of how to use the various byte code
              commands.
            </p>
            <!-- Create Serial Interface--><a name="Create_serial_interface"></a>
            <h4>Create Serial Interface Functions</h4>
            <table>
              <tbody>
                <tr>
                  <td><a name="create_clear_serial_buffer"></a></td>
                  <td><code>create_clear_serial_buffer </code> [Category: Create Serial Interface Function]
                    <dl>
                      <dd>Format: <code>void create_clear_serial_buffer();</code><br>
                         Clears the internal serial interface buffer of any unaccessed send/receive
                         data.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <td><a name="create_connect"></a></td>
                <td><code>create_connect() </code> [Category: Create Serial Interface Function]
                  <dl>
                    <dd>Format: <code>int create_connect;</code><br>
                       Establishes a USB serial connection between the KIPR Robot Controller and
                       a Create module. This statement is normally paired with an <code>msleep</code>
                       statement, since it takes more than one second for the communications link
                       to stabilize ( <code>msleep(1500)</code>
                       is sufficient). If the program is
                       paused and the Create is not turned on, the function will block continued
                       execution until the Create is turned on. This function is always the first
                       step for sending Create Open Interface commands from the KIPR Robot Controller
                       to the Create. By default, the Create starts in <code>create_safe</code> mode.
                    </dd>
                  </dl>
                </td>
                <tr>
                  <td><a name="create_disconnect"></a></td>
                  <td><code>create_disconnect </code> [Category: Create Serial Interface Function]
                    <dl>
                      <dd>Format: <code>void  create_disconnect();</code><br>
                         Restores the Create to power on configuration (which will also shut off
                         any running motors).
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_read_block"></a></td>
                  <td><code>create_read_block </code> [Category: Create Serial Interface Function]
                    <dl>
                      <dd>Format: <code>int create_read_block(char *data, int count);</code><br>
                         Uses the serial interface to have the Create send the number of bytes specified
                         into the character string pointed to by <code>data</code>
                        . 1 is returned
                         on read success, 0 on failure.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_write_byte"></a></td>
                  <td><code>create_write_byte </code> [Category: Create Serial Interface Function]
                    <dl>
                      <dd>Format: <code>void create_write_byte(char byte);</code><br>
                         Uses the serial interface to have the KIPR Robot Controller send the specified
                         byte to the iRobot Create. The purpose of this function is for writing
                         functions for supplying a series of byte commands to the Create to have
                         it perform some action, or to load a song, or to load a script.
                      </dd>
                    </dl>
                  </td>
                </tr>
              </tbody>
            </table>
            <!-- Create Configuration--><a name="Create_configuration"></a>
            <h4>Create Configuration Functions</h4>
            <table>
              <tbody>
                <tr>
                  <td><a name="create_full"></a></td>
                  <td><code>create_full </code> [Category: Create Configuration Function]
                    <dl>
                      <dd>Format: <code>void  create_full();</code><br>
                         Create will move however you tell it (even if that is a bad thing). In
                         particular, the Create will not stop and disconnect if a wheel drop or
                         cliff sensor goes high.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_passive"></a></td>
                  <td><code>create_passive </code> [Category: Create Configuration Function]
                    <dl>
                      <dd>Format: <code>void  create_passive();</code><br> Puts Create into passive mode (motor commands won't work).</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_safe"></a></td>
                  <td><code>create_safe </code> [Category: Create Configuration Function]
                    <dl>
                      <dd>Format: <code>void create_safe();</code><br>
                         Create will execute all commands, but will disconnect and stop if a wheel
                         drop or cliff sensor goes high.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_start"></a></td>
                  <td><code>create_start </code> [Category: Create Configuration Function]
                    <dl>
                      <dd>Format: <code>void  create_start();</code><br>
                         Puts Create back into active mode (all commands will work). Active mode
                         is the default mode at power on.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_mode"></a></td>
                  <td><code>get_create_mode </code> [Category: Create Configuration Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_mode();</code><br>
                           Returns the Create's current operating mode (0=off, 1=passive, 2=safe,
                           3=full). In passive mode, motor commands don't work. All commands work
                           in safe or full mode. In safe mode, the Create will stop all motors and
                           disconnect if any cliff sensors or wheel drop sensors go high. In full
                           mode, the Create will continue any movement commands and remain connected
                           regardless of sensor values.
                        </dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
              </tbody>
            </table>
            <!-- Create Movement Functions--><a name="Create_movement"></a>
            <h4>Create Movement Functions</h4>
            <table>
              <tbody>
                <tr>
                  <td><a name="create_drive"></a></td>
                  <td><code>create_drive </code> [Category: Create Movement Function]
                    <dl>
                      <dd>Format: <code>void create_drive(int speed, int radius);</code><br>
                         Moves the Create in an arc (see below for point turns and straight). Speed
                         range for all commands is -500 to 500mm/sec and radius is -2000 to 2000mm.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_drive_direct"></a></td>
                  <td><code>create_drive_direct </code> [Category: Create Movement Function]
                    <dl>
                      <dd>Format: <code>void create_drive_direct(int r_speed, int l_speed);</code><br>
                         Moves the Create by setting the speed for the left side and right side
                         separately, speed range -500 to 500mm/sec.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_drive_straight"></a></td>
                  <td><code>create_drive_straight </code> [Category: Create Movement Function]
                    <dl>
                      <dd>Format: <code>void create_drive_straight(int speed);</code><br> Moves the Create straight at speed in the range -500 to 500mm/sec.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_spin_CCW"></a></td>
                  <td><code>create_spin_CCW </code> [Category: Create Movement Function]
                    <dl>
                      <dd>Format: <code>void create_spin_CCW(int speed);</code><br>
                         Spins the Create Counter Clock Wise with edge speed of speed of -500 to
                         500mm/sec.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_spin_CW"></a></td>
                  <td><code>create_spin_CW </code> [Category: Create Movement Function]
                    <dl>
                      <dd>Format: <code>void create_spin_CW(int speed);</code><br> Spins the Create Clock Wise with edge speed of -500 to 500mm/sec.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_stop"></a></td>
                  <td><code>create_stop </code> [Category: Create Movement Function]
                    <dl>
                      <dd>Format: <code>void create_stop();</code><br> Stops the Create drive wheels.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_distance"></a></td>
                  <td><code>get_create_distance</code> [Category: Create Movement Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_distance();</code><br>
                           Returns the accumulated distance the Create has traveled since it was
                           turned on or since the distance was reset. Moving backwards reduces this
                           value. The distance is in millimeters.
                        </dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_normalized_angle"></a></td>
                  <td><code>get_create_normalized_angle</code> [Category: Create Movement Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_normalized_angle();</code><br>
                           Returns the accumulated angle the Create has turned since it was turned
                           on or the distance was reset, normalized to the range 0 to 359 degrees.
                           Turning CCW increases this value and CW decreases the value.
                        </dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_overcurrents"></a></td>
                  <td><code>get_create_overcurrents</code> [Category: Create Movement Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_overcurrents();</code><br>
                           Returns the overcurrent status byte where the 16's bit indicates overcurrent
                           in the left wheel; 8's bit overcurrent in the right wheel, 4's bit is
                           LD2, 2's bit is LD0 and 1's bit is LD1 (LD is for the Create's 3 low
                           side driver outputs, pins 22 to 24 for the connector in the Create cargo
                           bay). Seldom used in practice.
                        </dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_requested_left_velocity"></a></td>
                  <td><code>get_create_requested_left_velocity</code> [Category: Create Movement Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_requested_left_velocity();</code><br>
                           Returns the speed the Create is moving (-500 to 500mm/sec) the left wheel
                           according to the most recent movement command executed.
                        </dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_requested_radius"></a></td>
                  <td><code>get_create_requested_radius</code> [Category: Create Movement Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_requested_radius();</code><br>
                           Returns the radius the Create is turning (-2000 to 2000mm) according
                           to the most recent movement command executed.
                        </dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_requested_right_velocity"></a></td>
                  <td><code>get_create_requested_right_velocity</code> [Category: Create Movement Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_requested_right_velocity();</code><br>
                           Returns the speed the Create is moving (-500 to 500mm/sec) the right
                           wheel according to the most recent movement command executed.
                        </dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_requested_velocity"></a></td>
                  <td><code>get_create_requested_velocity</code> [Category: Create Movement Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_requested_velocity();</code><br>
                           Returns the speed the Create is moving (-500 to 500mm/s) according to
                           the most recent movement command executed.
                        </dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_total_angle"></a></td>
                  <td><code>get_create_total_angle</code> [Category: Create Movement Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_total_angle();</code><br>
                           Returns the accumulated angle the Create has turned through since it
                           was turned on or since the distance or angle was reset. Turning CCW increases
                           this value and CW decreases the value.
                        </dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="set_create_distance"></a></td>
                  <td><code>set_create_distance</code> [Category: Create Movement Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>void set_create_distance(int dist);</code><br> Resets the distance accumulation value for <code>get_create_distance</code> to the value specified.</dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="set_create_normalized_angle"></a></td>
                  <td><code>set_create_normalized_angle</code> [Category: Create Movement Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>void set_create_normalized_angle(int angle);</code><br> Resets the normalized angle accumulation value for <code>get_create_normalized_angle</code> to the value specified.</dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="set_create_total_angle"></a></td>
                  <td><code>set_create_total_angle</code> [Category: Create Movement Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>void set_create_total_angle(int angle);</code><br> Resets the total angle accumulation value for <code>get_create_total_angle</code> to the value specified.</dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
              </tbody>
            </table>
            <!-- Create Sensor Functions--><a name="Create_sensors"></a>
            <h4>Create Sensor Functions</h4>
            <!-- &lt;img class="center" src="/imgs/docs/CreateSensors.gif" width=50%&gt;&lt;/img&gt;--><br>
            <tr>
              <td><a name="get_create_advance_button"></a></td>
              <td><code>get_create_advance_button</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_advance_button();</code><br> Returns 1 if the advance (
                      <bold><code>&gt;&gt;</code>|</bold>) button is being pressed, 0 otherwise.
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_bay_AI"></a></td>
              <td><code>get_create_bay_AI</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_bay_AI();</code><br>
                       Returns the 10 bit analog value on pin 4 of the connector in the Create cargo
                       bay.
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_bay_DI"></a></td>
              <td><code>get_create_bay_DI</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_bay_DI();</code><br>
                       Returns a byte for determining the current digital inputs (0 or 1) being
                       applied to pins 16, 6, 18, 5, and 17 of the connector in the Create cargo
                       bay. The 128, 64, and 32 bits of the byte are not used. The 16 bit is for
                       pin 15, 8 bit for pin 6, 4 bit for pin 18, 2 bit for pin 5 and 1 bit for
                       pin 17. Pin 15 is used to alter communications baud rate.
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_cwdrop"></a></td>
              <td><code>get_create_cwdrop</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_cwdrop();</code><br> Returns 1 if the front caster wheel has dropped, 0 otherwise.</dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_infrared"></a></td>
              <td><code>get_create_infrared</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_infrared();</code><br>
                       Returns the byte detected from an iRobot remote control, Returns 255 if no
                       byte has been detected.
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_lbump"></a></td>
              <td><code>get_create_lbump</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_lbump();</code><br> Returns 1 if the left bumper is pressed, 0 otherwise.</dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_lcliff"></a></td>
              <td><code>get_create_lcliff</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_lcliff();</code><br>
                       Returns 1 if the left cliff sensor is over a surface that doesn't reflect
                       IR (e.g., black) or over a cliff, 0 otherwise.
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_lcliff_amt"></a></td>
              <td><code>get_create_lcliff_amt</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_lcliff_amt();</code><br> Returns the left cliff sensor (analog) reading as a 12 bit value (0 to 4095).</dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_lfcliff"></a></td>
              <td><code>get_create_lfcliff</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_lfcliff();</code><br>
                       Returns 1 if left front cliff sensor is over a surface that doesn't reflect
                       IR (e.g., black) or over a cliff, 0 otherwise.
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_lfcliff_amt"></a></td>
              <td><code>get_create_lfcliff_amt</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_lfcliff_amt();</code><br>
                       Returns the left front cliff sensor (analog) reading as a 12 bit value (0
                       to 4095).
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_lwdrop"></a></td>
              <td><code>get_create_lwdrop</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_lwdrop();</code><br>
                       Returns 1 if the left wheel has dropped, 0 otherwise. Materials supplied
                       with the Create include two wheel clips that when installed will prevent
                       the drive wheels from dropping.
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_number_of_stream_packets"></a></td>
              <td><code>get_create_number_of_stream_packets</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_number_of_stream_packets();</code><br> If data streaming is being used, returns the size of the stream.</dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_play_button"></a></td>
              <td><code>get_create_play_button</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_play_button();</code><br> Returns 1 if the play button ( <code>
                        <bold>&gt;</bold></code>
                      ) is being pressed,
                       0 otherwise.
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_rbump"></a></td>
              <td><code>get_create_rbump</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_rbump();</code><br> Returns 1 if the right bumper is pressed, 0 otherwise.</dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_rcliff"></a></td>
              <td><code>get_create_rcliff</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_rcliff();</code><br>
                       Returns 1 if right cliff sensor is over a surface that doesn't reflect IR
                       (e.g., black) or over a cliff, 0 otherwise.
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_rcliff_amt"></a></td>
              <td><code>get_create_rcliff_amt</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_rcliff_amt();</code><br> Returns the right cliff sensor (analog) reading as a 12 bit value (0 to 4095).</dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_rfcliff"></a></td>
              <td><code>get_create_rfcliff</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_rfcliff();</code><br>
                       Returns 1 if right front cliff sensor is over a surface that doesn't reflect
                       IR (e.g., black) or over a cliff, 0 otherwise.
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_rfcliff_amt"></a></td>
              <td><code>get_create_rfcliff_amt</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_rfcliff_amt();</code><br>
                       Returns the right front cliff sensor (analog) reading as a 12 bit value (0
                       to 4095).
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_rwdrop"></a></td>
              <td><code>get_create_rwdrop</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_rlwdrop();</code><br> Returns 1 if right wheel has dropped, 0 otherwise.</dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_vwall"></a></td>
              <td><code>get_create_vwall</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_vwall();</code><br> Returns 1 if an iRobot virtual wall beacon is detected, 0 otherwise.</dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_wall"></a></td>
              <td><code>get_create_wall</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_wall();</code><br>
                       Returns 1 if a wall is detected by the right facing wall sensor, 0 otherwise.
                       There is no left facing wall sensor.
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <tr>
              <td><a name="get_create_wall_amt"></a></td>
              <td><code>get_create_wall_amt</code> [Category: Create Sensor Function]
                <dl>
                  <dd>
                    <dd>Format: <code>int get_create_wall_amt();</code><br>
                       Returns the current wall sensor (analog) reading as a 12 bit value (0 to
                       4095).
                    </dd>
                  </dd>
                </dl>
              </td>
            </tr>
            <!-- Create battery functions--><a name="Create_battery"></a>
            <h4>Create Battery Functions</h4>
            <table>
              <tbody>
                <tr>
                  <td><a name="get_create_battery_capacity"></a></td>
                  <td><code>get_create_battery_capacity</code> [Category: Create Sensor Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_battery_capacity();</code><br>
                           Returns the battery capacity in mAh. This function is seldom used in
                           practice.
                        </dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_battery_charge"></a></td>
                  <td><code>get_create_battery_charge</code> [Category: Create Sensor Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_battery_charge();</code><br> Returns the battery charge in mAh.</dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_battery_charging_state"></a></td>
                  <td><code>get_create_battery_charging_state</code> [Category: Create Sensor Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_charging_state();</code><br>
                           0-not charging; 1-recondition charging; 2-full charging; 3-trickle charging;
                           4-waiting; 5-charge fault. This function is seldom used in practice.
                        </dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_battery_current"></a></td>
                  <td><code>get_create_battery_current</code> [Category: Create Sensor Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_battery_current();</code><br> Returns the current flow in mA.</dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_battery_temp"></a></td>
                  <td><code>get_create_battery_temp</code> [Category: Create Sensor Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_battery_temp();</code><br> Returns the battery temperature in degrees C.</dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_battery_voltage"></a></td>
                  <td><code>get_create_battery_voltage</code> [Category: Create Sensor Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_battery_voltage();</code><br> Returns the battery voltage in mV.</dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
              </tbody>
            </table>
            <!-- Create Built In Scripts--><a name="Create_built_ins"></a>
            <h4>Create Built-in Script Functions</h4>
            <table>
              <tbody>
                <tr>
                  <td><a name="create_create_spot"></a></td>
                  <td><code>create_spot </code> [Category: Create Built In Script]
                    <dl>
                      <dd>Format: <code>void  create_spot();</code><br> Simulates a Roomba doing a spot clean.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_cover"></a></td>
                  <td><code>create_cover </code> [Category: Create Function]
                    <dl>
                      <dd>Format: <code>void  create_cover();</code><br> Simulates a Roomba covering a room.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_demo"></a></td>
                  <td><code>create_demo </code> [Category: Create Function]
                    <dl>
                      <dd>Format: <code>void  create_demo(int  d);</code><br> Runs built in demos (see (<a href="http://www.irobot.com/filelibrary/pdfs/hrd/create/Create%20Open%20Interface_v2.pdf">Create Open Interface Manual</a>).</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_cover_dock"></a></td>
                  <td><code>create_cover_dock </code> [Category: Create Function]
                    <dl>
                      <dd>Format: <code>void create_cover_dock();</code><br>
                         Create roams around until its IR detects an iRobot IR docking station and
                         then attempts to dock for recharging.
                      </dd>
                    </dl>
                  </td>
                </tr>
              </tbody>
            </table>
            <!-- Create music functions--><a name="Music_LED_functions"></a>
            <h4>Create LED and Music Functions</h4>
            <table>
              <tbody>
                <tr>
                  <td><a name="create_advance_led"></a></td>
                  <td><code>create_advance_led </code> [Category: Create Music/LED Function]
                    <dl>
                      <dd>Format: <code>void create_advance_led(int on);</code><br> The value 1 causes the Advance LED light ( <code>&gt;&gt;</code>
                        |) to turn on,
                         0 to turn it off.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_play_led"></a></td>
                  <td><code>create_play_led </code> [Category: Create Music/LED Function]
                    <dl>
                      <dd>Format: <code>void create_play_led(int on);</code><br> The value 1 causes the Play LED (&gt;) to turn on, 0 to turn it off.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_play_song"></a></td>
                  <td><code>create_play_song </code> [Category: Create Music/LED Function]
                    <dl>
                      <dd>Format: <code>void create_play_song(int num);</code><br> Plays the specified song that has been loaded onto the Create.</dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_power_led"></a></td>
                  <td><code>create_power_led </code> [Category: Create Music/LED Function]
                    <dl>
                      <dd>Format: <code>void create_power_led(int color, int brightness);</code><br>
                         The value 0 causes the I/O power LED to turn red, 255 to turn green. Brightness
                         ranges from 0 to 255 with 0 representing off.
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_song_number"></a></td>
                  <td><code>get_create_song_number</code> [Category: Create Music/LED Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_song_number();</code><br> Returns the number of the song currently selected (0 to 15).</dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="get_create_song_playing"></a></td>
                  <td><code>get_create_song_playing</code> [Category: Create Music/LED Function]
                    <dl>
                      <dd>
                        <dd>Format: <code>int get_create_song_playing();</code><br> Returns 1 if a song is playing, 0 otherwise.</dd>
                      </dd>
                    </dl>
                  </td>
                </tr>
                <tr>
                  <td><a name="create_load_song"></a></td>
                  <td><code>create_load_song </code> [Category: Create Music/LED Function]
                    <dl>
                      <dd>Format: <code>void create_load_song(int num);</code><br>
                         Loads a song from an internal 16 by 33 working array of integers to the
                         Create, where the first column for each song is the number of notes (max
                         is 16). The remaining columns alternate between pitch and duration. See
                         (<a href="http://www.irobot.com/filelibrary/pdfs/hrd/create/Create%20Open%20Interface_v2.pdf">Create Open Interface Manual</a> for details.
                      </dd>
                    </dl>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="Indent">
              <h4>Example program for using the KIPR Robot Controller to control a Create module</h4><a name="MoveCreate"></a>
              <pre><code class="language-clike">/* This is a program to make the iRobot Create drive in a circle with a radius of 0.25 meters at a speed of 200 mm/sec for 10 seconds, displaying the distance traveled around the circle and the angle that the turn covered */
int main()
{
    printf(&quot;connecting to Create\n&quot;);
    create_connect();
    set_create_distance(0); // reset the cumulative distance traveled
    set_create_total_angle(0); // reset the cumulative angle turned through
    create_drive(200, 250); // start move in an arc
    msleep(10000); // sleep for 10 seconds and stop
    create_stop();
    printf(&quot;\nResults:\n&quot;);
    printf(&quot;  distance = %d mm\n&quot;, get_create_distance(0.1));
    printf(&quot;  angle = %d degrees\n&quot;, get_create_total_angle(0.1));
    printf(&quot;\ndisconnecting from Create\n&quot;);
    create_disconnect();
}</code></pre>
            </div>
            <div class="Indent"><a name="Create_script_example"></a>
              <h4>Example Create script definition using the KIPR Robot Controller</h4>
              <p>
                The iRobot Create has several built in scripts, mostly to serve the needs of its
                cousin, the iRobot Roomba. The Open Interface provides byte code commands for running
                these. It also has a byte code command for loading a user defined script onto the
                iRobot Create along with a byte code command to start it running. The user defined
                script remains available until the iRobot Create is power cycled.
              </p>
              <p>
                Unlike high level languages, scripts for the iRobot Create have no provision for
                flow of control commands such as if and while, but can use commands to wait for
                an elapsed time, or for a specified distance or angle to be reached, or for an
                event such as a bump (wait commands are not available except within scripts).
              </p>
              <p>Memory for storing a user defined script is limited to 100 bytes.</p>
              <p>
                In this example, a function is used to download a sequence of byte commands to the
                iRobot Create to load a script. The example script is designed to cause the Create
                to move 1/2 meter at 500 mm/sec (uninterruptible). The script definition follows
                the first two bytes sent to the Create (byte command 152, and a byte whose numeric
                value gives the number of bytes that follow). Note that the number of bytes for
                the script is just the count of the <code>create_write_byte</code>
                 function calls
                 used after the first two. See the <a href="http://www.irobot.com/filelibrary/pdfs/hrd/create/Create%20Open%20Interface_v2.pdf">Create Open Interface manual</a> for information on the byte commands.
              </p><a name="CreateScriptExample"></a>
              <pre><code class="language-clike">#define RUN_SCRIPT create_write_byte(153) // macro to run the currently loaded script
void make_drive_script(int dist, int speed) {
   create_write_byte(152);        // specifies start of script definition
   create_write_byte(13);         // specifies number of bytes to follow,(defining the script)
   create_write_byte(137);        // drive command (speed and turn radius in next 4 bytes)
   create_write_byte(speed &gt;&gt; 8); // send speed high byte (bits 8-15 shifted to 0-7)
   create_write_byte(speed);      // send speed low byte
   create_write_byte(128);        // send hex 80
   create_write_byte(0);          // send hex 00 (special case: turn radius hex 8000 or 7FFF is straight)
   create_write_byte(156);        // wait for distance done (in mm)
   create_write_byte(dist &gt;&gt; 8);  // send dist high byte
   create_write_byte(dist);       // send dist low byte
   create_write_byte(137);        // stop move by changing speed and radius to 0
   create_write_byte(0);          // send high byte (0 speed)
   create_write_byte(0);          // send low byte (0 speed)
   create_write_byte(0);          // null turn radius
   create_write_byte(0);          // null turn radius
   // end of script (13 bytes)
}
int main()
{
   // program to load and test the above script
   create_connect();
   set_create_distance(0);
   set_create_total_angle(0);
   make_drive_script(500, 500); // script to move 0.5m at 500 mm/sec
   msleep(500); // give serial connection some time
   RUN_SCRIPT;
   msleep(2000); // allow time for the script to finish (+ some extra)
   printf(&quot;  distance traveled = %d mm\n&quot;, get_create_distance());
   printf(&quot;  angle turned = %d degrees\n&quot;, get_create_total_angle());
   create_disconnect();
}</code></pre>
            </div>
            <!-- Functions Categorized--><a name="FunctionsCategorized"></a>
            <h3>Categorized Function List (cross-linked)</h3> Each function listed is provided with a cross link to its library description.
            <div class="indent"><a name="CategoryBotball"></a>
              <h4>Botball</h4><code>
                <table>
                  <tbody>
                    <tr>
                      <td>
                        <ul>
                          <li>void run_for(double delay, &lt;<em>function_name</em>&gt;);  [<a href="#run_for">Â§</a>]</li>
                          <li>void shut_down_in(double delay);  [<a href="#Botball">Â§</a>]</li>	  &lt;li&gt;&lt;font class="CVariable"&gt;int&lt;/font&gt; target_cha_in_chb(&lt;font class="CVariable"&gt;int&lt;/font&gt; cha, &lt;font class="CVariable"&gt;int&lt;/font&gt; chb, &lt;font class="CVariable"&gt;int&lt;/font&gt; *x, &lt;font class="CVariable"&gt;int&lt;/font&gt; *y)&lt;/li&gt;
                          <li>void wait_for_light(int light_port_);  [<a href="#Botball">Â§</a>]</li>
                        </ul>
                      </td>
                    </tr>
                  </tbody>
                </table></code><a name="CategoryCreate"></a>
              <h4>Create</h4>
              <table>
                <tbody>
                  <tr>
                    <td alignment="top">
                      <ul><b>Serial Interface</b><code>
                          <li>void create_clear_serial_buffer(); [<a href="#create_clear_serial_buffer">Â§</a>]</li>
                          <li>int create_connect(); [<a href="#create_connect">Â§</a>]</li>
                          <li>void  create_disconnect(); [<a href="#create_disconnect">Â§</a>]</li>
                          <li>
                            int create_read_block(
                                                                              char *data,
                                                                              int count); [<a href="#create_read_block">Â§</a>]
                          </li>
                          <li>
                            void create_write_byte(
                                                                              char byte); [<a href="#create_write_byte">Â§</a>]
                          </li>
                          <li>void  create_full(); [<a href="#create_full">Â§</a>]</li>
                          <li>void  create_start(); [<a href="#create_start">Â§</a>]</li>
                          <li>void  create_passive(); [<a href="#create_passive">Â§</a>]</li>
                          <li>void create_safe(); [<a href="#create_safe">Â§</a>]</li>
                          <li>int get_create_mode(); [<a href="#get_create_mode">Â§</a>]</li></code><b>Movement</b><code>
                          <li>
                            void create_drive(
                                                                              int speed,
                                                                              int radius); [<a href="#create_drive">Â§</a>]
                          </li>
                          <li>
                            void create_drive_direct(
                                                                              int r_speed,
                                                                              int l_speed); [<a href="#create_drive_direct">Â§</a>]
                          </li>
                          <li>
                            void create_drive_straight(
                                                                              int speed); [<a href="#create_drive_straight">Â§</a>]
                          </li>
                          <li>
                            void create_spin_CCW(
                                                                              int speed); [<a href="#create_spin_CCW">Â§</a>]
                          </li>
                          <li>
                            void create_spin_CW(
                                                                              int speed); [<a href="#create_spin_CW">Â§</a>]
                          </li>
                          <li>void create_stop(); [<a href="#create_stop">Â§</a>]</li>
                          <li>int get_create_distance(); [<a href="#get_create_distance">Â§</a>]</li>
                          <li>int get_create_normalized_angle(); [<a href="#get_create_normalized_angle">Â§</a>]</li>
                          <li>int get_create_overcurrents(); [<a href="#get_create_overcurrents">Â§</a>]</li>
                          <li>int get_create_requested_left_velocity(); [<a href="#get_create_requested_left_velocity">Â§</a>]</li>
                          <li>int get_create_requested_radius(); [<a href="#get_create_requested_radius">Â§</a>]</li>
                          <li>int get_create_requested_right_velocity(); [<a href="#get_create_requested_right_velocity">Â§</a>]</li>
                          <li>int get_create_requested_velocity(); [<a href="#get_create_requested_velocity">Â§</a>]</li>
                          <li>int get_create_total_angle(); [<a href="#get_create_total_angle">Â§</a>]</li>
                          <li>
                            void set_create_distance(
                                                                              int dist); [<a href="#set_create_distance">Â§</a>]
                          </li>
                          <li>
                            void set_create_normalized_angle(
                                                                              int angle); [<a href="#set_create_normalized_angle">Â§</a>]
                          </li>
                          <li>
                            void set_create_total_angle(
                                                                              int angle); [<a href="#set_create_total_angle">Â§</a>]
                          </li></code><b>Battery</b><code>
                          <li>int get_create_battery_capacity(); [<a href="#get_create_battery_capacity">Â§</a>]</li>
                          <li>int get_create_battery_charge(); [<a href="#get_create_battery_charge">Â§</a>]</li>
                          <li>int get_create_charging_state(); [<a href="#get_create_charging_state">Â§</a>]</li>
                          <li>int get_create_battery_current(); [<a href="#get_create_battery_current">Â§</a>]</li>
                          <li>int get_create_battery_temp(); [<a href="#get_create_battery_temp">Â§</a>]</li>
                          <li>int get_create_battery_voltage(); [<a href="#get_create_battery_voltage">Â§</a>]</li></code></ul>
                    </td>
                    <td>
                      <ul><code></code><b>Sensors</b><code>
                          <li>int get_create_advance_button(); [<a href="#get_create_advance_button">Â§</a>]</li>
                          <li>int get_create_bay_DI(); [<a href="#get_create_bay_DI">Â§</a>]</li>
                          <li>int get_create_bay_AI(); [<a href="#get_create_bay_AI">Â§</a>]</li>
                          <li>int get_create_cwdrop(); [<a href="#get_create_cwdrop">Â§</a>]</li>
                          <li>int get_create_infrared(); [<a href="#get_create_infrared">Â§</a>]</li>
                          <li>int get_create_lbump(); [<a href="#get_create_lbump">Â§</a>]</li>
                          <li>int get_create_lcliff(); [<a href="#get_create_lcliff">Â§</a>]</li>
                          <li>int get_create_lcliff_amt(); [<a href="#get_create_lcliff_amt">Â§</a>]</li>
                          <li>int get_create_lfcliff(); [<a href="#get_create_lfcliff">Â§</a>]</li>
                          <li>int get_create_lfcliff_amt(); [<a href="#get_create_lfcliff_amt">Â§</a>]</li>
                          <li>int get_create_lwdrop(); [<a href="#get_create_lwdrop">Â§</a>]</li>
                          <li>int get_create_number_of_stream_packets(); [<a href="#get_create_number_of_stream_packets">Â§</a>]</li>
                          <li>int get_create_play_button(); [<a href="#get_create_play_button">Â§</a>]</li>
                          <li>int get_create_rbump(); [<a href="#get_create_rbump">Â§</a>]</li>
                          <li>int get_create_rcliff(); [<a href="#get_create_rcliff">Â§</a>]</li>
                          <li>int get_create_rcliff_amt(); [<a href="#get_create_rcliff_amt">Â§</a>]</li>
                          <li>int get_create_rfcliff(); [<a href="#get_create_rfcliff">Â§</a>]</li>
                          <li>int get_create_rfcliff_amt(); [<a href="#get_create_rfcliff_amt">Â§</a>]</li>
                          <li>int get_create_rlwdrop(); [<a href="#get_create_rlwdrop">Â§</a>]</li>
                          <li>int get_create_vwall(); [<a href="#get_create_vwall">Â§</a>]</li>
                          <li>int get_create_wall(); [<a href="#get_create_wall">Â§</a>]</li>
                          <li>int get_create_wall_amt(); [<a href="#get_create_wall_amt">Â§</a>]</li></code><b>Built in Scripts</b><code>
                          <li>void  create_spot(); [<a href="#create_spot">Â§</a>]</li>
                          <li>void  create_cover(); [<a href="#create_cover">Â§</a>]</li>
                          <li>
                            void  create_demo(
                                                                              int  d); [<a href="#create_demo">Â§</a>]
                          </li>
                          <li>void create_cover_dock(); [<a href="#create_cover_dock">Â§</a>]</li></code><b>LEDs and Music</b><code>
                          <li>
                            void create_advance_led(
                                                                              int on); [<a href="#create_advance_led">Â§</a>]
                          </li>
                          <li>int get_create_song_number(); [<a href="#get_create_song_number">Â§</a>]</li>
                          <li>int get_create_song_playing(); [<a href="#get_create_song_playing">Â§</a>]</li>
                          <li>
                            void create_load_song(
                                                                              int num); [<a href="#create_load_song">Â§</a>]
                          </li>
                          <li>
                            void create_play_led(
                                                                              int on); [<a href="#create_play_led">Â§</a>]
                          </li>
                          <li>
                            void create_play_song(
                                                                              int num); [<a href="#create_play_song">Â§</a>]
                          </li>
                          <li>
                            void create_power_led(
                                                                              int color, int brightness); [<a href="#create_power_led">Â§</a>]
                          </li></code></ul>
                    </td>
                  </tr>
                </tbody>
              </table><a name="CategoryGraphics"></a>
              <h4>Graphics</h4>
              <table>
                <tbody>
                  <tr>
                    <td>
                      <ul><code>
                          <li>int graphics_open(int width, int height);  [<a href="#graphics_open">Â§</a>]</li>
                          <li>void graphics_close();  [<a href="#graphics_close">Â§</a>]</li>
                          <li>void graphics_update();  [<a href="#graphics_update">Â§</a>]</li>
                          <li>void graphics_clear();  [<a href="#graphics_clear">Â§</a>]</li>
                          <li>void graphics_fill(int r, int g, int b);  [<a href="#graphics_fill">Â§</a>]</li>
                          <li>void graphics_pixel(int x, int y, int r, int g, int b);  [<a href="graphics_pixel">Â§</a>]</li>
                          <li>void graphics_line(int x1, int y1, int x2, int y2, int r, int g, int b);  [<a href="#graphics_line">Â§</a>]</li>
                          <li>void graphics_circle(int cx, int cy, int radius, int r, int g, int b);  [<a href="#graphics_circle">Â§</a>]</li>
                          <li>void graphics_circle_fill(int cx, int cy, int radius, int r, int g, int b);  [<a href="#graphics_circle_fill">Â§</a>]</li>
                          <li>void graphics_rectangle(int x1, int y1, int x2, int y2, int r, int g, int b);  [<a href="#graphics_rectangle">Â§</a>]</li>
                          <li>void graphics_rectangle_fill(int x1, int y1, int x2, int y2, int r, int g, int b);  [<a href="#graphics_rectangle_fill">Â§</a>]</li>
                          <li>void graphics_triangle(int x1, int y1, int x2, int y2, int x3, int y3, int r, int g, int b);  [<a href="graphics_triangle">Â§</a>]</li>
                          <li>void graphics_triangle_fill(int x1, int y1, int x2, int y2, int x3, int y3, int r, int g, int b);  [<a href="graphics_triangle_fill">Â§</a>]</li>
                          <li>int get_mouse_position(int *x, int *y);  [<a href="#get_mouse_position">Â§</a>]</li>
                          <li>int get_mouse_left_button();  [<a href="#get_mouse_left_button">Â§</a>]</li></code></ul>
                    </td>
                  </tr>
                </tbody>
              </table><a name="CategoryMath"></a>
              <h4>Math</h4>
              <table>
                <tbody>
                  <tr>
                    <td>
                      <ul><code>
                          <li>double atan(double angle);  [<a href="#atan">Â§</a>]</li>
                          <li>double cos(double angle);  [<a href="#cos">Â§</a>]</li>
                          <li>double exp(double num);  [<a href="#exp">Â§</a>]</li>
                          <li>double exp10(double num);  [<a href="#exp10">Â§</a>]</li>
                          <li>double log(double num);  [<a href="#log">Â§</a>]</li>
                          <li>int log10(double num);  [<a href="#log10">Â§</a>]</li>
                          <li>double pow(double x, double y);  [<a href="#pow">Â§</a>]</li>
                          <li>int rand(int m);  [<a href="#rand">Â§</a>]</li>
                          <li>double sin(double angle);  [<a href="#sin">Â§</a>]</li>
                          <li>double sqrt(double num);  [<a href="#sqrt">Â§</a>]</li>
                          <li>void srand(int s);  [<a href="#srand">Â§</a>]</li>
                          <li>double tan(double angle);  [<a href="#tan">Â§</a>]</li></code></ul>
                    </td>
                  </tr>
                </tbody>
              </table><a name="CategoryMotors"></a>
              <h4>Motors</h4>
              <table>
                <tbody>
                  <tr>
                    <td>
                      <ul><code>
                          <li>void alloff();  [<a href="#alloff">Â§</a>]</li>
                          <li>void ao();  [<a href="#ao">Â§</a>]</li>
                          <li>void bk(int m);  [<a href="#bk">Â§</a>]</li>
                          <li>void block_motor_done(int m);  [<a href="#block_motor_done">Â§</a>]</li>
                          <li>void bmd(int m);  [<a href="#bmd">Â§</a>]</li>
                          <li>int get_motor_done(int m);  [<a href="#get_motor_done">Â§</a>]</li>
                          <li>void clear_motor_position_counter(int motor_nbr);  [<a href="#clear_motor_position_counter">Â§</a>]</li>
                          <li>void fd(int m);  [<a href="#fd">Â§</a>]</li>
                          <li>void freeze(int m);  [<a href="#freeze">Â§</a>]</li>
                          <li>int get_motor_done(int m);  [<a href="#get_motor_done">Â§</a>]</li>
                          <li>int get_motor_position_counter(int m);  [<a href="#get_motor_position_counter">Â§</a>]</li>
                          <li>int get_pid_gains(int motor, int p, int i, int d, int pd, int id, int dd);  [<a href="#get_pid_gains">Â§</a>]</li>
                          <li>void mav(int m, int vel);  [<a href="#mav">Â§</a>]</li>
                          <li>void motor(int m, int p);  [<a href="#motor">Â§</a>]</li>
                          <li>void move_at_velocity(int m, int vel);  [<a href="#move_at_velocity">Â§</a>]</li>
                          <li>void move_relative_position(int m, int speed, int pos);  [<a href="#move_relative_position">Â§</a>]</li>
                          <li>void move_to_position(int m, int speed, int pos);  [<a href="#move_to_position">Â§</a>]</li>
                          <li>void mrp(int m, int vel, int pos);  [<a href="#mrp">Â§</a>]</li>
                          <li>void mtp(int m, int vel, int pos);  [<a href="#mtp">Â§</a>]</li>
                          <li>void off(int m);  [<a href="#off">Â§</a>]</li>
                          <li>int set_pid_gains(int motor, int p, int i, int d, int pd, int id, int dd);  [<a href="#set_pid_gains">Â§</a>]</li>
                          <li>int setpwm(int m, int dutycycle);  [<a href="#setpwm">Â§</a>]</li></code></ul>
                    </td>
                  </tr>
                </tbody>
              </table><a name="CategoryOutput"></a>
              <h4>Output</h4>
              <table>
                <tbody>
                  <tr>
                    <td>
                      <ul><code>
                          <li>void beep();  [<a href="#beep">Â§</a>]</li>
                          <li>void console_clear();  [<a href="#console_clear">Â§</a>]</li>
                          <li>void display_clear();  [<a href="#display_clear">Â§</a>]</li>
                          <li>void display_printf(int col, int row, char s[], . . .);  [<a href="#display_printf">Â§</a>]</li>
                          <li>void extra_buttons_show();  [<a href="#extra_buttons_show">Â§</a>]</li>
                          <li>void extra_buttons_hide();  [<a href="#extra_buttons_hide">Â§</a>]</li>
                          <li>void set_a_button_text(char txt[]);  [<a href="#set_a_button_text">Â§</a>]</li>
                          <li>void set_b_button_text(char txt[]);  [<a href="#set_b_button_text">Â§</a>]</li>
                          <li>void set_c_button_text(char txt[]);  [<a href="#set_c_button_text">Â§</a>]</li>
                          <li>void set_digital_output(int port, int inout);  [<a href="#set_digital_output">Â§</a>]</li>
                          <li>void set_digital_value(int port, int value);  [<a href="#set_digital_value">Â§</a>]</li>
                          <li>void set_x_button_text(char txt[]);  [<a href="#set_x_button_text">Â§</a>]</li>
                          <li>void set_y_button_text(char txt[]);  [<a href="#set_y_button_text">Â§</a>]</li>
                          <li>void set_z_button_text(char txt[]);  [<a href="#set_z_button_text">Â§</a>]</li></code></ul>
                    </td>
                  </tr>
                </tbody>
              </table><a name="CategoryThreads"></a>
              <h4>Threads</h4>
              <table>
                <tbody>
                  <tr>
                    <td>
                      <ul><code>
                          <li>thread thread_create(&lt;<em>function_name</em>&gt;);  [<a href="#thread_create">Â§</a>]</li>
                          <li>void thread_destroy(&lt;<em>thread id</em>&gt;&gt;);  [<a href="#thread_destroy">Â§</a>]</li>
                          <li>void thread_start(&lt;<em>thread id</em>&gt;);  [<a href="#thread_start">Â§</a>]</li>
                          <li>void thread_wait(&lt;<em>thread id</em>&gt;);  [<a href="#thread_wait">Â§</a>]</li>
                          <li>void run_for(double sec, void &lt;<em>function_name</em>&gt;);  [<a href="#run_for">Â§</a>]</li></code></ul>
                    </td>
                  </tr>
                </tbody>
              </table><a name="CategorySensors"></a>
              <h4>Sensors</h4>
              <table>
                <tbody>
                  <tr>
                    <td>
                      <ul><code>
                          <li>int a_button();  [<a href="#a_button">Â§</a>]</li>
                          <li>int a_button_clicked();  [<a href="#a_button_clicked">Â§</a>]</li>
                          <li>int accel_x();  [<a href="#accel_x">Â§</a>]</li>
                          <li>int accel_y();  [<a href="#accel_y">Â§</a>]</li>
                          <li>int accel_z();  [<a href="#accel_z">Â§</a>]</li>
                          <li>int analog(int p);  [<a href="#analog">Â§</a>]</li>
                          <li>int analog_et(int p);  [<a href="#analog_et">Â§</a>]</li>
                          <li>int analog8(int p);  [<a href="#analog8">Â§</a>]</li>
                          <li>int analog10(int p);  [<a href="#analog10">Â§</a>]</li>
                          <li>int any_button();  [<a href="#any_button">Â§</a>]</li>
                          <li>int b_button();  [<a href="#b_button">Â§</a>]</li>
                          <li>int b_button_clicked();  [<a href="#b_button_clicked">Â§</a>]</li>
                          <li>int c_button();  [<a href="#c_button">Â§</a>]</li>
                          <li>int c_button_clicked();  [<a href="#c_button_clicked">Â§</a>]</li>
                          <li>int digital(int p);  [<a href="#digital">Â§</a>]</li>
                          <li>int get_analog_pullup(int port);  [<a href="#get_analog_pullup">Â§</a>]</li>
                          <li>int get_digital_pullup(int port);  [<a href="#get_digital_pullup">Â§</a>]</li>
                          <li>double power_level();  [<a href="#power_level">Â§</a>]</li>
                          <li>int get_extra_buttons_visible();  [<a href="#get_extra_buttons_visible">Â§</a>]</li>
                          <li>void set_analog_pullup(int port, int pullupTF);  [<a href="#set_analog_pullup">Â§</a>]</li>
                          <li>void set_digital_pullup(int port, int pullupTF);  [<a href="#set_digital_pullup">Â§</a>]</li>
                          <li>int side_button();  [<a href="#side_button">Â§</a>]</li>
                          <li>int side_button_clicked();  [<a href="#side_button_clicked">Â§</a>]</li>
                          <li>int x_button();  [<a href="#x_button">Â§</a>]</li>
                          <li>int x_button_clicked();  [<a href="#x_button_clicked">Â§</a>]</li>
                          <li>int y_button();  [<a href="#y_button">Â§</a>]</li>
                          <li>int y_button_clicked();  [<a href="#y_button_clicked">Â§</a>]</li>
                          <li>int z_button();  [<a href="#z_button">Â§</a>]</li>
                          <li>int z_button_clicked();  [<a href="#z_button_clicked">Â§</a>]</li></code></ul>
                    </td>
                  </tr>
                </tbody>
              </table><a name="CategoryServos"></a>
              <h4>Servos</h4>
              <table>
                <tbody>
                  <tr>
                    <td>
                      <ul><code>
                          <li>void disable_servo(int p);  [<a href="#disable_servo">Â§</a>]</li>
                          <li>void disable_servos();  [<a href="#disable_servos">Â§</a>]</li>
                          <li>void enable_servo(int p);  [<a href="#enable_servo">Â§</a>]</li>
                          <li>void enable_servos();  [<a href="#enable_servos">Â§</a>]</li>
                          <li>int get_servo_enabled(int srv);  [<a href="#get_servo_enabled">Â§</a>]</li>
                          <li>int get_servo_position(int srv);  [<a href="#get_servo_position">Â§</a>]</li>
                          <li>int set_servo_position(int srv, int pos);  [<a href="#set_servo_position">Â§</a>]</li></code></ul>
                    </td>
                  </tr>
                </tbody>
              </table><a name="CategoryTime"></a>
              <h4>Time</h4>
              <table>
                <tbody>
                  <tr>
                    <td>
                      <ul><code>
                          <li>void msleep(int msec);  [<a href="#msleep">Â§</a>]</li>
                          <li>double seconds();  [<a href="#seconds">Â§</a>]</li></code></ul>
                    </td>
                  </tr>
                </tbody>
              </table><a name="CategoryVision"></a>
              <h4>Vision</h4>
              <table>
                <tbody>
                  <tr>
                    <td>
                      <ul><code>
                          <li>void camera_close();  [<a href="#camera_close">Â§</a>]</li>
                          <li>int camera_load_config(char name[]);   [<a href="#camera_load_config">Â§</a>]</li>
                          <li>int camera_open();  [<a href="#camera_open">Â§</a>]</li>
                          <li>int camera_open_at_res(int res_numb);  [<a href="#camera_open_at_res">Â§</a>]</li>
                          <li>int camera_open_device(int number, int res_numb);  [<a href="#camera_open_device">Â§</a>]</li>
                          <li>int camera_update();  [<a href="#camera_update">Â§</a>]</li>
                          <li>int get_channel_count();  [<a href="#get_channel_count">Â§</a>]</li>
                          <li>int get_object_area(int channel, int object);  [<a href="#get_object_area">Â§</a>]</li>
                          <li>rectangle get_object_bbox(int channel, int object);  [<a href="#get_object_bbox">Â§</a>]</li>
                          <li>point2 get_object_center(int channel, int object);  [<a href="#get_object_center">Â§</a>]</li>
                          <li>point2 get_object_centroid(int channel, int object);  [<a href="#get_object_centroid">Â§</a>]</li>
                          <li>int get_code_num(int channel, int object);  [<a href="#get_code_num">Â§</a>]</li>
                          <li>double get_object_confidence(int channel, int object);  [<a href="#get_object_confidence">Â§</a>]</li>
                          <li>int get_object_count(int channel);  [<a href="#get_object_count">Â§</a>]</li>
                          <li>char *get_object_data(int channel, int object);  [<a href="#get_object_data">Â§</a>]</li>
                          <li>int get_object_data_length(int channel, int object);  [<a href="#get_object_data_length">Â§</a>]</li></code></ul>
                    </td>
                  </tr>
                </tbody>
              </table><a name="CategoryDepth"></a>
              <h4>Depth</h4>
              <table>
                <tbody>
                  <tr>
                    <td>
                      <ul><code>
                          <li>void depth_close();  [<a href="#depth_close">Â§</a>]</li>
                          <li>int depth_open();  [<a href="#depth_open">Â§</a>]</li>
                          <li>int depth_update();  [<a href="#depth_update">Â§</a>]</li>
                          <li>int get_depth_value(int row, int col);  [<a href="#get_depth_value">Â§</a>]</li>
                          <li>point3 get_depth_world_point(int row, int col);  [<a href="#get_depth_world_point">Â§</a>]</li>
                          <li>int get_depth_world_point_x(int row, int col);  [<a href="#get_depth_world_point_x">Â§</a>]</li>
                          <li>int get_depth_world_point_y(int row, int col);  [<a href="#get_depth_world_point_y">Â§</a>]</li>
                          <li>int get_depth_world_point_z(int row, int col);  [<a href="#get_depth_world_point_z">Â§</a>]</li></code></ul>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <!-- Botball--><a name="Botball"></a>
            <h3>Botball</h3>
            <p>
              Three functions are included in the KIPR Robot Controller Library to assist programmers
              in writing programs that meet the basic requirements for a Botball game:
            </p>
            <ul>
              <li><code>wait_for_light(&lt;</code><i>port_num</i><code>&gt;)</code>
                , a function for
                 ensuring the robot doesn't begin operating until the starting light comes on.
              </li>
              <li><code>shut_down_in(&lt;</code><i>time</i><code>&gt;)</code>
                , a function which ensures
                 the robot stops operating within the time limits for a Botball game.
              </li>
              <li><code>run_for(&lt;</code><i>time</i><code>&gt;, &lt;</code><i>func_name</i><code>&gt;)</code>
                ,
                 which is used to start a function, but not allow it to run beyond a specified
                 time.
              </li>
            </ul>
            <p>For the typical Botball program, the first executable statement will be</p>
            <div class="Indent"><code>wait_for_light(&lt;</code><i>port_num</i><code>&gt;);</code></div>
            <p>If there are any other set up routines being used, then usually <code>wait_for_light</code> will immediately follow them. <code>wait_for_light</code>
               takes the robot operator
               through a process of using the starting light to set calibration values for the
               IR light sensor plugged into the specified port. The purpose is to set two values,
               one to check the sensor reading with light off and the other with light on. The
               difference between the two values has to be large enough for the sensor to determine
               if the light is off or on. If the sensor is suitably shielded and is positioned
               so that a successful calibration is achieved, <code>wait_for_light</code>
               calls
               for "hands off" and blocks further execution until the light is turned on. When
               "light on" is detected by the sensor, the program resumes and runs the robot according
               to program design. If problems occur in the calibration process, the user is notifited
               and the process repeats after a brief pause.
            </p> The first statement in a Botball programm following <code>wait_for_light</code>
             is
             usually a call to the Botball function
            <div class="Indent"><code>shut_down_in(&lt;</code><i>time</i><code>&gt;);</code></div>
            <p>
              which will shutdown all motors and the Create module (if being used) once the specified
              time has expired, then terminate the program.
            </p>
            <p>In contrast to completely killing the program using <code>shut_down_in</code>
              , when
               program design requires performing some activity after the robot has completed its
               primary task, the function
            </p>
            <div class="Indent"><code>run_for(&lt;</code><i>time</i><code>&gt;, &lt;</code><i>func_name</i><code>&gt;);</code></div>
            <p>
              can be used to execute the specified function, halting it once the specified time has
              elapsed (an action that occurs only if the function is still running). The basic
              idea is to separate the primary task out of <code>main</code>
               and write it as a function
               so it can be run using <code>run_for</code>
              . One simple instance where this is useful
               is at game end when a servo needs to remain on to maintain its position. The necessary
               command can be executed after using <code>run_for</code>
               to run the primary task.
               This approach puts the burden back on the programmer to make sure all other servo
               activity is halted and all drive motors and the Create module are stopped within
               the game's time limit.
            </p>
            <!--
            &lt;p&gt; The function &lt;/p&gt;
            &lt;div class="Indent"&gt; &lt;code&gt;target_cha_in_chb(&lt;&lt;/code&gt;cha &lt;code&gt;&gt;, &lt;&lt;/code&gt;chb &lt;code&gt;&gt;, &lt;*&lt;/code&gt;x &lt;code&gt;&gt;, &lt;*&lt;/code&gt;y &lt;code&gt;&gt;);&lt;/code&gt;&lt;/div&gt;
            &lt;p&gt;uses the vision system to look for a color target where the color described in the color channel a is completely
            surrounded by the color described by the color channel b. The addresses of to two integer variables, x & y, are also passed. If a suitable target is found in the current frame (this function does NOT perform a track_update() call) then the function returns 1 and the contents of the two variables x and y are changed to match the image pixel location of the centroid of the color blob associated with the inside of the target. If no target with the right colors is in view, then 0 is returned and x and y are not modified. If more than one target is in view, the one with the larger inner blob (as seen by the camera) is the one whose coordinates are returned. An example of use, where the inner color is on channel 3 and the outer on 2, might be:&lt;/p&gt;
            &lt;div class="Indent"&gt; &lt;code&gt;&lt;font class="CVariable"&gt;int&lt;/font&gt; x, y;&lt;br&gt;
            &lt;font class="CVariable"&gt;if&lt;/font&gt; (target_cha_in_chb(3,2,&x,&y)==1) printf(&lt;font class="Quote"&gt;"Target found at (%d,%d)\n"&lt;/font&gt;, x, y);&lt;/code&gt;&lt;/div&gt;
            -->
            <p>The library functions for Botball are:</p>
            <table style="background-color: #f0f0f0;">
              <tr>
                <td><br>
                  <div class="Indent"><code><a name="run_forx"></a>run_for(&lt;</code><i>time</i><code>&gt;, &lt;</code><i>function_name</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        Runs the specified function and tracks its execution until either the function
                        finishes or the specified number of seconds has elapsed. If the specified
                        number of seconds has elapsed, <code>run_for</code>
                         terminates execution
                         for the function.
                      </dd>
                    </dl><code><a name="shut_down_inx"></a>shut_down_in(&lt;</code><i>time</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        Starts a timing routine that will end program execution, turn off all motors,
                        and issue a stop command to the Create when the specified amount of time
                        has elapsed.
                      </dd>
                    </dl>
                    <!--
                    no longer in code library
                    &lt;code&gt;&lt;a name="target_cha_in_chbx"&gt;&lt;/a&gt;target_cha_in_chb(&lt;cha&lt;/code&gt;&gt;, &lt;chb &lt;code&gt;&gt;, &lt;*&lt;/code&gt;x &lt;code&gt;&gt;, lt;*&lt;/code&gt;y &lt;code&gt;&gt;);&lt;/code&gt;
                    &lt;dl&gt;&lt;dd&gt;Looks for a target consisting of a color blob on a color background, where the channel number for the inner color is &lt;code&gt;cha&lt;/code&gt; and for the surrounding surrounding background is &lt;code&gt;chb&lt;/code&gt;. If the target is found then the function returns 1, otherwise 0. If a target is found then the contents of the variables pointed to by x and y are changed to the center coordinate of the inner blob.
                    &lt;/dd&gt;&lt;/dl&gt;
                    --><code><a name="wait_for_lightx"></a>wait_for_light(&lt;</code><i>port</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        Steps the user through a calibration procedure to establish on/off light
                        levels for a sensor plugged in the specified port. If calibration does
                        not provide enough discrimination between light off and light on, the program
                        cycles for another try. If there is enough discrimination, after "light
                        off", the program blocks continued execution of the function until "light
                        on", at which point execution resumes. <code>wait_for_light</code>
                         is normally
                         placed at the beginning of a program designed to operate a robot, so that
                         after calibration, when the light comes on the robot will start autonomously.
                      </dd>
                    </dl>
                  </div>
                </td>
              </tr>
            </table>
            <div class="Indent">
              <h4>Example program for the KIPR Robot Controller using a Botball program format</h4><a name="BotballFormat"></a>
              <pre><code class="language-clike">int main()
{
   double s;
   int i;
   /* Botball calibration: determine if light sensor can discriminate between light and dark */
   wait_for_light(3);  // light sensor in analog port 3
   /* Botball timing: limit is 120 seconds; e.g., shut_down_in(119.5); */
   shut_down_in(10.5); // stop execution once 10.5 seconds have elapsed
   /* Botball program logic would be next ... the stuff below is just to keep the program running for awhile */
   display_clear(); // clear display for display_printf
   s=seconds(); // system on time at start of run
   for(i=0; i&lt;15; i++) {
      display_printf(1,1,&quot;%d. time elapsed = %.2f     &quot;, i, seconds()-s);
      msleep(1000); // sleep for a second
   }
   display_printf(1,3,&quot;done&quot;);
}</code></pre>
            </div>
            <!-- Threads--><a name="Threads"></a>
            <h3>Threads</h3>
            <p>
              The term thread is short for the phrase "thread of execution", and represents a sequence
              of instructions to be managed by the system as it schedules processing time among
              running processes. On a single processor machine, like the KIPR Robot Controller,
              the instructions running in separate threads appear to be operating in parallel.
              Each thread, once started, will continue until its process finishes or until it is
              forcibly terminated by another process using the <code>thread_destroy</code>
               function.
               Each active thread gets a small amount of time in turn until all of its statements
               have been executed or it is forcibly terminated. If a thread's process cannot complete
               all of its statements before its turn is over, it is paused temporarily for the next
               thread to gets its share of time. This continues until all the active threads have
               gotten their slice of time and then thread processing repeats. The KIPR Robot Controller's
               processor is fast enough so that from the user's viewpoint it appears that all of
               the active processes are running in parallel.
            </p>
            <p>
              Functions running in threads can communicate with one another by reading and modifying
              global variables. The global variables can be used as semaphores so that one process
              can signal another when it is not in a section of code that might cause a conflict.
              Process IDs may also be stored in global variables of type
              thread so that one process can destroy another one's thread if that is necessary
              program logic (think in terms of a process that is in an indefinite loop monitoring
              sensors, so it will never finish otherwise).
            </p>
            <p>
              Since the operating system limits how many threads can be created, it is inadvisable
              to create threads in a loop. Good thread management is to destroy a thread rather
              than leaving it hanging around once it is no longer being used. Threads not destroyed
              by program end may still count against the operating system limit when the program
              is run again (unless of course the system has been rebooted). This may result in
              a program which for no observable reason ceases to work properly. It is up to the
              program to keep track of a thread it creates, and there are no means (short of rebooting)
              to destroy a thread after the fact.
            </p>
            <p>The library functions for controlling threads are:</p>
            <table style="background-color: #f0f0f0;">
              <tr>
                <td><br>
                  <div class="Indent"><code><a name="thread_createx"></a>thread_create(&lt;</code><i>function_name</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        Creates a thread for running the specified function and returns a value of
                        type
                        thread, which is the thread ID to be used for running the thread
                        as an independent process.
                      </dd>
                    </dl><code><a name="thread_destroyx"></a>thread_destroy(&lt;</code><i>thread_id</i><code>&gt;);</code>
                    <dl>
                      <dd>
                        Deactivates the specified thread if it is active (stopping its associated
                        function) and destroys its thread ID.
                      </dd>
                    </dl><code><a name="thread_startx"></a>thread_start(&lt;</code><i>thread_id</i><code>&gt;);</code>
                    <dl>
                      <dd>Activates the specified thread by running its associated process in the thread.</dd>
                    </dl><code><a name="thread_waitx"></a>thread_wait(&lt;</code><i>thread_id</i><code>&gt;);</code>
                    <dl>
                      <dd>Suspends execution of the function that calls <code>thread_wait</code>
                         while
                         the specified thread remains active. It's purpose is to synchronize threads
                         by suspending further execution of a function until the selected active
                         threads have finished.
                      </dd>
                    </dl>
                  </div>
                </td>
              </tr>
            </table>
            <div class="Indent">
              <h4>Example program for the KIPR Robot Controller using threads</h4>
              <p>
                This example illustrates how to detect a button press even it occurs while the main
                process is paused.
              </p>
              <pre><code class="language-clike">int flag=0; // global flag to signal when side button pressed
void chksens() {
   while (1) {
      if (side_button()) flag = 1;
      msleep(100); // check side button every 1/10th second
   }
}
 main() {
   int cnt = 0;
   thread tid; // thread variable for holding thread id
   tid = thread_create(chksens); // create a thread for chksens
   thread_start(tid); // start chksens running in its thread
   while (flag == 0) { // button press during sleep is still caught
      display_printf(1,2,&quot;elapsed time %d   &quot;,++cnt);
      msleep(1000);
   }
   thread_destroy(tid); // remove the thread
   display_printf(0,4,&quot;done&quot;);
}</code></pre>
            </div>
            <!-- KIPR Robot Controller Images--><a name="LinkImages"></a>
            <h2>KIPR Robot Controller Images</h2>
            <div class="Indent">
              <!-- digital and analog sensors--><a name="LinkSensors"></a>
              <h3>Analog and Digital Sensor Images</h3>
              <p>
                The image below is the front of the KIPR Robot Controller showing where the analog
                and digital sensor ports are located.
              </p>
              <!-- &lt;img class="center" src="/imgs/docs/Link_sensor_ports.gif" width="70%"&gt;&lt;/img&gt;-->
              <p class="center"><br>Examples of digital and analog sensors used with the KIPR Robot Controller</p>
              <table class="centerTable" border="1" cellpadding="5" cellspacing="0">
                <tbody>
                  <tr>
                    <td align="center" valign="center"><a href="#light_sensor"><br><img border="0" src="/imgs/docs/LightSensor.gif" width="60%"><br> IR light sensor<br></a> (analog)</td>
                    <td align="center" valign="center"><a href="#reflectance_sensors"><img border="0" src="/imgs/docs/Reflectance_sensors.gif" width="60%"><br> IR reflectance sensors<br></a> (analog)</td>
                    <td align="center" valign="center"><a href="#ET_sensor"><img border="0" src="/imgs/docs/ET.gif" width="60%"><br> IR "E.T." Distance Sensor<br></a> (floating analog)</td>
                  </tr>
                  <tr>
                    <td align="center" colspan="2" valign="center"><a href="#touch_sensors"><br><img border="0" src="/imgs/docs/TouchSensors.gif"><br> Touch Sensors<br></a> (digital)</td>
                    <td align="center" valign="center"><a href="#break_beam_sensor"><br><img border="0" src="/imgs/docs/BreakBeam.gif"><br> IR "Break Beam" Sensor<br></a> (digital)</td>
                  </tr>
                  <tr>
                    <td align="center" valign="center"><a href="#analog_slider"><br><img border="0" src="/imgs/docs/AnalogSlider.gif"><br> Slider sensor<br></a> (analog)</td>
                    <td align="center" valign="center"><a href="#analog_pot"><br><img border="0" src="/imgs/docs/AnalogPot.gif"><br> Potentiometer (Pot) Sensor<br></a> (analog)</td>
                    <td align="center" valign="center"><a href="#sensors"><br><img border="0" height="120" src="/imgs/docs/sonar.jpg" width="60"><br> Ultrasonic rangefinder (SONAR)</a></td>
                  </tr>
                </tbody>
              </table>
              <!-- light_sensor-->
              <div class="Indent"><a name="light_sensor"></a>
                <h4>Infrared light sensor (analog)</h4><img border="0" src="/imgs/docs/LightSensor.gif" width="40%"><br>
                <ul>
                  <li>Analog sensor</li>
                  <li>Connect to ports 0-7</li>
                  <li>Access with function <code><a href="#analog">analog</a>(&lt;</code><i>port#</i><code>&gt;) </code></li>
                  <li>Low values indicate lots of Infrared</li>
                  <li>High values indicate low Infrared</li>
                  <li>
                    Sensor is somewhat directional and can be made more so using an opaque tube or Lego
                    to block out extraneous light. Sensor can be attenuated by placing paper in front.
                  </li>
                </ul>
                <!-- Reflectance Sensors--><a name="reflectance_sensors"></a>
                <h4>Infrared large and small reflectance sensors (analog)</h4><img border="0" src="/imgs/docs/Reflectance_sensors.gif" width="30%"><br>
                <ul>
                  <li>Analog sensor</li>
                  <li>Connect to ports 0-7</li>
                  <li>Access with function <code><a href="#analog">analog</a>(&lt;</code><i>port#</i><code>&gt;);</code></li>
                  <li>
                    Values measure IR reflection from a surface, allowing a robot to detect surface features
                    such as a black tape line
                  </li>
                  <li>
                    Dark surfaces produce high readings (low IR reflectivity) and light surfaces produce
                    low readings (high IR reflectivity)
                  </li>
                  <li>
                    Proximity of sensor to surface affects the difference in readings, so can be used
                    to detect drop-offs
                  </li>
                  <li>Sensor has a reflectance range of about 3 inches</li>
                </ul>
                <!-- ET_sensor--><a name="ET_sensor"></a>
                <h4>Infrared "E.T." Distance Sensor (floating analog)</h4><img border="0" src="/imgs/docs/ET.gif"><br>
                <ul>
                  <li>
                    Floating analog sensor (pullup resistor for port must be disabled for readings to
                    be meaningful)
                  </li>
                  <li>Connect to port 0-7</li>
                  <li>Access with function <code><a href="#analog">analog_et</a>(&lt;</code><i>port#</i><code>&gt;)</code>;</li>
                  <li>Low values indicate large distance</li>
                  <li>High values indicate distance approaching ~4 inches</li>
                  <li>
                    Range is 4-30 inches. Result is approximately 1/(d)^2. Objects closer than 4 inches
                    will have the same readings as those far away.
                  </li>
                  <li>Sharp Electronics part number GP2D12</li>
                  <li>
                    Sensor shines a narrow infrared beam, and measures the angle of the beam return using
                    a position-sensitive detector (PSD):
                  </li>
                </ul>
                <!-- touch_sensor--><a name="touch_sensors"></a>
                <h4>Touch sensors (digital)</h4><img border="0" src="/imgs/docs/TouchSensors.gif"><br>
                <ul>
                  <li>Digital switch sensors</li>
                  <li>Connect to ports 8-15</li>
                  <li>Access with function <code><a href="#digital">digital</a>(&lt;</code><i>port#</i><code>&gt;);</code></li>
                  <li>1 indicates switch is closed</li>
                  <li>0 indicates switch is open</li>
                  <li>These make good bumpers and can be used for limit switches on an actuator</li>
                </ul>
                <!-- break_beam_sensor--><a name="break_beam_sensor"></a>
                <h4>Infrared "Break Beam" Sensor (digital)</h4><img border="0" src="/imgs/docs/image010.gif"><br>
                <ul>
                  <li>Digital sensor</li>
                  <li>Connect to ports 8-15</li>
                  <li>Access with function <code><a href="#digital">digital</a>(&lt;</code><i>port#</i><code>&gt;)</code></li>
                  <li>1 indicates slot is empty</li>
                  <li>0 indicates slot is blocked</li>
                  <li>
                    Can be used for alignment; e.g., a winch with a pin which when blocking the slot
                    indicates alignment is reached
                  </li>
                  <li>
                    Can also be used for encoders, where the edge of a wheel with holes around its perimeter
                    passes through the slot, alternately breaking the beam
                  </li>
                </ul>
                <!-- sonar_sensor-->
                <!--
                &lt;a name="sonar_sensor"&gt;&lt;/a&gt;
                &lt;h4&gt;Sonar (Ultrasonic Rangefinder)&lt;/h4&gt;
                &lt;img border="0" height="180" width="90" src="/imgs/docs/sonar.jpg"&gt;
                &lt;br&gt;
                &lt;ul&gt;
                &lt;li&gt;Timed analog sensor. Sends a "ping" of high-pitched sound and listens for an echo&lt;/li&gt;
                &lt;li&gt;Connect to ports 0-7&lt;/li&gt;
                &lt;li&gt;Access with function &lt;font class="CFunction"&gt;&lt;a href="#analog"&gt;analog&lt;/a&gt;&lt;/font&gt;(&lt;port#&gt;) &lt;/li&gt;
                &lt;li&gt;Returned value is distance in inches to closest object in field of view&lt;/li&gt;
                &lt;li&gt;Range is approximately 10-250 inches&lt;/li&gt;
                &lt;li&gt;When first powered up, make sure there is nothing within 24
                inches (60cm) so sonar can self calibrate.
                &lt;li&gt;The sonar field of view is an approximately 30 degree teardrop:&lt;/li&gt;
                &lt;/ul&gt;
                --><a name="analog_slider"></a>
                <h4>Analog slider</h4><img border="0" height="66" src="/imgs/docs/AnalogSlider.gif" width="200"><br>
                <ul>
                  <li>Analog sensor</li>
                  <li>Connect to ports 0-7</li>
                  <li>Access with function <code><a href="#analog">analog</a>(&lt;</code><i>port#</i><code>&gt;);</code></li>
                  <li>Values range from 0 to 2047</li>
                </ul><a name="analog_pot"></a>
                <h4>Analog pot (potentiometer)</h4><img border="0" height="128" src="/imgs/docs/AnalogPot.gif" width="100"><br>
                <ul>
                  <li>Analog sensor</li>
                  <li>Connect to ports 0-7</li>
                  <li>Access with function <code><a href="#analog">analog</a>(&lt;</code><i>port#</i><code>&gt;);</code></li>
                  <li>Values range from 0 to 2047</li>
                </ul>
              </div>
              <!-- USB Sensors--><br><a name="USB_sensors"></a>
              <h3>USB Sensor Images</h3>
              <p>USB sensors plug into one of the two USB2 ports on the back of the KIPR Robot Controller</p>
              <!-- &lt;img class="center" src="/imgs/docs/Link_back_view_txt.gif" width="80%"&gt;&lt;/img&gt;-->
              <p>Specialized function libraries are provided for </p>
              <ul>
                <li>Vision (for use with a USB web camera)</li>
                <li>Depth analysis (for use with an ASUS Xtion)</li>
              </ul>
              <table class="centerTable">
                <tbody>
                  <tr>
                    <td>
                      <!-- &lt;img class="center" src="/imgs/docs/webcam.gif" width="50%"&gt;&lt;/img&gt;--><br>
                      <p class="center">A web camera used with KIPR Robot Controller<br> (see the <a href="#CategoryVision">Vision Function List</a>)</p>
                    </td>
                    <td>
                      <!-- &lt;img class="center" src="/imgs/docs/XtionDepth.gif" width="50%"&gt;&lt;/img&gt;--><br>
                      <p class="center">ASUS Xtion used with KIPR Robot Controller<br> (see the <a href="#CategoryVision">Depth Function List</a>)</p>
                    </td>
                  </tr>
                </tbody>
              </table>
              <!-- DC Motors--><br><a name="DC_motor"></a>
              <h3>DC Motor Images</h3>
              <p>
                The image below is the front of the KIPR Robot Controller showing where the DC motor
                ports are located.
              </p>
              <!-- &lt;img class="center" src="/imgs/docs/Link_motor_ports.gif" width="80%"&gt;&lt;/img&gt;-->
              <table class="centerTable">
                <tbody>
                  <tr>
                    <td>
                      <!-- &lt;img class="center" src="/imgs/docs/DC_motor.gif" width="30%"&gt;&lt;/img&gt;--><br>
                      <p class="center">Example DC motor used with the KIPR Robot Controller<br>
                         (modified servo - potentiometer
                         removed and wiring with two prong plug installed).<br><br>
                         DC motors are controlled
                         using the KIPR Robot Controller <a href="#CategoryMotors">motor functions.</a>
                      </p>
                    </td>
                  </tr>
                </tbody>
              </table>
              <!-- Servos--><br><br><a name="Servos"></a>
              <h3>Servo Images</h3>
              <p>
                The image below is the front of the KIPR Robot Controller showing where the servo ports
                are located.
              </p>
              <!-- &lt;img class="center" src="/imgs/docs/Link_servo_ports.gif" width="80%"&gt;&lt;/img&gt;-->
              <p class="center"><br>Example servo motors used with the KIPR Robot Controller<br>
                 (hobbyist servo - used
                 as packaged by manufacturer)
              </p>
              <table class="centerTable">
                <tbody>
                  <tr>
                    <td>
                      <!-- &lt;img class="center" src="/imgs/docs/ServoMotors.gif" width=75%&gt;&lt;/img&gt;-->
                      <p class="center">Servo motors</p>
                    </td>
                    <td>
                      <!-- &lt;img class="center" src="/imgs/docs/ServoMotorPlug.gif" width=50%&gt;&lt;/img&gt;-->
                      <p class="center">Servo motor plug</p>
                    </td>
                  </tr>
                </tbody>
              </table>
              <table class="centerTable">
                <tbody>
                  <tr>
                    <td colspan="2"><br>Servos are controlled by using the KIPR Robot Controller <a href="#CategoryServos">servo functions</a>.</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <!-- Simulator--><a name="Simulator"></a>
            <h3>KIPR Robot Controller Simulator</h3>
            <p>
              When the KIPR Software Suite is installed, in addition to the KISS IDE, a graphical simulator
              is installed which can be selected as a target for a project being developed using
              the KISS IDE. The simulator provides a simulated robot and a stylized operating environment
              for the robot, including a simulated (Botball style) starting light. For motors and
              sensors incorporated into the simulated robot, side panels show motor and sensor response
              values. A representation of the KIPR Robot Controller console screen is also provided
              for display output. The simulated robot can be arbitrarily positioned in its environment
              using keyboard entry and mouse functions, including turning the simulated light on/off.
            </p>
            <p>
              The simulator provides an effective means for trying out functions in the KIPR Robot
              Controller Library and for testing small examples when learning how to use a library
              function. More fundamentally, it provides a user friendly means for obtaining visual
              feedback for those who are learning to program in C.
            </p>
            <p>
              Perhaps most importantly, the simulator provides means for testing KIPR Robot Controller
              program code before downloading a project to a KIPR Robot Controller, speeding up the
              process of obtaining a working program for a KIPR Robot Controller controlled robot.
              No simulator can anticipate every variation a real robot might encounter in performing
              its mission, but in general, simulation serves to limit the amount of program tweaking
              required to attain acceptable performance on the actual robot.
            </p><a name="Running_a_Project"></a>
            <h4>Running a Project</h4>
            <p>
              If a program's action does not involve the KIPR Robot Controller Library functions, its
              target can be "My Computer". When KIPR Robot Controller Library functions are being
              used, the target needs to be "My KIPR Robot Controller Simulator" or an attached KIPR
              Robot Controller. If no KIPR Robot Controller is attached, the simulator can be used
              to see what a program does.
            </p>
            <ul>
              <li>If the project is the only project open in the IDE, it is automatically the <i>active project.</i></li>
              <li>
                If there is more than one project open in the IDE, clicking on the project name in
                the side panel will make it the active project.
              </li>
              <li>Clicking on either the <i>Compile</i> or the <i>Run</i>
                 button in the IDE will send
                 the active project to the target for compilation, launching the simulator if it is
                 the selected target (and not already running). If there are any compilation errors
                 they are reported back to the IDE to be displayed in its results panel. If the <i>Run</i>
                 button was used in the IDE, the target will also run the project. For the Simulator,
                 the names of projects loaded into the Simulator will be displayed in a side panel
                 (analogous to the <i>Programs</i> listing on the KIPR Robot Controller).
              </li>
            </ul>
            <table>
              <tr>
                <td>
                  <!-- &lt;img class="center" src="/imgs/docs/SimulatorRun.jpg" width=80%&gt;&lt;/img&gt;-->
                  <p class="center">For executing a project already loaded in the Simulator</p>
                </td>
              </tr>
            </table>
            <p>When the target for the active project is the simulator</p>
            <ul>
              <li>Clicking <i>Run</i>
                 in the IDE saves, loads, compiles, and runs the active project
                 in the simulator.
              </li>
              <li>Clicking <i>Compile</i>
                 in the IDE saves, loads, and compiles the active project in
                 the simulator.
                <ul>
                  <li>
                    Compiling allows you to position the robot and the light on the simulator game
                    board before the program is run.
                  </li>
                  <li>
                    Unless you are using a custom board, compiling allows you to change the board the
                    robot runs on to one of the alternative default boards.
                  </li>
                  <li>
                    Compiled projects are listed in the side panel and can be run by highlighting the
                    name and clicking <i>Run</i> in the simulator.
                  </li>
                </ul>
              </li>
            </ul><a name="Configuring_Simulator"></a>
            <h4>Configuring the Simulator Starting Light, Robot, and Game Board</h4>
            <ol>
              <li>Positioning and using the light
                <ul>
                  <li>The light is positioned by clicking on the light and dragging it.</li>
                  <li>Double clicking on the light toggles it on/off.</li>
                </ul>
              </li>
              <li>Positioning the robot
                <ul>
                  <li>The robot is positioned by clicking on the robot and dragging it.</li>
                  <li>
                    You can turn the robot by holding down the shift key while clicking on the nose
                    of the robot, using it as a handle for turning.
                  </li>
                  <li>You can then run your project by highlighting its name and clicking <i>Run</i></li>
                </ul>
              </li>
              <li>Selecting a game board
                <ul>
                  <li>You can either
                    <ul>
                      <li>provide a custom board for your project (See IDE <i>Help</i>
                         for information
                         on configuring a custom board)
                      </li>
                    </ul> or
                    <ul>
                      <li>select one of the default boards under the SimulatorÂ’s <i>Select Board</i> tab</li>
                    </ul>
                  </li>
                  <li>
                    If you have a custom board file in your project, the Simulator will not let you
                    change to one of its default boards
                  </li>
                  <li>The <i>Select Board</i> tab brings up a <i>Board Selection</i>
                     window with the
                     currently available default game boards you can select from among
                  </li>
                </ul>
              </li>
            </ol>
            <table>
              <tr>
                <td>
                  <!-- &lt;img class="center" src="/imgs/docs/SimulatorBoard.jpg" width=80%&gt;&lt;/img&gt;-->
                </td>
              </tr>
            </table><br>
            <!-- START FOOTER-->
          </div>
        </div>
      </div>
    </main>
  </body>
</html>